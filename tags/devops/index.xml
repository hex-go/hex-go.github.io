<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:media="http://search.yahoo.com/mrss/"><channel><title>Devops on Hex Blog</title><link>https://hex-go.github.io/tags/devops/</link><description>Recent content in Devops on Hex Blog</description><generator>Hugo -- gohugo.io</generator><language>zh</language><managingEditor>hex-py@gmail.com (Hex)</managingEditor><webMaster>hex-py@gmail.com (Hex)</webMaster><copyright>©2024, All Rights Reserved</copyright><lastBuildDate>Tue, 10 Sep 2024 09:16:33 +0000</lastBuildDate><atom:link href="https://hex-go.github.io/tags/devops/index.xml" rel="self" type="application/rss+xml"/><item><title>Jenkins-Pipeline脚本易错汇总</title><link>https://hex-go.github.io/posts/devops/2024-09-10-jenkins-pipeline%E8%84%9A%E6%9C%AC/</link><pubDate>Tue, 10 Sep 2024 09:16:33 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Tue, 10 Sep 2024 09:16:33 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2024-09-10-jenkins-pipeline%E8%84%9A%E6%9C%AC/</guid><description>问题 脚本中无法使用重定向，报错Bash: Syntax error: redirection unexpected。是因为ubuntu系统默认的shell为dash而非bash, dash不</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Jenkins</category><category>Pipeline</category><category>Devops</category></item><item><title>Jenkins连接k8s的5s超时问题</title><link>https://hex-go.github.io/posts/devops/2024-09-10-jenkins-jenkins%E8%BF%9E%E6%8E%A5k8s%E7%9A%845s%E8%B6%85%E6%97%B6%E9%97%AE%E9%A2%98/</link><pubDate>Tue, 10 Sep 2024 09:16:33 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Tue, 10 Sep 2024 09:16:33 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2024-09-10-jenkins-jenkins%E8%BF%9E%E6%8E%A5k8s%E7%9A%845s%E8%B6%85%E6%97%B6%E9%97%AE%E9%A2%98/</guid><description>问题 k8s客户端请求排队等待 构建执行失败时出现网络套接字异常，例如 1 Interrupted while waiting for websocket connection, you should increase the Max connections to Kubernetes API 1 2 Timed out waiting for websocket connection. You should increase the value of system property org.csanchez.jenkins.plugins.kubernetes.pipeline.ContainerExecDecorator.websocketConnectionTimeout currently set at &amp;lt;currentTimeout&amp;gt;</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Jenkins</category><category>Devops</category></item><item><title>mkcert-本地、局域网自签证书解决https访问问题</title><link>https://hex-go.github.io/posts/devops/2024-03-14-mkcert-%E6%9C%AC%E5%9C%B0%E5%92%8C%E5%B1%80%E5%9F%9F%E7%BD%91%E8%87%AA%E7%AD%BE%E8%AF%81%E4%B9%A6%E8%A7%A3%E5%86%B3https%E8%AE%BF%E9%97%AE%E9%97%AE%E9%A2%98/</link><pubDate>Thu, 14 Mar 2024 09:16:33 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Thu, 14 Mar 2024 09:16:33 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2024-03-14-mkcert-%E6%9C%AC%E5%9C%B0%E5%92%8C%E5%B1%80%E5%9F%9F%E7%BD%91%E8%87%AA%E7%AD%BE%E8%AF%81%E4%B9%A6%E8%A7%A3%E5%86%B3https%E8%AE%BF%E9%97%AE%E9%97%AE%E9%A2%98/</guid><description>重要 开发或者局域网内部服务，有时候需要模拟 https 环境。使用来自真实证书颁发机构 (CA) 的证书进行开发存在私钥泄露的风险，而且不对公网暴露的服务，也没必</description><dc:creator>Hex</dc:creator><category>Devops</category><category>证书</category><category>PKI</category><category>Mkcert</category><category>Devops</category><category>PKI相关</category></item><item><title>Docker易错集锦-1: Dockerfile的ENTRYPOINT中的环境变量无法替换</title><link>https://hex-go.github.io/posts/devops/2023-11-02-docker%E6%98%93%E9%94%99%E9%9B%86%E9%94%A6-1_dockerfile%E7%9A%84entrypoint%E4%B8%AD%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/</link><pubDate>Thu, 02 Nov 2023 14:11:15 +0800</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Thu, 02 Nov 2023 14:11:15 +0800</atom:modified><guid>https://hex-go.github.io/posts/devops/2023-11-02-docker%E6%98%93%E9%94%99%E9%9B%86%E9%94%A6-1_dockerfile%E7%9A%84entrypoint%E4%B8%AD%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/</guid><description>1.问题描述 开发同事编写Dockerfile时遇到问题，ENTRYPOINT [&amp;quot;java&amp;quot;, &amp;quot;$JAVA_OPTS&amp;quot;, &amp;quot;-jar&amp;quot;, &amp;quot;/app.jar&amp;quot;]无法实现变量替换</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Devops</category></item><item><title>FeatMap-UserStory地图服务配置和搭建</title><link>https://hex-go.github.io/posts/devops/2022-03-25-featmap-userstory%E5%9C%B0%E5%9B%BE%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E5%92%8C%E6%90%AD%E5%BB%BA/</link><pubDate>Fri, 25 Mar 2022 02:17:47 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Fri, 25 Mar 2022 02:17:47 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2022-03-25-featmap-userstory%E5%9C%B0%E5%9B%BE%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E5%92%8C%E6%90%AD%E5%BB%BA/</guid><description>重要 Featmap是一个用户故事映射工具，用于构建，计划和传达产品积压。 Featmap Picture 环境说明 服务依赖 Postgresql 个人部署记录 安装 目录结构 1 2 3 4 5 6 7 8 9 10 11</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Featmap</category><category>Dockerfile</category><category>Chart</category><category>Devops</category></item><item><title>Keycloak-配置gatekeeper保护没有认证授权的应用功能</title><link>https://hex-go.github.io/posts/devops/2021-01-25-keycloak-%E9%85%8D%E7%BD%AEgatekeeper%E4%BF%9D%E6%8A%A4%E6%B2%A1%E6%9C%89%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83%E7%9A%84%E5%BA%94%E7%94%A8%E5%8A%9F%E8%83%BD/</link><pubDate>Mon, 25 Jan 2021 08:46:16 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Mon, 25 Jan 2021 08:46:16 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2021-01-25-keycloak-%E9%85%8D%E7%BD%AEgatekeeper%E4%BF%9D%E6%8A%A4%E6%B2%A1%E6%9C%89%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83%E7%9A%84%E5%BA%94%E7%94%A8%E5%8A%9F%E8%83%BD/</guid><description>重要 虽然louketo-proxy停止开发，转向oauth2proxy。但由于oauth2proxy功能太弱。不适用此场景。继续选用louk</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Devops</category></item><item><title>Git--中文名乱码导致cloc统计代码量出错</title><link>https://hex-go.github.io/posts/devops/2021-01-22-git--%E4%B8%AD%E6%96%87%E5%90%8D%E4%B9%B1%E7%A0%81%E5%AF%BC%E8%87%B4cloc%E7%BB%9F%E8%AE%A1%E4%BB%A3%E7%A0%81%E9%87%8F%E5%87%BA%E9%94%99/</link><pubDate>Fri, 22 Jan 2021 10:21:18 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Fri, 22 Jan 2021 10:21:18 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2021-01-22-git--%E4%B8%AD%E6%96%87%E5%90%8D%E4%B9%B1%E7%A0%81%E5%AF%BC%E8%87%B4cloc%E7%BB%9F%E8%AE%A1%E4%BB%A3%E7%A0%81%E9%87%8F%E5%87%BA%E9%94%99/</guid><description>重要 由于领导想通过代码量衡量外包的工作量，需要每周提供当前周的代码增量。 规程中遇到以下问题： 使用什么工具，cloc 如何统计最近一周代码增量 解</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Cloc</category><category>Git</category><category>Date</category><category>Devops</category></item><item><title>DevOps-trivy-镜像扫描汇总</title><link>https://hex-go.github.io/posts/devops/2020-11-06-devops-trivy-%E9%95%9C%E5%83%8F%E6%89%AB%E6%8F%8F%E6%B1%87%E6%80%BB/</link><pubDate>Fri, 06 Nov 2020 06:26:40 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Fri, 06 Nov 2020 06:26:40 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-11-06-devops-trivy-%E9%95%9C%E5%83%8F%E6%89%AB%E6%8F%8F%E6%B1%87%E6%80%BB/</guid><description>重要 trivy用来扫描镜像的安全漏洞。如果用于生产环境，需要将漏洞库离线，安全人员将镜像的基础镜像或者buildpack的stack进行升级</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Devops</category></item><item><title>PKI-自签发证书说明</title><link>https://hex-go.github.io/posts/devops/2020-07-08-pki-%E8%87%AA%E7%AD%BE%E5%8F%91%E8%AF%81%E4%B9%A6%E8%AF%B4%E6%98%8E/</link><pubDate>Wed, 08 Jul 2020 09:16:33 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Wed, 08 Jul 2020 09:16:33 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-07-08-pki-%E8%87%AA%E7%AD%BE%E5%8F%91%E8%AF%81%E4%B9%A6%E8%AF%B4%E6%98%8E/</guid><description>重要 生成自签发证书 生成CA根证书以及根证书私钥. output: ca.crt和 ca.key, pem格式. input '' 1 2 3 4 5 # Generate a CA private key openssl genrsa -out ca.key 4096 # Create a self signed Certificate, valid for 10yrs with the &amp;#39;signing&amp;#39; option</description><dc:creator>Hex</dc:creator><category>Devops</category><category>证书</category><category>PKI</category><category>Devops</category><category>PKI相关</category></item><item><title>Docker-Dockerfile的最佳实践</title><link>https://hex-go.github.io/posts/devops/2020-05-29-docker-dockerfile%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</link><pubDate>Fri, 29 May 2020 09:36:32 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Fri, 29 May 2020 09:36:32 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-05-29-docker-dockerfile%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</guid><description>重要 1. 概念说明 构建Context说明 执行docker build命令时，当前工作目录称为构建上下文。默认情况下，dockerfile也在当前目</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Docker</category><category>Dockerfile</category><category>Devops</category></item><item><title>禁止使用Alpine作为Python的基础镜像构建</title><link>https://hex-go.github.io/posts/devops/2020-05-29-docker-%E7%A6%81%E6%AD%A2%E4%BD%BF%E7%94%A8alpine%E4%BD%9C%E4%B8%BApython%E7%9A%84%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA/</link><pubDate>Fri, 29 May 2020 09:36:32 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Fri, 29 May 2020 09:36:32 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-05-29-docker-%E7%A6%81%E6%AD%A2%E4%BD%BF%E7%94%A8alpine%E4%BD%9C%E4%B8%BApython%E7%9A%84%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA/</guid><description>重要 在为 Docker 镜像选择基础镜像时，通常会推荐使用 Alpine Linux。使用 Alpine 会让镜像体积更小，并加快构建速度。如果编程语言是Go，这个是合理的。 但如果编</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Docker</category><category>Dockerfile</category><category>Devops</category></item><item><title>jenkins-pipeline-lib使用</title><link>https://hex-go.github.io/posts/devops/2020-01-09-jenkins-pipeline-lib%E4%BD%BF%E7%94%A8/</link><pubDate>Thu, 09 Jan 2020 09:27:16 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Thu, 09 Jan 2020 09:27:16 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-01-09-jenkins-pipeline-lib%E4%BD%BF%E7%94%A8/</guid><description>重要 定义共享库 目录结构 1 2 3 4 5 6 7 8 9 10 11 12 (root) +- src # Groovy source files | +- org | +- foo | +- Bar.groovy # for org.foo.Bar class +- vars | +- foo.groovy # for global &amp;#39;foo&amp;#39; variable | +- foo.txt # help for &amp;#39;foo&amp;#39; variable +- resources # resource files (external libraries only) |</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Jenkins</category><category>JenkinsFile</category><category>Pipeline</category><category>Devops</category></item><item><title>LDAP部署手册</title><link>https://hex-go.github.io/posts/devops/2020-01-08-ldap%E9%83%A8%E7%BD%B2%E6%89%8B%E5%86%8C/</link><pubDate>Wed, 08 Jan 2020 03:38:10 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Wed, 08 Jan 2020 03:38:10 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-01-08-ldap%E9%83%A8%E7%BD%B2%E6%89%8B%E5%86%8C/</guid><description>重点 DN 是一条LDAP记录项的名字，并作为唯一标识。可以理解成uuid，具体格式像： &amp;ldquo;cn=admin,dc=service,dc=corp&amp;rdquo; 1.概念 LDAP：Lightweight Directory Access Protoc</description><dc:creator>Hex</dc:creator><category>Devops</category><category>LDAP</category><category>Deployment</category><category>Devops</category></item><item><title>Drone-Pipeline使用举例</title><link>https://hex-go.github.io/posts/devops/2020-01-07-drone-pipeline%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</link><pubDate>Tue, 07 Jan 2020 08:48:41 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Tue, 07 Jan 2020 08:48:41 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-01-07-drone-pipeline%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</guid><description>重点 如果使用multi-pipeline， 则在---之后不能跟注释。而且multi-pipeline之间的无法共通数据，每个新的pipeli</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Drone</category><category>Pipeline</category><category>Dockerfile</category><category>Devops</category></item><item><title>Jenkins-Pipeline使用举例</title><link>https://hex-go.github.io/posts/devops/2020-01-07-jenkins-pipeline%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</link><pubDate>Tue, 07 Jan 2020 08:48:13 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Tue, 07 Jan 2020 08:48:13 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-01-07-jenkins-pipeline%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B/</guid><description>重点 能在DockerFile中做的，比如多阶段构建，就在Dockerfile中做。不能在Jenkinsfile中做太多特例化的事情，否则不好</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Jenkins</category><category>Pipeline</category><category>Devops</category></item><item><title>Gogs集成LDAP</title><link>https://hex-go.github.io/posts/devops/2020-01-06-gogs%E9%9B%86%E6%88%90ldap/</link><pubDate>Mon, 06 Jan 2020 10:52:50 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Mon, 06 Jan 2020 10:52:50 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-01-06-gogs%E9%9B%86%E6%88%90ldap/</guid><description>重要 Gogs 支持 本地认证+LDAP认证 模式。 Gogs 要求LDAP中的DN必须具备mail属性。 配置 使用安装时配置的管理帐号登陆gogs系统，点击头像进入</description><dc:creator>Hex</dc:creator><category>Devops</category><category>LDAP</category><category>Gogs</category><category>Devops</category></item><item><title>jenkins集成LDAP</title><link>https://hex-go.github.io/posts/devops/2020-01-06-jenkins%E9%9B%86%E6%88%90ldap/</link><pubDate>Mon, 06 Jan 2020 10:52:28 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Mon, 06 Jan 2020 10:52:28 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-01-06-jenkins%E9%9B%86%E6%88%90ldap/</guid><description>重要 ldap创建两个groupjenkins-admin和jenkins-manager。并分别将用户admin， operator各自分配到</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Jenkins</category><category>LDAP</category><category>Devops</category></item><item><title>GitHub-drone-dockercompose</title><link>https://hex-go.github.io/posts/devops/2020-01-06-github-drone-dockercompose/</link><pubDate>Mon, 06 Jan 2020 02:20:58 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Mon, 06 Jan 2020 02:20:58 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2020-01-06-github-drone-dockercompose/</guid><description>申请Github OAuth Application Github OAuth Application是为了授权Drone Server读取Github信息。 参考连接 部署drone+mysql+ng</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Drone</category><category>CI/CD</category><category>Deployment</category><category>Docker</category><category>Devops</category></item><item><title>提供健全的私仓服务-Nexus</title><link>https://hex-go.github.io/posts/persistence/2020-01-03-%E6%8F%90%E4%BE%9B%E5%81%A5%E5%85%A8%E7%9A%84%E7%A7%81%E4%BB%93%E6%9C%8D%E5%8A%A1-nexus/</link><pubDate>Fri, 03 Jan 2020 06:53:00 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Fri, 03 Jan 2020 06:53:00 +0000</atom:modified><guid>https://hex-go.github.io/posts/persistence/2020-01-03-%E6%8F%90%E4%BE%9B%E5%81%A5%E5%85%A8%E7%9A%84%E7%A7%81%E4%BB%93%E6%9C%8D%E5%8A%A1-nexus/</guid><description>写在前面 最重要的事: 可以提供java\node\python\docker-image\chart的仓储服务，但对镜像仓库的支持不足，不如h</description><dc:creator>Hex</dc:creator><category>Persistence</category><category>Devops</category><category>Nexus</category><category>Persistence</category></item><item><title>基于Jenkins、gitlab、docker、helm和Kubernetes的CI/CD</title><link>https://hex-go.github.io/posts/devops/2019-12-31-%E5%9F%BA%E4%BA%8Ejenkinsgitlabdockerhelm%E5%92%8Ckubernetes%E7%9A%84ci-cd/</link><pubDate>Tue, 31 Dec 2019 07:05:19 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Tue, 31 Dec 2019 07:05:19 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2019-12-31-%E5%9F%BA%E4%BA%8Ejenkinsgitlabdockerhelm%E5%92%8Ckubernetes%E7%9A%84ci-cd/</guid><description>重要 提前说明 开发人员提交代码到 Gitlab 代码仓库 通过 Gitlab 配置的 Jenkins Webhook 触发 Pipeline 自动构建 Jenkins 触发构建构建任务，根据 Pipeline 脚本定义分步骤构建 先进行代码静态分析，单元测</description><dc:creator>Hex</dc:creator><category>Devops</category><category>Jenkins</category><category>JenkinsFile</category><category>Gitlab</category><category>Kubernetes</category><category>Docker</category><category>Devops</category></item><item><title>gogs-drone-dockercompose</title><link>https://hex-go.github.io/posts/devops/2019-12-30-gogs-drone-dockercompose/</link><pubDate>Mon, 30 Dec 2019 11:44:00 +0000</pubDate><author>hex-py@gmail.com (Hex)</author><atom:modified>Mon, 30 Dec 2019 11:44:00 +0000</atom:modified><guid>https://hex-go.github.io/posts/devops/2019-12-30-gogs-drone-dockercompose/</guid><description>重要 Drone登录的账号需要在Gogs设置为管理员，他俩兄弟的账密是互通的 Gogs的仓库会自动同步到Drone上，此时，需要在Drone开启</description><dc:creator>Hex</dc:creator><category>Devops</category><category>CI/CD</category><category>Drone</category><category>Gogs</category><category>Docker</category><category>Devops</category></item></channel></rss>