<!doctype html><html lang=zh dir=ltr><head prefix="og: http://ogp.me/ns#"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Linuxé¢è¯•-137é¢è¯•é¢˜ â€“ Hex Blog</title><script defer src=/js/fuse.min.32195737929df2c8096e855a5789cbb3f1331224d9169e8705493e7008f47df8.js></script>
<script src=/js/enquire.min.dfb99dee1e029d51d6cfb672d847929890b1585402de17f5ed092edd72a688b4.js></script>
<script defer src=/js/lazysizes.min.fb649fcae62177dfe63e67081ddceb830b5ce1f05a4184e9bbb7d87ac4b8f4e5.js></script>
<script defer src=/js/helper/getParents.min.086022fb02d7a1517e33c2670bffb976b3e80bcacd9caeee0c6a586064f20e42.js></script>
<script defer src=/js/helper/fadeinout.min.3ce954c8aea3b69cc5e6f734d8273ba4cd48d3a7987dbdca145849bc4b8fc296.js></script>
<script defer src=/js/helper/closest.min.js></script>
<script>"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return t===void 0&&(t=0),this.indexOf(e,t)!==-1}),Document.prototype.append=Element.prototype.append=function(){this.appendChild(_mutation(arguments))};function _mutation(e){if(!e.length)throw new Error("DOM Exception 8");if(e.length===1)return typeof e[0]=="string"?document.createTextNode(e[0]):e[0];for(var t,n=document.createDocumentFragment(),o=e.length,s=-1;++s<o;)t=e[s],n.appendChild(typeof t=="string"?document.createTextNode(t):t);return n}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),document.addEventListener("DOMContentLoaded",function(){var e,t,n,s,o,i,a,r,c,l,d,u,h,m,f,g,v,b,j,y,_,w,O,x,C,E,k,A,S,M,T,z,D,N,L,R,P,H,I,B,V,$,W,U,K,q,Y,G,X,Q,F=document.querySelector(".navbar__burger"),ce,le,ue,ie,fe,me,he,de,re,ae,oe,se,be,ve,ge;F?F.addEventListener("click",function(){var n,t=document.querySelector(".navbarm__collapse");t&&(n=t.getAttribute("data-open"),n==="true"?(t.setAttribute("data-open","false"),t.style.maxHeight=0,F.classList.remove("is-active")):(t.setAttribute("data-open","true"),t.style.maxHeight=t.scrollHeight+"px",F.classList.add("is-active")))}):null,V=document.querySelectorAll(".single__contents > table");for(let e=0;e<V.length;e++)E=V[e],A=document.createElement("div"),A.className="table-wrapper",E.parentElement.replaceChild(A,E),A.appendChild(E);L=document.querySelectorAll(".footnote-ref"),I=document.querySelectorAll(".footnote-backref"),L?L.forEach(function(e){e.onmouseenter=function(){t.classList.contains("scrolling")&&t.classList.remove("scrolling")},e.onmouseleave=function(){t.classList.contains("scrolling")||setTimeout(function(){t.classList.add("scrolling")},100)},e.onclick=function(){t.classList.contains("scrolling")||(t.classList.remove("navbar--show"),t.classList.remove("navbar--hide"),t.classList.add("navbar--hide"))}}):null,I?I.forEach(function(e){e.onmouseenter=function(){t.classList.contains("scrolling")&&t.classList.remove("scrolling")},e.onmouseleave=function(){t.classList.contains("scrolling")||setTimeout(function(){t.classList.add("scrolling")},100)},e.onclick=function(){t.classList.contains("scrolling")||(t.classList.remove("navbar--show"),t.classList.remove("navbar--hide"),t.classList.add("navbar--hide"))}}):null,s=document.querySelector(".summary__container"),o=document.querySelector(".search-result"),B=document.querySelector(".search-result__close"),B?B.addEventListener("click",function(){o.setAttribute("data-display","none"),s.setAttribute("data-display","block")}):null,document.querySelectorAll(".tab")?document.querySelectorAll(".tab").forEach(function(e){var o=e.getAttribute("id"),i=e,n=e.querySelectorAll(".tab__link"),s=e.querySelectorAll(".tab__content"),a=[];n&&n.length>0?n.forEach(function(e,t,n){e.onclick=function(){for(var o=0;o<n.length;o++)t===parseInt(o,10)?n[o].classList.contains("active")||(n[o].classList.add("active"),s[o].style.display="block"):(n[o].classList.remove("active"),s[o].style.display="none")}}):null}):null,document.querySelectorAll(".codetab")?document.querySelectorAll(".codetab").forEach(function(e){var o=e.getAttribute("id"),i=e,n=e.querySelectorAll(".codetab__link"),s=e.querySelectorAll(".codetab__content"),a=[];n&&n.length>0?n.forEach(function(e,t,n){e.onclick=function(){for(var o=0;o<n.length;o++)t===parseInt(o,10)?n[o].classList.contains("active")||(n[o].classList.add("active"),s[o].style.display="block"):(n[o].classList.remove("active"),s[o].style.display="none")}}):null}):null,b=document.getElementById("gtt"),b.style.display="none",b.addEventListener("click",function(){window.document.documentMode?document.documentElement.scrollTop=0:je(250)});function je(e){var t=-window.scrollY/(e/15),n=setInterval(function(){window.scrollY!=0?window.scrollBy(0,t):clearInterval(n)},15)}ce=function(){document.body.scrollTop>250||document.documentElement.scrollTop>250?b.style.display="block":b.style.display="none"},P=document.querySelectorAll(".expand__button");for(let e=0;e<P.length;e++)P[e].addEventListener("click",function(){var e=this.nextElementSibling;e.style.maxHeight?(e.style.maxHeight=null,this.querySelector("svg").classList.add("expand-icon__right"),this.querySelector("svg").classList.remove("expand-icon__down")):(e.style.maxHeight=e.scrollHeight+"px",this.querySelector("svg").classList.remove("expand-icon__right"),this.querySelector("svg").classList.add("expand-icon__down"))});q=window.pageYOffset||document.documentElement.scrollTop,m=document.querySelector(".toc"),a=m?m.querySelector("#TableOfContents"):null,x=document.getElementById("toggle-toc"),d=document.querySelector(".single__contents"),t=document.querySelector(".navbar"),j=document.querySelector(".toc__flexbox"),v=document.querySelector(".toc__flexbox--outer"),K=document.querySelectorAll(".expand__content"),$=document.querySelectorAll(".box"),i=null,k=JSON.parse("false"),r=JSON.parse('["h2","h3","h4"]'),r?r=r.toString():r="h1, h2, h3, h4, h5, h6",d&&d.querySelectorAll(".tab")?d.querySelectorAll(".tab").forEach(function(e){e.querySelectorAll(r).forEach(function(e){i=Array.isArray(i)?i.concat(e.getAttribute("id")):[e.getAttribute("id")]})}):null,K?K.forEach(function(e){e.querySelectorAll(r).forEach(function(e){i=Array.isArray(i)?i.concat(e.getAttribute("id")):[e.getAttribute("id")]})}):null,$?$.forEach(function(e){e.querySelectorAll(r).forEach(function(e){i=Array.isArray(i)?i.concat(e.getAttribute("id")):[e.getAttribute("id")]})}):null,window.onscroll=function(){ce();var e=window.pageYOffset||document.documentElement.scrollTop;if(e>q){if(e<250?b.style.display="none":b.style.display="block",e<45)return null;t.classList.contains("scrolling")&&(t.classList.contains("navbar--hide")?t.classList.contains("navbar--show")&&t.classList.remove("navbar--show"):t.classList.add("navbar--hide")),d&&(d.querySelectorAll(r).length>0?d.querySelectorAll(r).forEach(function(e){if(x&&!x.checked)return null;if(i&&i.includes(e.getAttribute("id")))return null;if(document.documentElement.scrollTop>=e.offsetTop&&a){var t,n=e.getAttribute("id");m.querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),m.querySelector('a[href="#'+n+'"]')?m.querySelector('a[href="#'+n+'"]').classList.add("active"):null,!1===k||(a.querySelectorAll("ul")?a.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})}):null),t=a.querySelector("[href='#"+n+"']"),t&&t.nextElementSibling&&(t.nextElementSibling.style.display="block"),getParents(t,"ul")?getParents(t,"ul").forEach(function(e){e.style.display="block"}):null}}):(j&&(j.setAttribute("data-position",""),j.classList.contains("hide")||j.classList.add("hide")),v&&(v.setAttribute("data-position",""),v.classList.contains("hide")||v.classList.add("hide"))))}else e<250&&(b.style.display="none"),t.classList.contains("scrolling")&&(t.classList.contains("navbar--hide")?t.classList.remove("navbar--hide"):t.classList.contains("navbar--show")||t.classList.add("navbar--show")),d&&(d.querySelectorAll(r).length>0?d.querySelectorAll(r).forEach(function(e){if(x&&!x.checked)return null;if(i&&i.includes(e.getAttribute("id")))return null;if(document.documentElement.scrollTop>=e.offsetTop&&a){var t,n=e.getAttribute("id");m.querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),m.querySelector('a[href="#'+n+'"]')?m.querySelector('a[href="#'+n+'"]').classList.add("active"):null,!1===k||(a.querySelectorAll("ul")?a.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})}):null),t=a.querySelector("[href='#"+n+"']"),t&&t.nextElementSibling&&(t.nextElementSibling.style.display="block"),getParents(t,"ul")?getParents(t,"ul").forEach(function(e){e.style.display="block"}):null}}):(j&&!j.classList.contains("hide")&&j.classList.add("hide"),v&&!v.classList.contains("hide")&&v.classList.add("hide"))),a&&document.documentElement.scrollTop<250&&(!1===k||(a.querySelector("ul")?a.querySelector("ul").querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})}):null));q=e<=0?0:e},S=localStorage.getItem("theme"),M=document.getElementById("root"),le=document.querySelectorAll(".select-theme"),C=document.querySelectorAll(".select-theme__item"),ue=JSON.parse('"æ·±è‰²æ¨¡å¼"'),ie=JSON.parse('"æµ…è‰²æ¨¡å¼"'),fe=JSON.parse('"hacker"'),me=JSON.parse('"æŠ¤çœ¼æ¨¡å¼"'),he=JSON.parse('"kimbie"'),T=function(e){var t=document.getElementsByName("msapplication-TileColor")[0],n=document.getElementsByName("theme-color")[0],s=document.getElementsByName("msapplication-navbutton-color")[0],o=document.getElementsByName("apple-mobile-web-app-status-bar-style")[0];e.includes("dark")?(t.setAttribute("content","#fcfcfa"),n.setAttribute("content","#403E41"),s.setAttribute("content","#403E41"),o.setAttribute("content","#403E41")):e.includes("light")?(t.setAttribute("content","#555"),n.setAttribute("content","#eee"),s.setAttribute("content","#eee"),o.setAttribute("content","#eee")):e.includes("hacker")?(t.setAttribute("content","#e3cd26"),n.setAttribute("content","#252526"),s.setAttribute("content","#252526"),o.setAttribute("content","#252526")):e.includes("solarized")?(t.setAttribute("content","#d3af86"),n.setAttribute("content","#51412c"),s.setAttribute("content","#51412c"),o.setAttribute("content","#51412c")):e.includes("kimbie")&&(t.setAttribute("content","#586e75"),n.setAttribute("content","#eee8d5"),s.setAttribute("content","#eee8d5"),o.setAttribute("content","#eee8d5"))},de=function(e){if(e===ue)return"dark";if(e===ie)return"light";if(e===fe)return"hacker";if(e===me)return"solarized";if(e===he)return"kimbie"},S?(C?C.forEach(function(e){e.text.trim()===S?e.classList.add("is-active"):e.classList.remove("is-active")}):null,T(S)):T(M.className),C?C.forEach(function(e){e.addEventListener("click",function(e){var n,s,t=de(e.target.text.trim());localStorage.setItem("theme",t),T(t),M.removeAttribute("class"),M.classList.add("theme__"+t),le.forEach(function(e){e.querySelectorAll("a").forEach(function(e){e.classList&&(e.text.trim()===t?e.classList.contains("is-active")||e.classList.add("is-active"):e.classList.contains("is-active")&&e.classList.remove("is-active"))})}),window.mermaid&&(t==="dark"||t==="hacker"?(mermaid.initialize({theme:"dark"}),location.reload()):(mermaid.initialize({theme:"default"}),location.reload())),n=document.getElementById("utterances"),n&&n.querySelector("iframe").contentWindow.postMessage({type:"set-theme",theme:t==="dark"||t==="hacker"?"photon-dark":t==="kimbie"?"github-dark-orange":"github-light"},"https://utteranc.es"),s=document.querySelectorAll(".twitter-timeline"),s&&window.postMessage({type:"set-twitter-theme",theme:t==="light"||t==="solarized"?"light":"dark"})})}):null,re=JSON.parse('"https://hex-go.github.io/"'),X=JSON.parse('"https://hex-go.github.io/posts/interview/2024-04-09-linux%E9%9D%A2%E8%AF%95-137%E9%9D%A2%E8%AF%95%E9%A2%98/"'),ae=JSON.parse('""'),l=null,c=null,n=null,Q=JSON.parse("true"),W=JSON.parse("100"),U=JSON.parse("0.4"),oe=JSON.parse("true"),_=JSON.parse("true"),Y=JSON.parse('"main"'),G=JSON.parse('"posts"'),se=JSON.parse('"page"'),O=null,Q&&function(){var t=new XMLHttpRequest;G==="publication"&&se!=="page"?t.open("GET",X+"index.json"):t.open("GET",re+ae+"/index.json"),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.onload=function(){t.status===200?(O=new Fuse(JSON.parse(t.response.toString("utf-8")),{keys:G.includes("publication")?["title","abstract"]:oe?["title","description","content"]:["title","description"],includeMatches:_,shouldSort:!0,threshold:U||.4,location:0,distance:W||100,maxPatternLength:32,minMatchCharLength:1,isCaseSensitive:!1,findAllMatches:!1,useExtendedSearch:!1}),window.fuse=O):console.error("["+t.status+"]Error:",t.statusText)},t.send()}();function _e(e,t){var n,s,o=document.createElement("li");o.className="search-result__item",n=document.createElement("a"),n.innerHTML=t.item.title,n.setAttribute("class","search-result__item--title"),n.setAttribute("href",t.item.uri),s=document.createElement("div"),s.setAttribute("class","search-result__item--desc"),t.item.description?s.innerHTML=t.item.description:t.item.content&&(s.innerHTML=t.item.content.substring(0,225)),o.appendChild(n),o.appendChild(s),e.appendChild(o)}function ye(e,t){var n,s,o,i=document.createElement("li");if(i.className="search-result__item",n=null,o=document.createElement("a"),o.innerHTML=t.item.title,o.setAttribute("class","search-result__item--title"),o.setAttribute("href",t.item.uri),t.matches&&t.matches.length){for(s=0;s<t.matches.length;s++)"title"===t.matches[s].key&&(o=document.createElement("a"),o.innerHTML=p(t.matches[s].value,t.matches[s].indices),o.setAttribute("class","search-result__item--title"),o.setAttribute("href",t.item.uri)),"description"===t.matches[s].key?(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=p(t.item.description,t.matches[s].indices)):"content"===t.matches[s].key?n||(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=p(t.item.content.substring(0,150),t.matches[s].indices)):t.item.description?(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=t.item.description):(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=t.item.content.substring(0,150));i.appendChild(o),n&&i.appendChild(n),i&&e.appendChild(i)}}function ee(e,t){l=document.getElementById("search-results"),c=document.getElementById("search-menu"),l.setAttribute("class","dropdown is-active");var s,n=document.createElement("ul");for(n.setAttribute("class","dropdown-content search-content"),t.length?t.forEach(function(e){var t,o,i=document.createElement("li"),s=document.createElement("a");s.setAttribute("href",e.uri),s.setAttribute("class","dropdown-item"),s.appendChild(i),o=document.createElement("div"),o.innerHTML=e.title,o.setAttribute("class","menu-item__title"),t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),e.description?t.innerHTML=e.description:e.content&&(t.innerHTML=e.content.substring(0,150)),i.appendChild(o),i.appendChild(t),n.appendChild(s)}):(s=document.createElement("li"),s.setAttribute("class","dropdown-item"),s.innerText="No results found",n.appendChild(s));c.hasChildNodes();)c.removeChild(c.lastChild);c.appendChild(n)}function te(e,t){l=document.getElementById("search-results"),c=document.getElementById("search-menu"),l.setAttribute("class","dropdown is-active");var s,n=document.createElement("ul");for(n.setAttribute("class","dropdown-content search-content"),t.length?t.forEach(function(e){var s,o,a=document.createElement("li"),i=document.createElement("a"),t=null;if(i.setAttribute("href",e.item.uri),i.setAttribute("class","dropdown-item"),i.appendChild(a),o=document.createElement("div"),o.innerHTML=e.item.title,o.setAttribute("class","menu-item__title"),e.matches&&e.matches.length){for(s=0;s<e.matches.length;s++)"title"===e.matches[s].key&&(o.innerHTML=p(e.matches[s].value,e.matches[s].indices)),"description"===e.matches[s].key?(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=p(e.item.description,e.matches[s].indices)):"content"===e.matches[s].key?t||(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=p(e.item.content.substring(0,150),e.matches[s].indices)):e.item.description?(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=e.item.description):(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=e.item.content.substring(0,150));a.appendChild(o),t&&a.appendChild(t),n.appendChild(i)}}):(s=document.createElement("li"),s.setAttribute("class","dropdown-item"),s.innerText="No results found",n.appendChild(s));c.hasChildNodes();)c.removeChild(c.lastChild);c.appendChild(n)}function ne(e,t){l=document.getElementById("search-mobile-results");var o,n=document.createElement("div");n.setAttribute("class","mobile-search__content"),t.length>0?t.forEach(function(e){var t=document.createElement("a");t.setAttribute("href",e.uri),t.innerHTML='<div class="mobile-search__item"><div class="mobile-search__item--title">ğŸ“„ '+e.title+'</div><div class="mobile-search__item--desc">'+(e.description?e.description:e.content)+"</div></div>",n.appendChild(t)}):(o=document.createElement("span"),n.appendChild(o));let s=document.getElementById("search-mobile-results");for(;s.firstChild;)s.removeChild(s.firstChild);l.appendChild(n)}function pe(e,t){l=document.getElementById("search-mobile-results");var o,n=document.createElement("div");n.setAttribute("class","mobile-search__content"),t.length?t.forEach(function(e){var s,o,i=document.createElement("li"),a=document.createElement("a"),t=null;if(a.setAttribute("href",e.item.uri),a.appendChild(i),i.setAttribute("class","mobile-search__item"),o=document.createElement("div"),o.innerHTML=e.item.title,o.setAttribute("class","mobile-search__item--title"),e.matches&&e.matches.length){for(s=0;s<e.matches.length;s++)"title"===e.matches[s].key&&(o.innerHTML=p(e.matches[s].value,e.matches[s].indices)),"description"===e.matches[s].key?(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=p(e.item.description,e.matches[s].indices)):"content"===e.matches[s].key?t||(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=p(e.item.content.substring(0,150),e.matches[s].indices)):e.item.description?(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=e.item.description):(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=e.item.content.substring(0,150));i.appendChild(o),t&&i.appendChild(t),n.appendChild(a)}}):(o=document.createElement("span"),n.appendChild(o));let s=document.getElementById("search-mobile-results");for(;s.firstChild;)s.removeChild(s.firstChild);l.appendChild(n)}function p(e,t){if(!t)return e;var n="",s=0;return t.forEach(function(t){if(t[0]===t[1])return null;n+=""+e.substring(s,t[0])+'<span class="search__highlight">'+e.substring(t[0],t[1]+1)+"</span>",s=t[1]+1}),n+=e.substring(s),n}h=document.getElementById("search"),H=document.getElementById("search-mobile"),u=document.getElementById("search-results"),h?h.addEventListener("input",function(e){if(!e.target.value|window.innerWidth<770)return u?u.setAttribute("class","dropdown"):null,o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null,null;n=e.target.value;var i,t=O.search(e.target.value);Y==="main"?_?Z(n,t):J(n,t):(_?te(n,t):ee(n,t),i=u.querySelectorAll(".dropdown-item"),i?i.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})}):null)}):null,h?h.addEventListener("blur",function(){if(window.innerWidth<770)return null;u?u.setAttribute("class","dropdown"):null}):null,h?h.addEventListener("click",function(e){if(window.innerWidth<770)return null;if(!e.target.value)return u?u.setAttribute("class","dropdown"):null,null;n=e.target.value;var s,t=O.search(e.target.value);Y==="main"?_?Z(n,t):J(n,t):(_?te(n,t):ee(n,t),s=u.querySelectorAll(".dropdown-item"),s?s.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})}):null)}):null,be=document.getElementById("search-menu"),ve=document.querySelector("#search-menu .dropdown-item.is-active"),e=null,ge=null,D=350,h?h.addEventListener("keydown",function(t){if(window.innerWidth<770)return null;t.key==="Escape"&&(o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null);var n=document.querySelectorAll("#search-menu .dropdown-item"),i=t.which||t.keyCode;if(!n||!n.length)return null;if(t.key==="ArrowDown"||i===40){e===null?(e=0,n[e].classList.remove("is-active")):(n[e].classList.remove("is-active"),e=e===n.length-1?0:e+1),n[e].classList.add("is-active");let t=n[e].offsetTop+n[e].clientHeight-D;t>0?document.querySelector(".search-content").scrollTop+=n[e].getBoundingClientRect().height:e===0&&(document.querySelector(".search-content").scrollTop=0)}else if(t.key==="ArrowUp"||i===38){e===null?(e=n.length-1,n[e].classList.remove("is-active")):(n[e].classList.remove("is-active"),e=e===0?n.length-1:e-1),n[e].classList.add("is-active");let t=n[e].offsetTop+n[e].clientHeight-D;t<0?document.querySelector(".search-content").scrollTop-=n[e].getBoundingClientRect().height:document.querySelector(".search-content").scrollTop=t+n[e].getBoundingClientRect().height}else t.key==="Enter"||i===13?n[e]&&n[e].getAttribute("href")&&(location.href=n[e].getAttribute("href")):(t.key==="Escape"||i===27)&&(t.target.value=null,l&&l.classList.remove("is-active"))}):null,H?H.addEventListener("input",function(e){if(!e.target.value){let e=document.getElementById("search-mobile-results");for(;e.firstChild;)e.removeChild(e.firstChild);return null}n=e.target.value;var t=O.search(e.target.value);ne(n,t),_?pe(n,t):ne(n,t)}):null,g=document.querySelector("#search-mobile"),N=document.querySelector(".mobile-search"),R=document.querySelectorAll(".navbar-search"),z=document.querySelector("#search-mobile-close"),w=document.querySelector("#search-mobile-container"),f=document.querySelector("#search-mobile-results"),y=document.querySelector("html"),N&&(N.style.display="none"),R?R.forEach(function(e){e.addEventListener("click",function(){w&&(w.style.display="block"),g&&g.focus(),y&&(y.style.overflowY="hidden")})}):null,z?z.addEventListener("click",function(){if(w&&(w.style.display="none"),g&&(g.value=""),f)for(;f.firstChild;)f.removeChild(f.firstChild);y&&(y.style.overflowY="visible")}):null,g?g.addEventListener("keydown",function(e){var t=e.which||e.keyCode;if(e.key==="Escape"||t===27){if(w&&(w.style.display="none"),g&&(g.value=""),f)for(;f.firstChild;)f.removeChild(f.firstChild);y&&(y.style.overflowY="visible")}}):null;function J(e,t){var a=document.querySelector(".search-result__body"),n=a.querySelector("ul"),i=document.createElement("ul");e?t&&t&&t.length&&(t.forEach(function(e){_e(i,e)}),o?o.setAttribute("data-display","block"):null,s?s.setAttribute("data-display","none"):null):(o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null),n.parentNode.replaceChild(i,n)}function Z(e,t){var a=document.querySelector(".search-result__body"),n=a.querySelector("ul"),i=document.createElement("ul");e?t&&t&&t.length&&(t.forEach(function(e){ye(i,e)}),o?o.setAttribute("data-display","block"):null,s?s.setAttribute("data-display","none"):null):(o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null),n.parentNode.replaceChild(i,n)}})</script><link rel=stylesheet href=/css/main.min.css><meta name=description content><meta name=keywords content="Bash,Linux,é¢è¯•"><meta name=created content="0001-01-01T00:00:00+0000"><meta name=modified content="0001-01-01T00:00:00+0000"><meta property="article:published_time" content="0001-01-01T00:00:00+0000"><meta name=author content="Hex"><meta property="og:site_name" content="Hex Blog"><meta property="og:title" content="Linuxé¢è¯•-137é¢è¯•é¢˜"><meta property="og:url" content="https://hex-go.github.io/posts/interview/2024-04-09-linux%E9%9D%A2%E8%AF%95-137%E9%9D%A2%E8%AF%95%E9%A2%98/"><meta property="og:type" content="article"><meta property="og:description" content><meta name=generator content="Hugo 0.110.0"><meta name=msapplication-TileColor content="#fff"><meta name=theme-color content="#fff"><meta name=msapplication-navbutton-color content="#fff"><meta name=apple-mobile-web-app-status-bar-style content="#fff"><link rel=canonical href=https://hex-go.github.io/posts/interview/2024-04-09-linux%E9%9D%A2%E8%AF%95-137%E9%9D%A2%E8%AF%95%E9%A2%98/><link rel=manifest href=/manifest.json><link rel=apple-touch-icon sizes=57x57 href=/favicon/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/favicon/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/favicon/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/favicon/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/favicon/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/favicon/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/favicon/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/favicon/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/favicon/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/favicon/android-icon-192x192.png><link rel=icon type=image/png sizes=192x192 href=/favicon/android-icon-512x512.png><link rel=icon type=image/png sizes=32x32 href=/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon/favicon-16x16.png><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/ms-icon-144x144.png"><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","headline":"Linuxé¢è¯•-137é¢è¯•é¢˜","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","url":"https://hex-go.github.io/posts/interview/2024-04-09-linux%E9%9D%A2%E8%AF%95-137%E9%9D%A2%E8%AF%95%E9%A2%98/","description":"æ±‡æ€»çš„Linuxé¢è¯•é¢˜ï¼Œä»…ç”¨äºä¸ªäººå¤‡å¿˜ 1ã€å¦‚ä½•çœ‹å½“å‰Linuxç³»ç»Ÿæœ‰å‡ é¢—ç‰©ç†CPUå’Œæ¯é¢—CPUçš„æ ¸æ•°ï¼Ÿ æŸ¥çœ‹ç‰©ç†cupï¼š 1 cat /proc/cpuinfo|grep -c â€˜physic","keywords":["Bash","Linux","é¢è¯•"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://hex-go.github.io/"},"publisher":{"@type":"Organization","name":"Hex Blog","url":"https://hex-go.github.io/"}}</script></head><body id=root class=theme__dark><script>var localTheme=localStorage.getItem("theme");localTheme&&(document.getElementById("root").className="theme__"+localTheme)</script><div id=container><div class=wrapper data-type=posts data-kind=page><nav class="navbar scrolling" role=navigation aria-label="main navigation" data-dir=ltr><div class=navbar__brand><a href=/ title=ä¸»é¡µ rel=home class=navbar__logo-link><img src=/logo.png alt=Home class=navbar__logo></a>
<a href=/ title=ä¸»é¡µ rel=home class=navbar__title-link><h6 class=navbar__title>Hex Blog</h6></a></div><div class="theme theme-mobile" data-ani=true><div class=dropdown><button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" data-ani=true><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentcolor" d="M6.34 7.93c-3.12 3.12-3.12 8.19.0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19.0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41.0L6.34 7.93zM12 19.59c-1.6.0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg></button><div class="dropdown-content select-theme"><a href=# class="dropdown-item select-theme__item is-active">dark</a>
<a href=# class="dropdown-item select-theme__item">light</a>
<a href=# class="dropdown-item select-theme__item">solarized</a></div></div></div><div class="mobile-search__btn navbar-search" data-ani=true><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentcolor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49.0s.41-1.08.0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg></div><div id=search-mobile-container class="mobile-search hide" data-dir=ltr><div class=mobile-search__top><input id=search-mobile type=text aria-label="Mobile Search" placeholder=æœç´¢ class=mobile-search__top--input><div id=search-mobile-close class=mobile-search__top--icon><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path opacity=".87" fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41.0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/></svg></div></div><div id=search-mobile-results class=mobile-search__body></div></div><a role=button class=navbar__burger aria-label=menu aria-expanded=false data-ani=true><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a><div class=navbarm__collapse data-open=false><ul dir=ltr><li class=navbarm__menu--item><a href=/>é¦–é¡µ</a></li><li class=navbarm__menu--item><a href=/archive>å½’æ¡£</a></li><li class=navbarm__menu--item><a href=/page/friend>å‹é“¾</a></li><li class=navbarm__menu--item><a href=/>ä¹¦ç±<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="currentcolor" d="M8.12 9.29 12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41.0s.39 1.02.0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41.0L6.7 10.7c-.39-.39-.39-1.02.0-1.41.39-.38 1.03-.39 1.42.0z"/></svg></a></li><li class="navbarm__menu--item navbarm__menu--subitem"><a href=/tags/go>Go å…¥é—¨æŒ‡å—</a></li><li class="navbarm__menu--item navbarm__menu--subitem"><a href=https://www.gitbook.com/book/yeasy/docker_practice>Docker handbook</a></li><li class="navbarm__menu--item navbarm__menu--subitem"><a href=https://istio.io/zh/docs>Istio service mesh</a></li><li class="navbarm__menu--item navbarm__menu--subitem"><a href=https://github.com/ruanyf/reading-list>é˜®ä¸€å³°ä¹¦å•</a></li><li class="navbarm__menu--item navbarm__menu--subitem"><a href=https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes>æœºå™¨å­¦ä¹ ç¬”è®°</a></li><li class=navbarm__menu--item><a href=/page/about>å…³äº</a></li><li class=navbarm__menu--item><a href=/index.xml>RSS</a></li><li class=navbarm__menu--item><a href=/tags class=navbarm__menu--term data-index=0>æ ‡ç­¾</a></li><li class=navbarm__menu--item><a href=/categories class=navbarm__menu--term data-index=1>åˆ†ç±»</a></li><li class=navbarm__menu--item><a href=/series class=navbarm__menu--term data-index=2>ç³»åˆ—</a></li></ul></div><div class=navbar__menu><div class=theme data-ani=true><div class=dropdown><button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" data-ani=true><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentcolor" d="M6.34 7.93c-3.12 3.12-3.12 8.19.0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19.0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41.0L6.34 7.93zM12 19.59c-1.6.0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg></button><div class="dropdown-content select-theme" style=width:82px><a href=# class="dropdown-item select-theme__item is-active">æ·±è‰²æ¨¡å¼</a>
<a href=# class="dropdown-item select-theme__item">æµ…è‰²æ¨¡å¼</a>
<a href=# class="dropdown-item select-theme__item">æŠ¤çœ¼æ¨¡å¼</a></div></div></div><a href=/ class="navbar__menu-item navbar__slide-down" dir=ltr data-ani=true>é¦–é¡µ</a>
<a href=/archive class="navbar__menu-item navbar__slide-down" dir=ltr data-ani=true>å½’æ¡£</a>
<a href=/page/friend class="navbar__menu-item navbar__slide-down" dir=ltr data-ani=true>å‹é“¾</a><div class="navbar__dropdown navbar__slide-down" data-ani=true><a href=/ class=navbar__menu-item dir=ltr>ä¹¦ç±<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="currentcolor" d="M8.12 9.29 12 13.17l3.88-3.88c.39-.39 1.02-.39 1.41.0s.39 1.02.0 1.41l-4.59 4.59c-.39.39-1.02.39-1.41.0L6.7 10.7c-.39-.39-.39-1.02.0-1.41.39-.38 1.03-.39 1.42.0z"/></svg></a><div class=navbar__dropdown--content><a href=/tags/go class=navbar__dropdown--item dir=ltr>Go å…¥é—¨æŒ‡å—</a>
<a href=https://www.gitbook.com/book/yeasy/docker_practice class=navbar__dropdown--item dir=ltr>Docker handbook</a>
<a href=https://istio.io/zh/docs class=navbar__dropdown--item dir=ltr>Istio service mesh</a>
<a href=https://github.com/ruanyf/reading-list class=navbar__dropdown--item dir=ltr>é˜®ä¸€å³°ä¹¦å•</a>
<a href=https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes class=navbar__dropdown--item dir=ltr>æœºå™¨å­¦ä¹ ç¬”è®°</a></div></div><a href=/page/about class="navbar__menu-item navbar__slide-down" dir=ltr data-ani=true>å…³äº</a>
<a href=/index.xml class="navbar__menu-item navbar__slide-down" dir=ltr data-ani=true>RSS</a></div></nav><main class="single__main main"><nav class="breadcrumb hide" aria-label=breadcrumbs><script>document.querySelector(".breadcrumb").classList.remove("hide")</script><ol><li><a href=https://hex-go.github.io/ class=capitalize>Hex Blog</a></li><li><a href=https://hex-go.github.io/posts/ class=capitalize>Posts</a></li><li class=is-active><span>Linuxé¢è¯•-137é¢è¯•é¢˜</span></li></ol></nav><div class=single><div class=single__nojs>Please enable Javascript to view the contents</div><script>document.querySelector(".single").classList.remove("hide"),document.querySelector(".single__nojs").classList.add("hide")</script><h2 class=single__title data-ani=true>Linuxé¢è¯•-137é¢è¯•é¢˜</h2><h3 class=single__subtitle></h3><div class=single__meta><div class=single__infos><time class=single__info title=åˆ›å»ºæ—¥æœŸ>ğŸ“…&nbsp;0001å¹´01æœˆ01æ—¥</time>
&nbsp;&#183;&nbsp; <span class=single__info title=é˜…è¯»æ—¶é•¿>â˜•&nbsp;57&nbsp;åˆ†é’Ÿ</span>
<span class=single__info></span></div><ul class="single__tags caption">ğŸ·ï¸<li><a href=https://hex-go.github.io/tags/bash/ class=single__tag title=Bash>#Bash</a></li><li><a href=https://hex-go.github.io/tags/linux/ class=single__tag title=Linux>#Linux</a></li><li><a href=https://hex-go.github.io/tags/%E9%9D%A2%E8%AF%95/ class=single__tag title=é¢è¯•>#é¢è¯•</a></li></ul></div><article class=single__contents data-dir=ltr data-ani=true><blockquote><p>æ±‡æ€»çš„Linuxé¢è¯•é¢˜ï¼Œä»…ç”¨äºä¸ªäººå¤‡å¿˜</p></blockquote><h2 id=1å¦‚ä½•çœ‹å½“å‰linuxç³»ç»Ÿæœ‰å‡ é¢—ç‰©ç†cpuå’Œæ¯é¢—cpuçš„æ ¸æ•°>1ã€å¦‚ä½•çœ‹å½“å‰Linuxç³»ç»Ÿæœ‰å‡ é¢—ç‰©ç†CPUå’Œæ¯é¢—CPUçš„æ ¸æ•°ï¼Ÿ</h2><p>æŸ¥çœ‹ç‰©ç†cupï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /proc/cpuinfo<span class=p>|</span>grep -c â€˜physical idâ€™
</span></span></code></pre></td></tr></table></div></div><p>æŸ¥çœ‹æ¯é¢—cupæ ¸æ•°</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /proc/cpuinfo<span class=p>|</span>grep -c â€˜processorâ€™
</span></span></code></pre></td></tr></table></div></div><h2 id=2æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„å‘½ä»¤æ˜¯å“ªä¸¤ä¸ªè¿™ä¸‰ä¸ªæ•°å€¼è¡¨ç¤ºä»€ä¹ˆå«ä¹‰å‘¢>2ã€æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„å‘½ä»¤ï¼Œæ˜¯å“ªä¸¤ä¸ªï¼Ÿè¿™ä¸‰ä¸ªæ•°å€¼è¡¨ç¤ºä»€ä¹ˆå«ä¹‰å‘¢ï¼Ÿ</h2><p>ï¼ˆ1ï¼‰å‘½ä»¤ï¼šw<br>wå‘½ä»¤ç”¨äºæ˜¾ç¤ºç›®å‰ç™»å…¥ç³»ç»Ÿçš„ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚ä¸‹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>hex@Hex-Code:~$ w
</span></span><span class=line><span class=cl> 12:42:51 up 1 day,  1:28,  1 user,  load average: 0.00, 0.00, 0.00
</span></span><span class=line><span class=cl>USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
</span></span><span class=line><span class=cl>hex      pts/1    -                Mon11   25:28m  0.06s  0.06s -bash
</span></span></code></pre></td></tr></table></div></div><p>ï¼ˆ2ï¼‰å‘½ä»¤ï¼šuptime</p><p>å…¶ä¸­load averageå³ç³»ç»Ÿè´Ÿè½½ï¼Œä¸‰ä¸ªæ•°å€¼åˆ†åˆ«è¡¨ç¤ºä¸€åˆ†é’Ÿã€äº”åˆ†é’Ÿã€åäº”åˆ†é’Ÿå†…ç³»ç»Ÿçš„å¹³å‡è´Ÿè½½ï¼Œå³å¹³å‡ä»»åŠ¡æ•°ã€‚</p><h2 id=3vmstat-r-b-si-so-bi-bo-è¿™å‡ åˆ—è¡¨ç¤ºä»€ä¹ˆå«ä¹‰å‘¢>3ã€vmstat r, b, si, so, bi, bo è¿™å‡ åˆ—è¡¨ç¤ºä»€ä¹ˆå«ä¹‰å‘¢ï¼Ÿ</h2><p>æ‰§è¡Œå‘½ä»¤vmstatï¼Œç»“æœå¦‚ä¸‹å›¾ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hex@Hex-Code:~$ vmstat
</span></span><span class=line><span class=cl>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
</span></span><span class=line><span class=cl> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
</span></span><span class=line><span class=cl> <span class=m>0</span>  <span class=m>0</span>      <span class=m>0</span> <span class=m>29823280</span> <span class=m>233316</span> <span class=m>1270552</span>    <span class=m>0</span>    <span class=m>0</span>     <span class=m>1</span>     <span class=m>0</span>    <span class=m>3</span>   <span class=m>12</span>  <span class=m>0</span>  <span class=m>0</span> <span class=m>100</span>  <span class=m>0</span>  <span class=m>0</span>
</span></span></code></pre></td></tr></table></div></div><p>rï¼šè¡¨ç¤ºrunningï¼Œè¡¨ç¤ºæ­£åœ¨è·‘çš„ä»»åŠ¡æ•°<br>bï¼šè¡¨ç¤ºblockedï¼Œè¡¨ç¤ºè¢«é˜»å¡çš„ä»»åŠ¡æ•°<br>siï¼šè¡¨ç¤ºæœ‰å¤šå°‘æ•°æ®ä»äº¤æ¢åˆ†åŒºè¯»å…¥å†…å­˜<br>soï¼šè¡¨ç¤ºæœ‰å¤šå°‘æ•°æ®ä»å†…å­˜å†™å…¥äº¤æ¢åˆ†åŒº<br>biï¼šè¡¨ç¤ºæœ‰å¤šå°‘æ•°æ®ä»ç£ç›˜è¯»å…¥å†…å­˜<br>boï¼šè¡¨ç¤ºæœ‰å¤šå°‘æ•°æ®ä»å†…å­˜å†™å…¥ç£ç›˜</p><p>ç®€è®°ï¼š<br>i &ndash;inputï¼Œè¿›å…¥å†…å­˜<br>o &ndash;outputï¼Œä»å†…å­˜å‡ºå»<br>s &ndash;swapï¼Œäº¤æ¢åˆ†åŒº<br>b &ndash;blockï¼Œå—è®¾å¤‡ï¼Œç£ç›˜ã€‚å•ä½éƒ½æ˜¯KBã€‚</p><h2 id=4linuxç³»ç»Ÿé‡Œæ‚¨çŸ¥é“bufferå’Œcacheå¦‚ä½•åŒºåˆ†å—>4ã€linuxç³»ç»Ÿé‡Œï¼Œæ‚¨çŸ¥é“bufferå’Œcacheå¦‚ä½•åŒºåˆ†å—ï¼Ÿ</h2><p>bufferå’Œcacheéƒ½æ˜¯å†…å­˜ä¸­çš„ä¸€å—åŒºåŸŸï¼Œå½“CPUéœ€è¦å†™æ•°æ®åˆ°ç£ç›˜æ—¶ï¼Œç”±äºç£ç›˜é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œæ‰€ä»¥CPUå…ˆæŠŠæ•°æ®å­˜è¿›bufferï¼Œç„¶åCPUå»æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œbufferä¸­çš„æ•°æ®ä¼šå®šæœŸå†™å…¥ç£ç›˜ï¼›å½“CPUéœ€è¦ä»ç£ç›˜è¯»å…¥æ•°æ®æ—¶ï¼Œç”±äºç£ç›˜é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œå¯ä»¥æŠŠå³å°†ç”¨åˆ°çš„æ•°æ®æå‰å­˜å…¥cacheï¼ŒCPUç›´æ¥ä»Cacheä¸­æ‹¿æ•°æ®è¦å¿«çš„å¤šã€‚</p><h2 id=5ä½¿ç”¨topæŸ¥çœ‹ç³»ç»Ÿèµ„æºå ç”¨æƒ…å†µæ—¶å“ªä¸€åˆ—è¡¨ç¤ºå†…å­˜å ç”¨å‘¢>5ã€ä½¿ç”¨topæŸ¥çœ‹ç³»ç»Ÿèµ„æºå ç”¨æƒ…å†µæ—¶ï¼Œå“ªä¸€åˆ—è¡¨ç¤ºå†…å­˜å ç”¨å‘¢ï¼Ÿ</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hex@Hex-Code:~$ top
</span></span><span class=line><span class=cl>top - 12:45:32 up <span class=m>1</span> day,  1:31,  <span class=m>1</span> user,  load average: 0.00, 0.00, 0.00
</span></span><span class=line><span class=cl>Tasks:  <span class=m>50</span> total,   <span class=m>1</span> running,  <span class=m>49</span> sleeping,   <span class=m>0</span> stopped,   <span class=m>0</span> zombie
</span></span><span class=line><span class=cl>%Cpu<span class=o>(</span>s<span class=o>)</span>:  0.0 us,  0.0 sy,  0.0 ni,100.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
</span></span><span class=line><span class=cl>MiB Mem :  31456.3 total,  29122.7 free,    864.7 used,   1468.9 buff/cache
</span></span><span class=line><span class=cl>MiB Swap:   8192.0 total,   8192.0 free,      0.0 used.  30143.0 avail Mem
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                                                                                                     
</span></span><span class=line><span class=cl>      <span class=m>1</span> root      <span class=m>20</span>   <span class=m>0</span>  <span class=m>167124</span>  <span class=m>12484</span>   <span class=m>8056</span> S   0.0   0.0   5:08.46 systemd
</span></span><span class=line><span class=cl>      <span class=m>2</span> root      <span class=m>20</span>   <span class=m>0</span>    <span class=m>2276</span>   <span class=m>1292</span>   <span class=m>1184</span> S   0.0   0.0   0:00.00 init-systemd<span class=o>(</span>Ub
</span></span><span class=line><span class=cl>      <span class=m>7</span> root      <span class=m>20</span>   <span class=m>0</span>    <span class=m>2320</span>    <span class=m>136</span>    <span class=m>132</span> S   0.0   0.0   0:00.02 init
</span></span><span class=line><span class=cl>     <span class=m>36</span> root      <span class=m>19</span>  -1   <span class=m>48160</span>  <span class=m>16460</span>  <span class=m>15340</span> S   0.0   0.1   0:00.25 systemd-journal
</span></span><span class=line><span class=cl>     <span class=m>61</span> root      <span class=m>20</span>   <span class=m>0</span>   <span class=m>22176</span>   <span class=m>6004</span>   <span class=m>4476</span> S   0.0   0.0   0:00.21 systemd-udevd
</span></span><span class=line><span class=cl>     <span class=m>73</span> root      <span class=m>20</span>   <span class=m>0</span>    <span class=m>4496</span>    <span class=m>192</span>     <span class=m>44</span> S   0.0   0.0   0:00.00 snapfuse
</span></span></code></pre></td></tr></table></div></div><p>å¦‚ä¸Šæ‰€ç¤ºï¼š</p><p>VIRTï¼šè™šæ‹Ÿå†…å­˜ç”¨é‡<br>RESï¼šç‰©ç†å†…å­˜ç”¨é‡<br>SHRï¼šå…±äº«å†…å­˜ç”¨é‡<br>%MEMï¼šå†…å­˜ç”¨é‡<br>%CPUï¼šcpuç”¨é‡</p><h2 id=6å¦‚ä½•å®æ—¶æŸ¥çœ‹ç½‘å¡æµé‡ä¸ºå¤šå°‘å¦‚ä½•æŸ¥çœ‹å†å²ç½‘å¡æµé‡>6ã€å¦‚ä½•å®æ—¶æŸ¥çœ‹ç½‘å¡æµé‡ä¸ºå¤šå°‘ï¼Ÿå¦‚ä½•æŸ¥çœ‹å†å²ç½‘å¡æµé‡ï¼Ÿ</h2><p>å®‰è£…sysstatåŒ…ï¼Œä½¿ç”¨sarå‘½ä»¤æŸ¥çœ‹ã€‚<br>#å®‰è£…sysstatåŒ…ï¼Œè·å¾—sarå‘½ä»¤</p><p>yum install -y sysstat<br>#æŸ¥çœ‹ç½‘å¡æµé‡ï¼Œé»˜è®¤10åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡</p><p>sar -n DEV<br>#ä¸€ç§’æ˜¾ç¤ºä¸€æ¬¡ï¼Œä¸€å…±æ˜¾ç¤º10æ¬¡</p><p>sar -n DEV 1 10<br>#æŸ¥çœ‹æŒ‡å®šæ—¥æœŸçš„æµé‡æ—¥å¿—</p><p>sar -n DEV -f /var/log/sa/sa22</p><h2 id=7å¦‚ä½•æŸ¥çœ‹å½“å‰ç³»ç»Ÿéƒ½æœ‰å“ªäº›è¿›ç¨‹>7ã€å¦‚ä½•æŸ¥çœ‹å½“å‰ç³»ç»Ÿéƒ½æœ‰å“ªäº›è¿›ç¨‹ï¼Ÿ</h2><p>å¯ä»¥ä½¿ç”¨ps -aux æˆ–è€…ps â€“elfå‘½ä»¤ã€‚</p><p>ps â€“auxå‘½ä»¤ç»“æœå¦‚ä¸‹ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hex@Hex-Code:~$ ps -aux
</span></span><span class=line><span class=cl>USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
</span></span><span class=line><span class=cl>root           <span class=m>1</span>  0.3  0.0 <span class=m>167280</span> <span class=m>12484</span> ?        Ss   Apr08   5:08 /sbin/init
</span></span><span class=line><span class=cl>root           <span class=m>2</span>  0.0  0.0   <span class=m>2276</span>  <span class=m>1292</span> ?        Sl   Apr08   0:00 /init
</span></span><span class=line><span class=cl>root           <span class=m>7</span>  0.0  0.0   <span class=m>2320</span>   <span class=m>136</span> ?        Sl   Apr08   0:00 plan9 --control-socket <span class=m>6</span> --log-level <span class=m>4</span> --server-fd <span class=m>7</span> --pipe-fd <span class=m>9</span> --log-truncate
</span></span><span class=line><span class=cl>root          <span class=m>36</span>  0.0  0.0  <span class=m>48160</span> <span class=m>16460</span> ?        S&lt;s  Apr08   0:00 /lib/systemd/systemd-journald
</span></span><span class=line><span class=cl>root          <span class=m>61</span>  0.0  0.0  <span class=m>22176</span>  <span class=m>6004</span> ?        Ss   Apr08   0:00 /lib/systemd/systemd-udevd
</span></span></code></pre></td></tr></table></div></div><p>ps â€“elfç»“æœå¦‚ä¸‹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hex@Hex-Code:~$ ps -elf
</span></span><span class=line><span class=cl>F S UID          PID    PPID  C PRI  NI ADDR SZ WCHAN  STIME TTY          TIME CMD
</span></span><span class=line><span class=cl><span class=m>4</span> S root           <span class=m>1</span>       <span class=m>0</span>  <span class=m>0</span>  <span class=m>80</span>   <span class=m>0</span> - <span class=m>41820</span> -      Apr08 ?        00:05:08 /sbin/init
</span></span><span class=line><span class=cl><span class=m>5</span> S root           <span class=m>2</span>       <span class=m>1</span>  <span class=m>0</span>  <span class=m>80</span>   <span class=m>0</span> -   <span class=m>569</span> -      Apr08 ?        00:00:00 /init
</span></span><span class=line><span class=cl><span class=m>0</span> S root           <span class=m>7</span>       <span class=m>2</span>  <span class=m>0</span>  <span class=m>80</span>   <span class=m>0</span> -   <span class=m>580</span> -      Apr08 ?        00:00:00 plan9 --control-socket <span class=m>6</span> --log-level <span class=m>4</span> --server-fd <span class=m>7</span> --pipe-fd <span class=m>9</span> --log-truncate
</span></span><span class=line><span class=cl><span class=m>4</span> S root          <span class=m>36</span>       <span class=m>1</span>  <span class=m>0</span>  <span class=m>79</span>  -1 - <span class=m>12040</span> -      Apr08 ?        00:00:00 /lib/systemd/systemd-journald
</span></span><span class=line><span class=cl><span class=m>4</span> S root          <span class=m>61</span>       <span class=m>1</span>  <span class=m>0</span>  <span class=m>80</span>   <span class=m>0</span> -  <span class=m>5544</span> -      Apr08 ?        00:00:00 /lib/systemd/systemd-udevd
</span></span></code></pre></td></tr></table></div></div><h2 id=8ps-æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹æ—¶æœ‰ä¸€åˆ—ä¸ºstat-å¦‚æœå½“å‰è¿›ç¨‹çš„statä¸ºss-è¡¨ç¤ºä»€ä¹ˆå«ä¹‰å¦‚æœä¸ºzè¡¨ç¤ºä»€ä¹ˆå«ä¹‰>8ã€ps æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹æ—¶ï¼Œæœ‰ä¸€åˆ—ä¸ºSTATï¼Œ å¦‚æœå½“å‰è¿›ç¨‹çš„statä¸ºSs è¡¨ç¤ºä»€ä¹ˆå«ä¹‰ï¼Ÿå¦‚æœä¸ºZè¡¨ç¤ºä»€ä¹ˆå«ä¹‰ï¼Ÿ</h2><p>Sè¡¨ç¤ºæ­£åœ¨ä¼‘çœ ï¼›sè¡¨ç¤ºä¸»è¿›ç¨‹ï¼›Zè¡¨ç¤ºåƒµå°¸è¿›ç¨‹ã€‚<br>ç¤ºä¾‹è§ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hex@Hex-Code:~$ ps -aux
</span></span><span class=line><span class=cl>USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
</span></span><span class=line><span class=cl>root           <span class=m>1</span>  0.3  0.0 <span class=m>167280</span> <span class=m>12484</span> ?        Ss   Apr08   5:08 /sbin/init
</span></span><span class=line><span class=cl>root           <span class=m>2</span>  0.0  0.0   <span class=m>2276</span>  <span class=m>1292</span> ?        Sl   Apr08   0:00 /init
</span></span><span class=line><span class=cl>root           <span class=m>7</span>  0.0  0.0   <span class=m>2320</span>   <span class=m>136</span> ?        Sl   Apr08   0:00 plan9 --control-socket <span class=m>6</span> --log-level <span class=m>4</span> --server-fd <span class=m>7</span> --pipe-fd <span class=m>9</span> --log-truncate
</span></span><span class=line><span class=cl>root          <span class=m>36</span>  0.0  0.0  <span class=m>48160</span> <span class=m>16460</span> ?        S&lt;s  Apr08   0:00 /lib/systemd/systemd-journald
</span></span><span class=line><span class=cl>root          <span class=m>61</span>  0.0  0.0  <span class=m>22176</span>  <span class=m>6004</span> ?        Ss   Apr08   0:00 /lib/systemd/systemd-udevd
</span></span></code></pre></td></tr></table></div></div><h2 id=9å¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿéƒ½å¼€å¯äº†å“ªäº›ç«¯å£>9ã€å¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿéƒ½å¼€å¯äº†å“ªäº›ç«¯å£ï¼Ÿ</h2><p>å‘½ä»¤ï¼šnetstat -lnp</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hex@Hex-Code:~$ netstat -lnp
</span></span><span class=line><span class=cl><span class=o>(</span>Not all processes could be identified, non-owned process info
</span></span><span class=line><span class=cl> will not be shown, you would have to be root to see it all.<span class=o>)</span>
</span></span><span class=line><span class=cl>Active Internet connections <span class=o>(</span>only servers<span class=o>)</span>
</span></span><span class=line><span class=cl>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
</span></span><span class=line><span class=cl>tcp        <span class=m>0</span>      <span class=m>0</span> 0.0.0.0:9999            0.0.0.0:*               LISTEN      -
</span></span><span class=line><span class=cl>tcp        <span class=m>0</span>      <span class=m>0</span> 127.0.0.42:53           0.0.0.0:*               LISTEN      -
</span></span><span class=line><span class=cl>tcp        <span class=m>0</span>      <span class=m>0</span> 127.0.0.53:53           0.0.0.0:*               LISTEN      -
</span></span><span class=line><span class=cl>tcp        <span class=m>0</span>      <span class=m>0</span> 0.0.0.0:22              0.0.0.0:*               LISTEN      -
</span></span><span class=line><span class=cl>tcp6       <span class=m>0</span>      <span class=m>0</span> :::9999                 :::*                    LISTEN      -
</span></span><span class=line><span class=cl>tcp6       <span class=m>0</span>      <span class=m>0</span> :::22                   :::*                    LISTEN      -
</span></span><span class=line><span class=cl>udp        <span class=m>0</span>      <span class=m>0</span> 127.0.0.53:53           0.0.0.0:*                           -
</span></span><span class=line><span class=cl>udp        <span class=m>0</span>      <span class=m>0</span> 127.0.0.42:53           0.0.0.0:*                           -
</span></span><span class=line><span class=cl>udp        <span class=m>0</span>      <span class=m>0</span> 127.0.0.1:323           0.0.0.0:*                           -
</span></span><span class=line><span class=cl>udp6       <span class=m>0</span>      <span class=m>0</span> ::1:323                 :::*                                -
</span></span><span class=line><span class=cl>Active UNIX domain sockets <span class=o>(</span>only servers<span class=o>)</span>
</span></span><span class=line><span class=cl>Proto RefCnt Flags       Type       State         I-Node   PID/Program name     Path
</span></span></code></pre></td></tr></table></div></div><h2 id=10å¦‚ä½•æŸ¥çœ‹ç½‘ç»œè¿æ¥çŠ¶å†µ>10ã€å¦‚ä½•æŸ¥çœ‹ç½‘ç»œè¿æ¥çŠ¶å†µï¼Ÿ</h2><p>å‘½ä»¤ï¼šnetstat â€“an</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hex@Hex-Code:~$ netstat -an
</span></span><span class=line><span class=cl>Active Internet connections <span class=o>(</span>servers and established<span class=o>)</span>
</span></span><span class=line><span class=cl>Proto Recv-Q Send-Q Local Address           Foreign Address         State
</span></span><span class=line><span class=cl>tcp        <span class=m>0</span>      <span class=m>0</span> 0.0.0.0:9999            0.0.0.0:*               LISTEN
</span></span><span class=line><span class=cl>tcp        <span class=m>0</span>      <span class=m>0</span> 127.0.0.42:53           0.0.0.0:*               LISTEN
</span></span><span class=line><span class=cl>tcp        <span class=m>0</span>      <span class=m>0</span> 127.0.0.53:53           0.0.0.0:*               LISTEN
</span></span><span class=line><span class=cl>tcp        <span class=m>0</span>      <span class=m>0</span> 0.0.0.0:22              0.0.0.0:*               LISTEN
</span></span><span class=line><span class=cl>tcp6       <span class=m>0</span>      <span class=m>0</span> :::9999                 :::*                    LISTEN
</span></span><span class=line><span class=cl>tcp6       <span class=m>0</span>      <span class=m>0</span> :::22                   :::*                    LISTEN
</span></span><span class=line><span class=cl>udp        <span class=m>0</span>      <span class=m>0</span> 127.0.0.53:53           0.0.0.0:*
</span></span><span class=line><span class=cl>udp        <span class=m>0</span>      <span class=m>0</span> 127.0.0.42:53           0.0.0.0:*
</span></span><span class=line><span class=cl>udp        <span class=m>0</span>      <span class=m>0</span> 127.0.0.1:323           0.0.0.0:*
</span></span><span class=line><span class=cl>udp6       <span class=m>0</span>      <span class=m>0</span> ::1:323                 :::*
</span></span><span class=line><span class=cl>Active UNIX domain sockets <span class=o>(</span>servers and established<span class=o>)</span>
</span></span><span class=line><span class=cl>Proto RefCnt Flags       Type       State         I-Node   Path
</span></span><span class=line><span class=cl>unix  <span class=m>2</span>      <span class=o>[</span> ACC <span class=o>]</span>     STREAM     LISTENING     <span class=m>25616</span>    /run/WSL/2_interop
</span></span><span class=line><span class=cl>unix  <span class=m>2</span>      <span class=o>[</span> ACC <span class=o>]</span>     STREAM     LISTENING     <span class=m>18464</span>    /run/WSL/1_interop
</span></span></code></pre></td></tr></table></div></div><h2 id=11æƒ³ä¿®æ”¹ipéœ€è¦ç¼–è¾‘å“ªä¸ªé…ç½®æ–‡ä»¶ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åå¦‚ä½•é‡å¯ç½‘å¡ä½¿é…ç½®ç”Ÿæ•ˆ>11ã€æƒ³ä¿®æ”¹ipï¼Œéœ€è¦ç¼–è¾‘å“ªä¸ªé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åï¼Œå¦‚ä½•é‡å¯ç½‘å¡ï¼Œä½¿é…ç½®ç”Ÿæ•ˆï¼Ÿ</h2><p>ä½¿ç”¨viæˆ–è€…vimç¼–è¾‘å™¨ç¼–è¾‘ç½‘å¡é…ç½®æ–‡ä»¶/etc/sysconfig/network-scripts/ifcft-eth0ï¼ˆå¦‚æœæ˜¯eth1æ–‡ä»¶åä¸ºifcft-eth1ï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><p>DEVICE=eth0<br>HWADDR=00:0C:29:06:37:BA<br>TYPE=Ethernet<br>UUID=0eea1820-1fe8-4a80-a6f0-39b3d314f8da<br>ONBOOT=yes<br>NM_CONTROLLED=yes<br>BOOTPROTO=static<br>IPADDR=192.168.140.130<br>NETMASK=255.255.255.0<br>GATEWAY=192.168.140.2<br>DNS1=192.168.140.2<br>DNS2=8.8.8.8<br>ä¿®æ”¹ç½‘å¡åï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤é‡å¯ç½‘å¡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ifdown eth0
</span></span><span class=line><span class=cl>ifup eth0
</span></span></code></pre></td></tr></table></div></div><p>ä¹Ÿå¯ä»¥é‡å¯ç½‘ç»œæœåŠ¡ï¼š</p><p>service network restart</p><h2 id=12èƒ½å¦ç»™ä¸€ä¸ªç½‘å¡é…ç½®å¤šä¸ªip-å¦‚æœèƒ½æ€ä¹ˆé…ç½®>12ã€èƒ½å¦ç»™ä¸€ä¸ªç½‘å¡é…ç½®å¤šä¸ªIP? å¦‚æœèƒ½ï¼Œæ€ä¹ˆé…ç½®ï¼Ÿ</h2><p>å¯ä»¥ç»™ä¸€ä¸ªç½‘å¡é…ç½®å¤šä¸ªIPï¼Œé…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š<br>ï¼ˆ1ï¼‰æŸ¥çœ‹eth0çš„é…ç½®ï¼Œå‘½ä»¤å¦‚ä¸‹ã€‚</p><p>cat /etc/sysconfig/network-scripts/ifcfg-eth0<br>ä¾‹å¦‚ifcfg-eth0 æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><p>DEVICE=eth0<br>HWADDR=00:0C:29:06:37:BA<br>TYPE=Ethernet<br>UUID=0eea1820-1fe8-4a80-a6f0-39b3d314f8da<br>ONBOOT=yes<br>NM_CONTROLLED=yes<br>BOOTPROTO=static<br>IPADDR=192.168.140.130<br>NETMASK=255.255.255.0<br>GATEWAY=192.168.140.2<br>DNS1=192.168.140.2<br>DNS2=8.8.8.8<br>ï¼ˆ2ï¼‰æ–°å»ºä¸€ä¸ªifcfg-eth0:1æ–‡ä»¶ï¼Œå‘½ä»¤å¦‚ä¸‹ã€‚</p><p>cp /etc/sysconfig/network-scripts/ifcfg-eth0 /etc/sysconfig/network-scripts/ifcfg-eth0:1<br>1</p><p>ï¼ˆ3ï¼‰ä½¿ç”¨viç¼–è¾‘å™¨ä¿®æ”¹å…¶å†…å®¹ã€‚</p><p>vi /etc/sysconfig/network-scripts/ifcfg-eth0:1<br>1</p><p>å¤šç»‘å®šä¸€ä¸ªip192.168.140.131ï¼Œå†…å®¹å¦‚ä¸‹ã€‚</p><p>DEVICE=eth0:1<br>HWADDR=00:0C:29:06:37:BA<br>TYPE=Ethernet<br>UUID=0eea1820-1fe8-4a80-a6f0-39b3d314f8da<br>ONBOOT=yes<br>NM_CONTROLLED=yes<br>BOOTPROTO=static<br>IPADDR=192.168.140.131<br>NETMASK=255.255.255.0<br>GATEWAY=192.168.140.2<br>DNS1=192.168.140.2<br>DNS2=8.8.8.8<br>ï¼ˆ4ï¼‰é‡å¯ç½‘ç»œæœåŠ¡ï¼š</p><p>service network restart</p><h2 id=13å¦‚ä½•æŸ¥çœ‹æŸä¸ªç½‘å¡æ˜¯å¦è¿æ¥ç€äº¤æ¢æœº>13ã€å¦‚ä½•æŸ¥çœ‹æŸä¸ªç½‘å¡æ˜¯å¦è¿æ¥ç€äº¤æ¢æœºï¼Ÿ</h2><p>ä½¿ç”¨å‘½ä»¤mii-toolï¼Œä¾‹å¦‚æŸ¥è¯¢ç½‘å¡eth0</p><p>mii-tool eth0</p><h2 id=14å¦‚ä½•æŸ¥çœ‹å½“å‰ä¸»æœºçš„ä¸»æœºåå¦‚ä½•ä¿®æ”¹ä¸»æœºåè¦æƒ³é‡å¯åä¾æ—§ç”Ÿæ•ˆéœ€è¦ä¿®æ”¹å“ªä¸ªé…ç½®æ–‡ä»¶å‘¢>14ã€å¦‚ä½•æŸ¥çœ‹å½“å‰ä¸»æœºçš„ä¸»æœºåï¼Œå¦‚ä½•ä¿®æ”¹ä¸»æœºåï¼Ÿè¦æƒ³é‡å¯åä¾æ—§ç”Ÿæ•ˆï¼Œéœ€è¦ä¿®æ”¹å“ªä¸ªé…ç½®æ–‡ä»¶å‘¢ï¼Ÿ</h2><p>ï¼ˆ1ï¼‰æŸ¥çœ‹ä¸»æœºåï¼šhostname<br>ï¼ˆ2ï¼‰ä¿®æ”¹ä¸»æœºåï¼šhostname centos-db</p><p>æ°¸ä¹…ç”Ÿæ•ˆéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶networkï¼š</p><p>vi /etc/sysconfig/network</p><p>å°†HOSTNAMEç­‰å·åé¢æ”¹æˆæ–°çš„ä¸»æœºåã€‚</p><p>NETWORKING=yes<br>HOSTNAME= centos-db</p><h2 id=15è®¾ç½®dnséœ€è¦ä¿®æ”¹å“ªä¸ªé…ç½®æ–‡ä»¶>15ã€è®¾ç½®DNSéœ€è¦ä¿®æ”¹å“ªä¸ªé…ç½®æ–‡ä»¶ï¼Ÿ</h2><p>ï¼ˆ1ï¼‰åœ¨æ–‡ä»¶ /etc/resolv.conf ä¸­è®¾ç½®DNS<br>ï¼ˆ2ï¼‰åœ¨æ–‡ä»¶ /etc/sysconfig/network-scripts/ifcfg-eth0 ä¸­è®¾ç½®DNS</p><h2 id=16ä½¿ç”¨iptables-å†™ä¸€æ¡è§„åˆ™æŠŠæ¥æºipä¸º1921681101è®¿é—®æœ¬æœº80ç«¯å£çš„åŒ…ç›´æ¥æ‹’ç»>16ã€ä½¿ç”¨iptables å†™ä¸€æ¡è§„åˆ™ï¼šæŠŠæ¥æºIPä¸º192.168.1.101è®¿é—®æœ¬æœº80ç«¯å£çš„åŒ…ç›´æ¥æ‹’ç»</h2><p>iptables -I INPUT -s 192.168.1.101 -p tcp &ndash;dport 80 -j REJECT</p><h2 id=17è¦æƒ³æŠŠiptableçš„è§„åˆ™ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­å¦‚ä½•åšå¦‚ä½•æ¢å¤>17ã€è¦æƒ³æŠŠiptableçš„è§„åˆ™ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­å¦‚ä½•åšï¼Ÿå¦‚ä½•æ¢å¤ï¼Ÿ</h2><p>ä½¿ç”¨iptables-saveé‡å®šå‘åˆ°æ–‡ä»¶ä¸­ï¼š</p><p>iptables-save > 1.ipt<br>1</p><p>ä½¿ç”¨iptables-restoreåé‡å®šå‘å›æ¥ï¼š</p><p>iptables-restore &lt; 1.ipt<br>1</p><h2 id=18å¦‚ä½•å¤‡ä»½æŸä¸ªç”¨æˆ·çš„ä»»åŠ¡è®¡åˆ’>18ã€å¦‚ä½•å¤‡ä»½æŸä¸ªç”¨æˆ·çš„ä»»åŠ¡è®¡åˆ’ï¼Ÿ</h2><p>å°†/var/spool/cron/ç›®å½•ä¸‹æŒ‡å®šç”¨æˆ·çš„ä»»åŠ¡è®¡åˆ’æ‹·è´åˆ°å¤‡ä»½ç›®å½•cron_bak/ä¸‹å³å¯ï¼š</p><p>cp /var/spool/cron/rachy /tmp/bak/cron_bak/</p><p>19ã€ä»»åŠ¡è®¡åˆ’æ ¼å¼ä¸­ï¼Œå‰é¢5ä¸ªæ•°å­—åˆ†è¡¨è¡¨ç¤ºä»€ä¹ˆå«ä¹‰ï¼Ÿ</p><p>ä¾æ¬¡è¡¨ç¤ºï¼šåˆ†ã€æ—¶ã€æ—¥ã€æœˆã€å‘¨</p><p>20ã€å¦‚ä½•å¯ä»¥æŠŠç³»ç»Ÿä¸­ä¸ç”¨çš„æœåŠ¡å…³æ‰ï¼Ÿ</p><p>ï¼ˆ1ï¼‰ä½¿ç”¨å¯è§†åŒ–å·¥å…·ï¼šntsysv<br>ï¼ˆ2ï¼‰ä½¿ç”¨å‘½ä»¤ï¼šchkconfig servicename off</p><p>21ã€å¦‚ä½•è®©æŸä¸ªæœåŠ¡ï¼ˆå‡å¦‚æœåŠ¡åä¸º nginxï¼‰åªåœ¨3,5ä¸¤ä¸ªè¿è¡Œçº§åˆ«å¼€å¯ï¼Œå…¶ä»–çº§åˆ«å…³é—­ï¼Ÿ</p><p>å…ˆå…³é—­æ‰€æœ‰è¿è¡Œçº§åˆ«ï¼šchkconfig nginx off<br>ç„¶åæ‰“å¼€35è¿è¡Œçº§åˆ«ï¼šchkconfig &ndash;level 35 nginx on</p><p>22ã€rsync åŒæ­¥å‘½ä»¤ä¸­ï¼Œä¸‹é¢ä¸¤ç§æ–¹å¼æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p><p>(1) rsync -av /dira/ ip:/dirb/<br>(2) rsync -av /dira/ ip::dirb<br>å…¶ä¸­(1)æ˜¯é€šè¿‡sshæ–¹å¼åŒæ­¥çš„ï¼Œ(2)åè€…æ˜¯é€šè¿‡rsyncæœåŠ¡çš„æ–¹å¼åŒæ­¥çš„ã€‚</p><p>23ã€rsync åŒæ­¥æ—¶ï¼Œå¦‚æœè¦åŒæ­¥çš„æºä¸­æœ‰è½¯è¿æ¥ï¼Œå¦‚ä½•æŠŠè½¯è¿æ¥çš„ç›®æ ‡æ–‡ä»¶æˆ–è€…ç›®å½•åŒæ­¥ï¼Ÿ</p><p>åŒæ­¥æºæ–‡ä»¶éœ€è¦åŠ -Lé€‰é¡¹</p><h2 id=24æŸä¸ªè´¦å·ç™»é™†linuxåç³»ç»Ÿä¼šåœ¨å“ªäº›æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•ç›¸å…³ä¿¡æ¯>24ã€æŸä¸ªè´¦å·ç™»é™†linuxåï¼Œç³»ç»Ÿä¼šåœ¨å“ªäº›æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•ç›¸å…³ä¿¡æ¯ï¼Ÿ</h2><p>ç”¨æˆ·èº«ä»½éªŒè¯è¿‡ç¨‹è®°å½•åœ¨/var/log/secureä¸­ï¼Œç™»å½•æˆåŠŸçš„ä¿¡æ¯è®°å½•åœ¨/var/log/wtmpã€‚</p><h2 id=25ç½‘å¡æˆ–è€…ç¡¬ç›˜æœ‰é—®é¢˜æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å“ªä¸ªå‘½ä»¤æŸ¥çœ‹ç›¸å…³ä¿¡æ¯>25ã€ç½‘å¡æˆ–è€…ç¡¬ç›˜æœ‰é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å“ªä¸ªå‘½ä»¤æŸ¥çœ‹ç›¸å…³ä¿¡æ¯ï¼Ÿ</h2><p>ä½¿ç”¨å‘½ä»¤dmesg</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hex@Hex-Code:~$ dmesg
</span></span><span class=line><span class=cl><span class=o>[</span>    0.000000<span class=o>]</span> Linux version 5.15.137.3-microsoft-standard-WSL2 <span class=o>(</span>root@613b06102641<span class=o>)</span> <span class=o>(</span>gcc <span class=o>(</span>GCC<span class=o>)</span> 11.2.0, GNU ld <span class=o>(</span>GNU Binutils<span class=o>)</span> 2.37<span class=o>)</span> <span class=c1>#1 SMP Mon Nov 6 23:32:38 UTC 2023</span>
</span></span><span class=line><span class=cl><span class=o>[</span>    0.000000<span class=o>]</span> Command line: <span class=nv>initrd</span><span class=o>=</span><span class=se>\i</span>nitrd.img <span class=nv>WSL_ROOT_INIT</span><span class=o>=</span><span class=m>1</span> <span class=nv>panic</span><span class=o>=</span>-1 <span class=nv>nr_cpus</span><span class=o>=</span><span class=m>16</span> bonding.max_bonds<span class=o>=</span><span class=m>0</span> dummy.numdummies<span class=o>=</span><span class=m>0</span> <span class=nv>fb_tunnels</span><span class=o>=</span>none <span class=nv>console</span><span class=o>=</span>hvc0 debug pty.legacy_count<span class=o>=</span><span class=m>0</span>   
</span></span><span class=line><span class=cl><span class=o>[</span>    0.000000<span class=o>]</span> KERNEL supported cpus:
</span></span><span class=line><span class=cl><span class=o>[</span>    0.000000<span class=o>]</span>   Intel GenuineIntel
</span></span><span class=line><span class=cl><span class=o>[</span>    0.000000<span class=o>]</span>   AMD AuthenticAMD
</span></span><span class=line><span class=cl><span class=o>[</span>    0.000000<span class=o>]</span>   Centaur CentaurHauls
</span></span><span class=line><span class=cl><span class=o>[</span>    0.000000<span class=o>]</span> BIOS-provided physical RAM map:
</span></span><span class=line><span class=cl><span class=o>[</span>    0.000000<span class=o>]</span> BIOS-e820: <span class=o>[</span>mem 0x0000000000000000-0x000000000009ffff<span class=o>]</span> usable
</span></span><span class=line><span class=cl><span class=o>[</span>    0.000000<span class=o>]</span> BIOS-e820: <span class=o>[</span>mem 0x00000000000e0000-0x00000000000e0fff<span class=o>]</span> reserved
</span></span></code></pre></td></tr></table></div></div><p>26ã€åˆ†åˆ«ä½¿ç”¨xargså’Œexecå®ç°è¿™æ ·çš„éœ€æ±‚ï¼ŒæŠŠå½“å‰ç›®å½•ä¸‹æ‰€æœ‰åç¼€åä¸º.txtçš„æ–‡ä»¶çš„æƒé™ä¿®æ”¹ä¸º777</p><p>ä½¿ç”¨xargs ï¼š</p><p>find ./ -type f -name &ldquo;*.txt&rdquo; |xargs chmod 777</p><p>ä½¿ç”¨exec ï¼š</p><p>find ./ -type f -name &ldquo;*.txt&rdquo; -exec chmod 777 {} ;</p><p>27ã€æœ‰ä¸€ä¸ªè„šæœ¬è¿è¡Œæ—¶é—´å¯èƒ½è¶…è¿‡2å¤©ï¼Œå¦‚ä½•åšæ‰èƒ½ä½¿å…¶ä¸é—´æ–­çš„è¿è¡Œï¼Œè€Œä¸”è¿˜å¯ä»¥éšæ—¶è§‚å¯Ÿè„šæœ¬è¿è¡Œæ—¶çš„è¾“å‡ºä¿¡æ¯ï¼Ÿ</p><p>ä½¿ç”¨screenå·¥å…·</p><p>28ã€åœ¨Linuxç³»ç»Ÿä¸‹å¦‚ä½•æŒ‰ç…§ä¸‹é¢è¦æ±‚æŠ“åŒ…ï¼šåªè¿‡æ»¤å‡ºè®¿é—®httpæœåŠ¡çš„ï¼Œç›®æ ‡ipä¸º192.168.0.111ï¼Œä¸€å…±æŠ“1000ä¸ªåŒ…ï¼Œå¹¶ä¸”ä¿å­˜åˆ°1.capæ–‡ä»¶ä¸­ï¼Ÿ</p><p>ä½¿ç”¨tcpdumpå‘½ä»¤ï¼š</p><p>tcpdump -nn -s0 host 192.168.0.111 and port 80 -c 1000 -w 1.cap</p><p>29ã€rsync åŒæ­¥æ•°æ®æ—¶ï¼Œå¦‚ä½•è¿‡æ»¤å‡ºæ‰€æœ‰.txtçš„æ–‡ä»¶ä¸åŒæ­¥ï¼Ÿ</p><p>åŠ ä¸Šâ€“excludeé€‰é¡¹ï¼šâ€“exclude=â€œ*.txtâ€</p><p>30ã€rsyncåŒæ­¥æ•°æ®æ—¶ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶æ¯”æºæ–‡ä»¶è¿˜æ–°ï¼Œåˆ™å¿½ç•¥è¯¥æ–‡ä»¶ï¼Œå¦‚ä½•åšï¼Ÿ</p><p>ä¿ç•™æ›´æ–°ä½¿ç”¨-uæˆ–è€…â€“updateé€‰é¡¹</p><p>31ã€æƒ³åœ¨Linuxå‘½ä»¤è¡Œä¸‹è®¿é—®æŸä¸ªç½‘ç«™ï¼Œå¹¶ä¸”è¯¥ç½‘ç«™åŸŸåè¿˜æ²¡æœ‰è§£æï¼Œå¦‚ä½•åšï¼Ÿ</p><p>åœ¨/etc/hostsæ–‡ä»¶ä¸­å¢åŠ ä¸€æ¡ä»è¯¥ç½‘ç«™åŸŸååˆ°å…¶IPçš„è§£æè®°å½•å³å¯ï¼Œæˆ–è€…ä½¿ç”¨curl -x</p><p>32ã€è‡ªå®šä¹‰è§£æåŸŸåçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¾‘å“ªä¸ªæ–‡ä»¶ï¼Ÿæ˜¯å¦å¯ä»¥ä¸€ä¸ªipå¯¹åº”å¤šä¸ªåŸŸåï¼Ÿæ˜¯å¦ä¸€ä¸ªåŸŸåå¯¹åº”å¤šä¸ªipï¼Ÿ</p><p>ç¼–è¾‘ /etc/hosts æ–‡ä»¶,å¯ä»¥ä¸€ä¸ªipå¯¹åº”å¤šä¸ªåŸŸåï¼Œä¸å¯ä»¥ä¸€ä¸ªåŸŸåå¯¹å¤šä¸ªipã€‚</p><p>33ã€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å“ªä¸ªå‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿçš„å†å²è´Ÿè½½ï¼ˆæ¯”å¦‚è¯´ä¸¤å¤©å‰çš„ï¼‰ï¼Ÿ</p><p>#ä¾‹å¦‚æŸ¥çœ‹22å·çš„ç³»ç»Ÿè´Ÿè½½</p><p>sar -q -f /var/log/sa/sa22</p><p>34ã€åœ¨Linuxä¸‹å¦‚ä½•æŒ‡å®šdnsæœåŠ¡å™¨ï¼Œæ¥è§£ææŸä¸ªåŸŸåï¼Ÿ</p><p>ä½¿ç”¨digå‘½ä»¤ï¼Œä¾‹å¦‚ä½¿ç”¨è°·æ­ŒDNSè§£æç™¾åº¦</p><p>dig @8.8.8.8 <a href=https://www.baidu.com>www.baidu.com</a></p><p>35ã€ä½¿ç”¨rsyncåŒæ­¥æ•°æ®æ—¶ï¼Œå‡å¦‚æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯sshæ–¹å¼ï¼Œå¹¶ä¸”ç›®æ ‡æœºå™¨çš„sshdç«¯å£å¹¶ä¸æ˜¯é»˜è®¤çš„22ç«¯å£ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•åšï¼Ÿ</p><p>æ–¹å¼1ï¼š</p><p>rsync &ldquo;&ndash;rsh=ssh -p 10022&rdquo;</p><p>æ–¹å¼2ï¼š</p><p>rsync -e &ldquo;ssh -p 10022&rdquo;</p><p>36ã€rsyncåŒæ­¥æ—¶ï¼Œå¦‚ä½•åˆ é™¤ç›®æ ‡æ•°æ®å¤šå‡ºæ¥çš„æ•°æ®ï¼Œå³æºä¸Šä¸å­˜åœ¨ï¼Œä½†ç›®æ ‡å´å­˜åœ¨çš„æ–‡ä»¶æˆ–è€…ç›®å½•ï¼Ÿ</p><p>åŠ ä¸Šâ€“deleteé€‰é¡¹å³å¯ã€‚</p><p>37ã€ä½¿ç”¨freeæŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µæ—¶ï¼Œå“ªä¸ªæ•°å€¼è¡¨ç¤ºçœŸæ­£å¯ç”¨çš„å†…å­˜é‡ï¼Ÿ</p><p>freeå‘½ä»¤åç¬¬äºŒåˆ—çš„å€¼ï¼Œå¦‚ä¸‹å›¾ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hex@Hex-Code:~$ free -h
</span></span><span class=line><span class=cl>               total        used        free      shared  buff/cache   available
</span></span><span class=line><span class=cl>Mem:            30Gi       862Mi        28Gi       3.0Mi       1.4Gi        29Gi
</span></span><span class=line><span class=cl>Swap:          8.0Gi          0B       8.0Gi
</span></span></code></pre></td></tr></table></div></div><p>38ã€æœ‰ä¸€å¤©ä½ çªç„¶å‘ç°å…¬å¸ç½‘ç«™è®¿é—®é€Ÿåº¦å˜çš„å¾ˆæ…¢å¾ˆæ…¢ï¼Œä½ è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>å¯ä»¥ä»ç³»ç»Ÿè´Ÿè½½å’Œç½‘å¡æµé‡æ–¹é¢å…¥æ‰‹åˆ†æã€‚åˆ†æç³»ç»Ÿè´Ÿè½½ï¼Œä½¿ç”¨wå‘½ä»¤æˆ–è€…uptimeå‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½ï¼Œå¦‚æœè´Ÿè½½å¾ˆé«˜ï¼Œåˆ™ä½¿ç”¨topå‘½ä»¤æŸ¥çœ‹CPUï¼ŒMEMç­‰å ç”¨æƒ…å†µï¼Œè¦ä¹ˆæ˜¯CPUç¹å¿™ï¼Œè¦ä¹ˆæ˜¯å†…å­˜ä¸å¤Ÿï¼Œå¦‚æœè¿™äºŒè€…éƒ½æ­£å¸¸ï¼Œå†å»ä½¿ç”¨sarå‘½ä»¤åˆ†æç½‘å¡æµé‡ï¼Œåˆ†ææ˜¯ä¸æ˜¯é­åˆ°äº†æ”»å‡»ã€‚ä¸€æ—¦åˆ†æå‡ºé—®é¢˜çš„åŸå› ï¼Œé‡‡å–å¯¹åº”çš„æªæ–½è§£å†³ï¼Œå¦‚å†³å®šè¦ä¸è¦æ€æ­»ä¸€äº›è¿›ç¨‹ï¼Œæˆ–è€…ç¦æ­¢ä¸€äº›è®¿é—®ç­‰ã€‚</p><p>39ã€rsyncä½¿ç”¨æœåŠ¡æ¨¡å¼æ—¶ï¼Œå¦‚æœæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªå¯†ç æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯†ç æ–‡ä»¶çš„æƒé™åº”è¯¥è®¾ç½®æˆå¤šå°‘æ‰å¯ä»¥ï¼Ÿ</p><p>600æˆ–400</p><p>40ã€ç»™æ‚¨ä¸€å°æœ€å°åŒ–å®‰è£…çš„linuxæœºå™¨ï¼Œå¦‚ä½•è¿›è¡ŒåŸºç¡€ä¼˜åŒ–ï¼Ÿ</p><p>ï¼ˆ1ï¼‰æ›´æ–°yumå®˜æ–¹æº<br>ï¼ˆ2ï¼‰å…³é—­ä¸éœ€è¦çš„æœåŠ¡<br>ï¼ˆ3ï¼‰å…³é—­ä¸éœ€è¦çš„TTY<br>ï¼ˆ4ï¼‰å¯¹TCP/IPç½‘ç»œå‚æ•°è¿›è¡Œè°ƒæ•´ã€‚ä¾‹å¦‚ï¼šä¼˜åŒ–Linuxä¸‹çš„å†…æ ¸TCPå‚æ•°ä»¥æé«˜ç³»ç»Ÿæ€§èƒ½ã€‚<br>ï¼ˆ5ï¼‰è®¾ç½®æ—¶é—´åŒæ­¥<br>ï¼ˆ6ï¼‰ä¼˜åŒ–æœ€å¤§æ–‡ä»¶æ•°é™åˆ¶<br>ï¼ˆ7ï¼‰å…³é—­SELINUX<br>ï¼ˆ8ï¼‰ä¿®æ”¹SSHç™»å½•é…ç½®<br>ï¼ˆ9ï¼‰æ¸…ç†ç™»é™†çš„æ—¶å€™æ˜¾ç¤ºçš„ç³»ç»ŸåŠå†…æ ¸ç‰ˆæœ¬<br>ï¼ˆ10ï¼‰åˆ é™¤ä¸å¿…è¦çš„ç³»ç»Ÿç”¨æˆ·å’Œç¾¤ç»„<br>ï¼ˆ11ï¼‰å…³é—­é‡å¯ctl-alt-deleteç»„åˆé”®<br>ï¼ˆ12ï¼‰è®¾ç½®ä¸€äº›å…¨å±€å˜é‡<br>ï¼ˆ13ï¼‰è®¾ç½®historyå†å²è®°å½•<br>ï¼ˆ14ï¼‰centos6.4æœ€å°åŒ–å®‰è£…åå¯åŠ¨ç½‘å¡<br>ï¼ˆ15ï¼‰æ·»åŠ æ™®é€šç”¨æˆ·ï¼Œè®¾ç½®sudoæƒé™<br>ï¼ˆ16ï¼‰ç¦æ­¢rootè¿œç¨‹ç”¨æˆ·ç™»å½•<br>ï¼ˆ17ï¼‰sedä¿®æ”¹è¿œç¨‹ç«¯å£<br>ï¼ˆ18ï¼‰é˜²ç«å¢™iptablesé…ç½®ã€‚<br>ï¼ˆ19ï¼‰ä¿®æ”¹é»˜è®¤DNS<br>ï¼ˆ20ï¼‰å®‰è£…å¿…è¦è½¯ä»¶,æ›´æ–°yumæº [epelæº]<br>ï¼ˆ21ï¼‰æ›´æ–°å†…æ ¸å’Œè½¯ä»¶åˆ°æœ€æ–°ç‰ˆæœ¬<br>ï¼ˆ22ï¼‰å»é™¤ä¸Šæ¬¡ç™»å½•çš„ä¿¡æ¯</p><p>41ã€è¯·è¯´å‡ºå†…æ ¸è°ƒä¼˜é…ç½®æ–‡ä»¶åå­—ï¼Ÿä¸¾ä¾‹å‡ ä¸ªå†…æ ¸éœ€è¦ä¼˜åŒ–çš„å‚æ•°é…ç½®ï¼Ÿ</p><p>æ–‡ä»¶åç§°ï¼š/etc/sysctl.conf</p><p>ä»¥ä¸‹è¡¨ç¤ºå¼€å¯TCPè¿æ¥ä¸­TIME-WAIT socketsçš„å¿«é€Ÿæ”¶å›åŠŸèƒ½ï¼Œé»˜è®¤ä¸º 0 ï¼Œè¡¨ç¤ºå…³é—­ã€‚</p><p>net.ipv4.tcp_tw_recycle = 1</p><p>ä»¥ä¸‹è¡¨ç¤ºå¼€å¯é‡ç”¨ã€‚å…è®¸å°†TIME-WAIT socketsé‡æ–°ç”¨äºæ–°çš„ TCP è¿æ¥ï¼Œé»˜è®¤ä¸º 0 è¡¨ç¤ºå…³é—­ã€‚</p><p>net.ipv4.tcp_tw_reuse = 1</p><p>åœ¨å†…æ ¸æ”¾å¼ƒå»ºç«‹è¿æ¥ä¹‹å‰å‘é€SYNåŒ…çš„æ•°é‡ã€‚ é»˜è®¤6ï¼ˆå³æ—¶é—´ä¸º2^7-1 =127sï¼‰</p><p>net.ipv4.tcp_syn_retries = 6</p><p>#å…è®¸ç³»ç»Ÿæ‰“å¼€çš„ç«¯å£èŒƒå›´</p><p>net.ipv4.ip_local_port_range = 1024 65000</p><p>æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°ï¼Œå•ä¸ªè¿›ç¨‹å¯åˆ†é…çš„æœ€å¤§æ–‡ä»¶æ•°</p><p>fs.nr_open = 10000000</p><p>è¡¨ç¤ºç³»ç»Ÿçº§åˆ«çš„èƒ½å¤Ÿæ‰“å¼€çš„æ–‡ä»¶å¥æŸ„çš„æ•°é‡ã€‚æ˜¯å¯¹æ•´ä¸ªç³»ç»Ÿçš„é™åˆ¶,å¹¶ä¸æ˜¯é’ˆå¯¹ç”¨æˆ·çš„</p><p>fs.file-max = 11000000</p><p>42ã€å½“ä½ éœ€è¦ç»™å‘½ä»¤ç»‘å®šä¸€ä¸ªå®æˆ–è€…æŒ‰é”®çš„æ—¶å€™ï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢?</p><p>å¯ä»¥ä½¿ç”¨bindå‘½ä»¤ï¼Œbindå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨shellä¸­å®ç°å®æˆ–æŒ‰é”®çš„ç»‘å®šã€‚åœ¨è¿›è¡ŒæŒ‰é”®ç»‘å®šçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å…ˆè·å–åˆ°ç»‘å®šæŒ‰é”®å¯¹åº”çš„å­—ç¬¦åºåˆ—ã€‚<br>ä¾‹å¦‚è·å–F12çš„å­—ç¬¦åºåˆ—è·å–æ–¹æ³•å¦‚ä¸‹ï¼š<br>å…ˆæŒ‰ä¸‹Ctrl+V,ç„¶åæŒ‰ä¸‹F12 .æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°F12çš„å­—ç¬¦åºåˆ— ^[[24~ã€‚<br>æ¥ç€ä½¿ç”¨bindè¿›è¡Œç»‘å®šã€‚</p><p>bind â€˜â€\e[24~":&ldquo;date&rdquo;'</p><p>æ³¨æ„ï¼šç›¸åŒçš„æŒ‰é”®åœ¨ä¸åŒçš„ç»ˆç«¯æˆ–ç»ˆç«¯æ¨¡æ‹Ÿå™¨ä¸‹å¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„å­—ç¬¦åºåˆ—ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨showkey -aå‘½ä»¤æŸ¥çœ‹æŒ‰é”®å¯¹åº”çš„å­—ç¬¦åºåˆ—ã€‚</p><p>43ã€å¦‚æœä¸€ä¸ªlinuxæ–°æ‰‹æƒ³è¦çŸ¥é“å½“å‰ç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰å‘½ä»¤çš„åˆ—è¡¨ï¼Œä»–éœ€è¦æ€ä¹ˆåšï¼Ÿ</p><p>ä½¿ç”¨å‘½ä»¤compgen -cï¼Œå¯ä»¥æ‰“å°å‡ºæ‰€æœ‰æ”¯æŒçš„å‘½ä»¤åˆ—è¡¨ã€‚</p><p>44ã€å¦‚æœä½ çš„åŠ©æ‰‹æƒ³è¦æ‰“å°å‡ºå½“å‰çš„ç›®å½•æ ˆï¼Œä½ ä¼šå»ºè®®ä»–æ€ä¹ˆåš?</p><p>ä½¿ç”¨Linux å‘½ä»¤dirså¯ä»¥å°†å½“å‰çš„ç›®å½•æ ˆæ‰“å°å‡ºæ¥ã€‚</p><p>45ã€ä½ çš„ç³»ç»Ÿç›®å‰æœ‰è®¸å¤šæ­£åœ¨è¿è¡Œçš„ä»»åŠ¡ï¼Œåœ¨ä¸é‡å¯æœºå™¨çš„æ¡ä»¶ä¸‹ï¼Œæœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥æŠŠæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ç§»é™¤å‘¢?</p><p>ä½¿ç”¨Linuxå‘½ä»¤disown -rå¯ä»¥å°†æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ç§»é™¤ã€‚</p><p>46ã€bash shell ä¸­çš„hash å‘½ä»¤æœ‰ä»€ä¹ˆä½œç”¨?</p><p>linuxå‘½ä»¤hashç®¡ç†ç€ä¸€ä¸ªå†…ç½®çš„å“ˆå¸Œè¡¨ï¼Œè®°å½•äº†å·²æ‰§è¡Œè¿‡çš„å‘½ä»¤çš„å®Œæ•´è·¯å¾„, ç”¨è¯¥å‘½ä»¤å¯ä»¥æ‰“å°å‡ºä½ æ‰€ä½¿ç”¨è¿‡çš„å‘½ä»¤ä»¥åŠæ‰§è¡Œçš„æ¬¡æ•°ã€‚</p><p>47ã€å“ªä¸€ä¸ªbashå†…ç½®å‘½ä»¤èƒ½å¤Ÿè¿›è¡Œæ•°å­¦è¿ç®—?</p><p>bash shell çš„å†…ç½®å‘½ä»¤letå¯ä»¥è¿›è¡Œæ•´å‹æ•°çš„æ•°å­¦è¿ç®—ã€‚</p><p>48ã€æ€æ ·ä¸€é¡µä¸€é¡µåœ°æŸ¥çœ‹ä¸€ä¸ªå¤§æ–‡ä»¶çš„å†…å®¹å‘¢?</p><p>é€šè¿‡ç®¡é“å°†å‘½ä»¤â€cat file_name.txtâ€ å’Œ â€™moreâ€™ è¿æ¥åœ¨ä¸€èµ·å¯ä»¥å®ç°è¿™ä¸ªéœ€è¦.</p><p>cat file_name.txt | more</p><p>49ã€æ•°æ®å­—å…¸å±äºå“ªä¸€ä¸ªç”¨æˆ·çš„?</p><p>æ•°æ®å­—å…¸æ˜¯å±äºâ€™SYSâ€™ç”¨æˆ·çš„ï¼Œç”¨æˆ·â€˜SYSâ€™ å’Œ â€™SYSEMâ€™æ˜¯ç”±ç³»ç»Ÿé»˜è®¤è‡ªåŠ¨åˆ›å»ºçš„ã€‚</p><p>50ã€æ€æ ·æŸ¥çœ‹ä¸€ä¸ªlinuxå‘½ä»¤çš„æ¦‚è¦ä¸ç”¨æ³•?</p><p>ä½¿ç”¨å‘½ä»¤whatis å¯ä»¥å…ˆå‡ºæ˜¾ç¤ºå‡ºè¿™ä¸ªå‘½ä»¤çš„ç”¨æ³•ç®€è¦ã€‚</p><p>ä¾‹å¦‚ï¼šå¯ä»¥ä½¿ç”¨whatis netstat å»æŸ¥çœ‹netstatå‘½ä»¤çš„ä»‹ç»ä»¥åŠä½¿ç”¨ç®€è¦ã€‚</p><p>51ã€ä½¿ç”¨å“ªä¸€ä¸ªå‘½ä»¤å¯ä»¥æŸ¥çœ‹è‡ªå·±æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´é…é¢å‘¢?</p><p>ä½¿ç”¨å‘½ä»¤repquotaèƒ½å¤Ÿæ˜¾ç¤ºå‡ºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„é…é¢ä¿¡æ¯</p><p>52ã€å¦‚ä½•æŸ¥çœ‹ http çš„å¹¶å‘è¯·æ±‚æ•°ä¸å…¶ TCP è¿æ¥çŠ¶æ€ï¼Ÿ</p><p>netstat -n | awk &lsquo;/^tcp/ {++b[$NF]} END {for(a in b) print a, b[a]}&rsquo;<br>53ã€å¦‚ä½•ä¿®æ”¹ç³»ç»Ÿæ‰“å¼€æœ€å¤§å¥æŸ„æ•°ï¼Ÿ</p><p>ulimit -n æŸ¥çœ‹ linux ç³»ç»Ÿæ‰“å¼€æœ€å¤§çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œè¿™é‡Œé»˜è®¤ 1024ï¼Œä¸ä¿®æ”¹è¿™é‡Œ web æœåŠ¡å™¨ä¿®æ”¹å†å¤§ä¹Ÿæ²¡ç”¨ã€‚<br>ä¿®æ”¹/etc/security/limits.confæ–‡ä»¶ï¼Œä¿®æ”¹å†…å®¹å¦‚ä¸‹ã€‚</p><ul><li>soft nofile 10240</li><li>hard nofile 10240<br>54ã€ç”¨ tcpdump å—…æ¢ 80 ç«¯å£çš„è®¿é—®çœ‹çœ‹è°æœ€é«˜</li></ul><p>tcpdump -i eth0 -tnn dst port 80 -c 1000 | awk -F"." &lsquo;{print $1"."$2"."$3"."$4}&rsquo; | sort | uniq -c | sort -nr |head -5</p><p>55ã€æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ¯ä¸ª IP çš„è¿æ¥æ•°</p><p>netstat -n | awk &lsquo;/^tcp/ {print $5}&rsquo;| awk -F: &lsquo;{print $1}&rsquo; | sort | uniq -c | sort -rn</p><p>56ã€shell ä¸‹ 32 ä½éšæœºå¯†ç ç”Ÿæˆ</p><p>cat /dev/urandom | head -1 | md5sum | head -c 32 &#187; /pass<br>1</p><p>57.å¦‚ä½•æŸ¥çœ‹äºŒè¿›åˆ¶æ–‡ä»¶çš„å†…å®¹ï¼Ÿ</p><p>æˆ‘ä»¬ä¸€èˆ¬é€šè¿‡ hexdump å‘½ä»¤ æ¥æŸ¥çœ‹äºŒè¿›åˆ¶æ–‡ä»¶çš„å†…å®¹ã€‚<br>ä¾‹å¦‚hexdump -C XXX(æ–‡ä»¶å)ï¼Œ -C æ˜¯å‚æ•°ï¼Œä¸åŒçš„å‚æ•°æœ‰ä¸åŒçš„æ„ä¹‰ã€‚</p><p>ç®€å•ä¾‹ä¸¾å‡ ä¸ªå‚æ•°ï¼š</p><p>-C æ˜¯æ¯”è¾ƒè§„èŒƒçš„ åå…­è¿›åˆ¶å’Œ ASCII ç æ˜¾ç¤º<br>-c æ˜¯å•å­—èŠ‚å­—ç¬¦æ˜¾ç¤º<br>-b å•å­—èŠ‚å…«è¿›åˆ¶æ˜¾ç¤º<br>-o æ˜¯åŒå­—èŠ‚å…«è¿›åˆ¶æ˜¾ç¤º<br>-d æ˜¯åŒå­—èŠ‚åè¿›åˆ¶æ˜¾ç¤º<br>-x æ˜¯åŒå­—èŠ‚åå…­è¿›åˆ¶æ˜¾ç¤º</p><p>58ã€ps aux ä¸­çš„ VSZ ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼ŒRSS ä»£è¡¨ä»€ä¹ˆæ„æ€</p><p>VSZ:è™šæ‹Ÿå†…å­˜é›†,è¿›ç¨‹å ç”¨çš„è™šæ‹Ÿå†…å­˜ç©ºé—´<br>RSS:ç‰©ç†å†…å­˜é›†,è¿›ç¨‹æˆ˜ç”¨å®é™…ç‰©ç†å†…å­˜ç©ºé—´</p><p>59ã€å¦‚ä½•æ£€æµ‹å¹¶ä¿®å¤/dev/hda5ï¼Ÿ</p><p>fsck ç”¨æ¥æ£€æŸ¥å’Œç»´æŠ¤ä¸ä¸€è‡´çš„æ–‡ä»¶ç³»ç»Ÿã€‚è‹¥ç³»ç»Ÿæ‰ç”µæˆ–ç£ç›˜å‘ç”Ÿé—®é¢˜ï¼Œå¯åˆ©ç”¨ fsck å‘½ä»¤å¯¹æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ£€æŸ¥ã€‚</p><p>60ã€æè¿°Linux ç³»ç»Ÿçš„å¼€æœºå¯åŠ¨é¡ºåº</p><p>åŠ è½½ BIOSâ€“>è¯»å– MBRâ€“>Boot Loaderâ€“>åŠ è½½å†…æ ¸â€“>ç”¨æˆ·å±‚ init ä¸€å¥ inittab æ–‡ä»¶æ¥è®¾å®šç³»ç»Ÿè¿è¡Œçš„ç­‰çº§(ä¸€èˆ¬ 3 æˆ–è€… 5ï¼Œ3 æ˜¯å¤šç”¨æˆ·å‘½ä»¤è¡Œï¼Œ5 æ˜¯ç•Œé¢)â€“>init è¿›ç¨‹æ‰§è¡Œ rc.syninitâ€“>å¯åŠ¨å†…æ ¸æ¨¡å—â€“>æ‰§è¡Œä¸åŒçº§åˆ«è¿è¡Œçš„è„šæœ¬ç¨‹åºâ€“>æ‰§è¡Œ/etc/rc.d/rc.local(æœ¬åœ°è¿è¡ŒæœåŠ¡)â€“>æ‰§è¡Œ/bin/login,å°±å¯ä»¥ç™»å½•äº†ã€‚</p><p>61ã€ç¬¦å·é“¾æ¥ä¸ç¡¬é“¾æ¥çš„åŒºåˆ«ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥æŠŠç¬¦å·é“¾æ¥ï¼Œä¹Ÿå°±æ˜¯è½¯è¿æ¥ å½“åšæ˜¯ windows ç³»ç»Ÿé‡Œçš„ å¿«æ·æ–¹å¼ã€‚<br>ç¡¬é“¾æ¥å°±å¥½åƒæ˜¯åˆå¤åˆ¶äº†ä¸€ä»½ã€‚</p><p>ä¾‹å¦‚ä¸‹è¿°å‘½ä»¤ï¼Œè¿™æ˜¯ç¡¬é“¾æ¥ï¼Œç›¸å½“äºå¤åˆ¶ï¼Œä¸å¯ä»¥è·¨åˆ†åŒºï¼Œä½†ä¿®æ”¹ 3.txt,4.txtä¼šè·Ÿç€å˜ï¼Œè‹¥åˆ é™¤ 3.txt,4.txtä¸å—ä»»ä½•å½±å“ã€‚</p><p>ln 3.txt 4.txt</p><p>ä¾‹å¦‚ä¸‹è¿°å‘½ä»¤ï¼Œ è¿™æ˜¯è½¯è¿æ¥ï¼Œç›¸å½“äºå¿«æ·æ–¹å¼ã€‚ä¿®æ”¹ 4.txt,3.txtä¹Ÿä¼šè·Ÿç€å˜ï¼Œè‹¥åˆ é™¤3.txt,4.txtå°±åæ‰äº†ã€‚ä¸å¯ä»¥ç”¨äº†ã€‚</p><p>ln -s 3.txt 4.txt</p><p>62ã€å¦‚ä½•ä¿å­˜å½“å‰ç£ç›˜åˆ†åŒºçš„åˆ†åŒºè¡¨ï¼Ÿ</p><p>dd å‘½ä»¤æ˜¯ä»¥ä¸ªå¼ºå¤§çš„å‘½ä»¤ï¼Œåœ¨å¤åˆ¶çš„åŒæ—¶è¿›è¡Œè½¬æ¢<br>dd if=/dev/sda of=./mbr.txt bs=1 count=512</p><p>63ã€è¯´è¯´FTP çš„ä¸»åŠ¨æ¨¡å¼å’Œè¢«åŠ¨æ¨¡å¼</p><p>FTP åè®®æœ‰ä¸¤ç§å·¥ä½œæ–¹å¼ï¼ŒPORT æ–¹å¼å’Œ PASV æ–¹å¼ï¼Œä¸­æ–‡æ„æ€ä¸ºä¸»åŠ¨å¼å’Œè¢«åŠ¨å¼ã€‚<br>PORTï¼ˆä¸»åŠ¨ï¼‰æ–¹å¼çš„è¿æ¥è¿‡ç¨‹æ˜¯ï¼š<br>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„ FTP ç«¯å£ï¼ˆé»˜è®¤æ˜¯ 21ï¼‰å‘é€è¿æ¥è¯· æ±‚ï¼ŒæœåŠ¡å™¨æ¥å—è¿æ¥ï¼Œå»ºç«‹ä¸€æ¡å‘½ä»¤é“¾è·¯ã€‚å½“éœ€è¦ä¼ é€æ•°æ®æ—¶ï¼Œå®¢æˆ·ç«¯åœ¨å‘½ä»¤é“¾è·¯ä¸Šç”¨ PORT å‘½ä»¤å‘Šè¯‰æœåŠ¡å™¨ï¼šâ€œæˆ‘æ‰“å¼€äº† XX ç«¯å£ï¼Œä½ è¿‡æ¥è¿æ¥æˆ‘â€ã€‚äºæ˜¯æœåŠ¡å™¨ä» 20 ç«¯å£å‘å®¢æˆ·ç«¯çš„ XX ç«¯å£å‘é€è¿æ¥è¯·æ±‚ï¼Œå»ºç«‹ä¸€æ¡æ•°æ®é“¾è·¯æ¥ä¼ é€æ•°æ®ã€‚<br>PASVï¼ˆè¢«åŠ¨ï¼‰æ–¹å¼çš„è¿æ¥è¿‡ç¨‹æ˜¯ï¼š<br>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„ FTP ç«¯å£ï¼ˆé»˜è®¤æ˜¯ 21ï¼‰å‘é€è¿æ¥è¯· æ±‚ï¼ŒæœåŠ¡å™¨æ¥å—è¿æ¥ï¼Œå»ºç«‹ä¸€æ¡å‘½ä»¤é“¾è·¯ã€‚å½“éœ€è¦ä¼ é€æ•°æ®æ—¶ï¼ŒæœåŠ¡å™¨åœ¨å‘½ä»¤é“¾è·¯ä¸Šç”¨ PASV å‘½ä»¤å‘Šè¯‰å®¢æˆ·ç«¯ï¼šâ€œæˆ‘æ‰“å¼€äº† XX ç«¯å£ï¼Œä½ è¿‡æ¥è¿æ¥æˆ‘â€ã€‚äºæ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„ XX ç«¯å£ å‘é€è¿æ¥è¯·æ±‚ï¼Œå»ºç«‹ä¸€æ¡æ•°æ®é“¾è·¯æ¥ä¼ é€æ•°æ®ã€‚<br>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œä¸¤ç§æ–¹å¼çš„å‘½ä»¤é“¾è·¯è¿æ¥æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œè€Œæ•°æ®é“¾è·¯çš„å»ºç«‹æ–¹æ³•å°±å®Œ å…¨ä¸åŒã€‚</p><p>64ã€æ€ä¹ˆæŠŠè„šæœ¬æ·»åŠ åˆ°ç³»ç»ŸæœåŠ¡é‡Œï¼Œå³ç”¨ service æ¥è°ƒç”¨ï¼Ÿ</p><p>åœ¨è„šæœ¬é‡ŒåŠ å…¥å¦‚ä¸‹å†…å®¹ï¼Œç¬¬ä¸€è¡Œè„šæœ¬è‡ªå¸¦ï¼Œç¬¬ä¸‰è¡Œä¸ºè„šæœ¬æè¿°ï¼Œæ— å®é™…æ„ä¹‰ã€‚</p><p>#!/bin/bash</p><p>65ã€å¦‚ä½•å°†æœ¬åœ°80ç«¯å£çš„è¯·æ±‚è½¬å‘åˆ°8080ç«¯å£,å½“å‰ä¸»æœºIPä¸º192.168.16.1,å…¶ä¸­æœ¬åœ°ç½‘å¡eth0</p><p>æ–¹å¼ä¸€ï¼š</p><p>iptables-tnat -A PREROUTING -d 192.168.16.1 -p tcp â€“dport 80 -j DNAT â€“to192.168.16.1:8080</p><p>æ–¹å¼äºŒï¼š</p><p>iptables-t nat -A PREROUTING -i eth0 -d 192.168.16.1 -p tcp -m tcp â€“dport 80 -j REDIRECT â€“to-ports 8080</p><p>66ã€ä»€ä¹ˆæ˜¯NAT,å¸¸è§åˆ†ä¸ºé‚£å‡ ç§ï¼ŒDNATä¸SNATæœ‰ä»€ä¹ˆä¸åŒï¼Œåº”ç”¨äº‹ä¾‹æœ‰é‚£äº›ï¼Ÿ</p><p>SNATï¼ŒDNATï¼ŒMASQUERADEéƒ½æ˜¯NATã€‚<br>MASQUERADEæ˜¯SNATçš„ä¸€ä¸ªç‰¹ä¾‹ã€‚<br>SNATæ˜¯æŒ‡åœ¨æ•°æ®åŒ…ä»ç½‘å¡å‘é€å‡ºå»çš„æ—¶å€™ï¼ŒæŠŠæ•°æ®åŒ…ä¸­çš„æºåœ°å€éƒ¨åˆ†æ›¿æ¢ä¸ºæŒ‡å®šçš„IPï¼Œè¿™æ ·ï¼Œæ¥æ”¶æ–¹å°±è®¤ä¸ºæ•°æ®åŒ…çš„æ¥æºæ˜¯è¢«æ›¿æ¢çš„é‚£ä¸ªIPçš„ä¸»æœºã€‚<br>MASQUERADEæ˜¯ç”¨å‘é€æ•°æ®çš„ç½‘å¡ä¸Šçš„IPæ¥æ›¿æ¢æºIPï¼Œå› æ­¤ï¼Œå¯¹äºé‚£äº›IPä¸å›ºå®šçš„åœºåˆï¼Œæ¯”å¦‚æ‹¨å·ç½‘ç»œæˆ–è€…é€šè¿‡dhcpåˆ†é…IPçš„æƒ…å†µä¸‹ï¼Œå°±å¾—ç”¨MASQUERADEã€‚<br>DNATï¼Œå°±æ˜¯æŒ‡æ•°æ®åŒ…ä»ç½‘å¡å‘é€å‡ºå»çš„æ—¶å€™ï¼Œä¿®æ”¹æ•°æ®åŒ…ä¸­çš„ç›®çš„IPï¼Œè¡¨ç°ä¸ºå¦‚æœä½ æƒ³è®¿é—®Aï¼Œå¯æ˜¯å› ä¸ºç½‘å…³åšäº†DNATï¼ŒæŠŠæ‰€æœ‰è®¿é—®Açš„æ•°æ®åŒ…çš„ç›®çš„IPå…¨éƒ¨ä¿®æ”¹ä¸ºBï¼Œé‚£ä¹ˆï¼Œä½ å®é™…ä¸Šè®¿é—®çš„æ˜¯Bï¼Œå› ä¸ºï¼Œè·¯ç”±æ˜¯æŒ‰ç…§ç›®çš„åœ°å€æ¥é€‰æ‹©çš„ï¼Œå› æ­¤ï¼ŒDNATæ˜¯åœ¨PREROUTINGé“¾ä¸Šæ¥è¿›è¡Œçš„ï¼Œè€ŒSNATæ˜¯åœ¨æ•°æ®åŒ…å‘é€å‡ºå»çš„æ—¶å€™æ‰è¿›è¡Œï¼Œå› æ­¤æ˜¯åœ¨POSTROUTINGé“¾ä¸Šè¿›è¡Œçš„ã€‚</p><p>67ã€åŒ…è¿‡æ»¤é˜²ç«å¢™ä¸ä»£ç†åº”ç”¨é˜²ç«å¢™æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œèƒ½åˆ—ä¸¾å‡ ç§ç›¸åº”çš„äº§å“å—ï¼Ÿ</p><p>åŒ…è¿‡æ»¤é˜²ç«å¢™æ˜¯æ ¹æ®åŒ…å¤´è¿›è¡Œçš„è¿‡æ»¤ï¼Œå¹¶ä¸”æ˜¯å¤„äºç½‘ç»œå±‚çš„ï¼Œæ ¹æ®åŒ…çš„æºipåœ°å€ï¼Œç›®æ ‡ipåœ°å€ï¼Œåè®®ç±»å‹ï¼Œç«¯å£å·ï¼Œè¿›è¡Œè¿‡æ»¤ï¼›ä»£ç†åº”ç”¨é˜²ç«å¢™å·¥ä½œåœ¨åº”ç”¨å±‚ï¼Œä»–ä½¿ç”¨ä»£ç†æœåŠ¡å™¨æŠ€æœ¯ï¼Œå°†å†…ç½‘å¯¹å¤–ç½‘çš„è®¿é—®ï¼Œå˜ä¸ºé˜²ç«å¢™å¯¹å¤–ç½‘çš„è®¿é—®ï¼Œå¯ä»¥å¯¹åŒ…çš„å†…å®¹è¿›è¡Œåˆ†è¾¨ï¼Œä»è€Œè¿‡æ»¤ã€‚<br>ä»£ç†åº”ç”¨é˜²ç«å¢™ï¼šå¤©èä¿¡GFW4000<br>åŒ…è¿‡æ»¤é˜²ç«å¢™ï¼šåä¸ºNE 16E</p><p>68ã€iptablesæ˜¯å¦æ”¯æŒtimeæ—¶é—´æ§åˆ¶ç”¨æˆ·è¡Œä¸ºï¼Œå¦‚æœ‰è¯·å†™å‡ºå…·ä½“æ“ä½œæ­¥éª¤ã€‚</p><p>æ”¯æŒã€‚éœ€è¦å¢åŠ ç›¸å…³æ”¯æŒçš„å†…æ ¸è¡¥ä¸ï¼Œå¹¶ä¸”è¦é‡æ–°ç¼–è¯‘å†…æ ¸ã€‚<br>æˆ–è€…ä½¿ç”¨crontabé…åˆiptablesï¼š<br>é¦–å…ˆï¼švi /deny.bat è¾“å…¥ä»¥ä¸‹å‘½ä»¤åä¿å­˜é€€å‡ºã€‚</p><p>/sbin/iptables -A OUTPUT -p tcp -s 192.168.1.0/24 &ndash;dport 80 -j DROP</p><p>æ‰“å¼€crontab-eè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><p>00 21ï¼Šã€€ï¼Šã€€ï¼Š /bin/sh /deny.bat</p><p>69ã€è¯´å‡ºä½ çŸ¥é“çš„å‡ ç§linux/unixå‘è¡Œç‰ˆæœ¬ã€‚</p><p>Redhatã€CentOSã€Fedoraã€SuSEã€Slackwareã€Gentooã€Debianã€Ubuntuã€FreeBSDã€Solarisã€SCOã€AIXã€HPç­‰ç­‰ã€‚</p><p>70ã€åˆ—å‡ºlinuxå¸¸è§æ‰“åŒ…å·¥å…·å¹¶å†™ç›¸åº”è§£å‹ç¼©å‚æ•°(è‡³å°‘ä¸‰ç§)</p><p>tarã€gzã€bzä¸‰ä¸ªæ‰“åŒ…å·¥å…·ã€‚<br>Tar -xvzf<br>gzip -d<br>bzip2 -d</p><p>71ã€è®¡åˆ’æ¯æ˜ŸæœŸå¤©æ—©8ç‚¹æœåŠ¡å™¨å®šæ—¶é‡å¯ï¼Œå¦‚ä½•å®ç°ï¼Ÿ<br>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><p>crontab -e</p><p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><p>0008 * * 7 /sbin/init 6</p><p>72ã€åˆ—å‡ºä½œä¸ºå®Œæ•´é‚®ä»¶ç³»ç»Ÿçš„è½¯ä»¶,è‡³å°‘äºŒç±»ã€‚</p><p>Sendmail,postfix,qmail</p><p>73ã€å½“ç”¨æˆ·åœ¨æµè§ˆå™¨å½“ä¸­è¾“å…¥ä¸€ä¸ªç½‘ç«™ï¼Œè¯´è¯´è®¡ç®—æœºå¯¹dnsè§£é‡Šç»è¿‡é‚£äº›æµç¨‹ï¼Ÿæ³¨ï¼šæœ¬æœºè·Ÿæœ¬åœ°dnsè¿˜æ²¡æœ‰ç¼“å­˜ã€‚</p><p>ï¼ˆ1ï¼‰ç”¨æˆ·è¾“å…¥ç½‘å€åˆ°æµè§ˆå™¨ï¼›<br>ï¼ˆ2ï¼‰æµè§ˆå™¨å‘å‡ºDNSè¯·æ±‚ä¿¡æ¯ï¼›<br>ï¼ˆ3ï¼‰è®¡ç®—æœºé¦–å…ˆæŸ¥è¯¢æœ¬æœºHOSTæ–‡ä»¶ï¼Œçœ‹æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨ç›´æ¥è¿”å›ç»“æœï¼Œä¸å­˜åœ¨ï¼Œç»§ç»­ä¸‹ä¸€æ­¥ï¼›<br>ï¼ˆ4ï¼‰è®¡ç®—æœºæŒ‰ç…§æœ¬åœ°DNSçš„é¡ºåºï¼Œå‘åˆæ³•dnsæœåŠ¡å™¨æŸ¥è¯¢IPç»“æœï¼›<br>ï¼ˆ5ï¼‰åˆæ³•dnsè¿”å›dnsç»“æœç»™æœ¬åœ°dnsï¼Œæœ¬åœ°dnså¹¶ç¼“å­˜æœ¬ç»“æœï¼Œç›´åˆ°TTLè¿‡æœŸï¼Œæ‰å†æ¬¡æŸ¥è¯¢æ­¤ç»“æœï¼›<br>ï¼ˆ6ï¼‰è¿”å›IPç»“æœç»™æµè§ˆå™¨ï¼›<br>ï¼ˆ7ï¼‰æµè§ˆå™¨æ ¹æ®IPä¿¡æ¯ï¼Œè·å–é¡µé¢ï¼›</p><p>74ã€æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œdnsæ—¢é‡‡ç”¨äº†tcpåè®®ï¼Œåˆé‡‡ç”¨äº†udpåè®®ï¼Œä»€ä¹ˆæ—¶å€™é‡‡ç”¨tcpåè®®ï¼Ÿä»€ä¹ˆæ—¶å€™é‡‡ç”¨udpåè®®ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡ï¼Ÿ</p><p>è¿™ä¸ªé¢˜éœ€è¦ç†è§£çš„ä¸œè¥¿æ¯”è¾ƒçš„å¤šï¼Œåˆ†ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š<br>ï¼ˆ1ï¼‰ä»æ•°æ®åŒ…å¤§å°ä¸Šåˆ†ï¼šUDPçš„æœ€å¤§åŒ…é•¿åº¦æ˜¯65507ä¸ªå­—èŠ‚ï¼Œå“åº”dnsæŸ¥è¯¢çš„æ—¶å€™æ•°æ®åŒ…é•¿åº¦è¶…è¿‡512ä¸ªå­—èŠ‚ï¼Œè€Œè¿”å›çš„åªè¦å‰512ä¸ªå­—èŠ‚ï¼Œè¿™æ—¶åå­— è§£é‡Šå™¨é€šå¸¸ä½¿ç”¨TCPä»å‘åŸæ¥çš„è¯·æ±‚ã€‚<br>ï¼ˆ2ï¼‰ä»åè®®æœ¬èº«æ¥åˆ†ï¼šå¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹ä½¿ç”¨UDPåè®®ï¼Œå¤§å®¶éƒ½çŸ¥é“UDPåè®®æ˜¯ä¸€ç§ä¸å¯é çš„åè®®ï¼Œdnsä¸åƒå…¶å®ƒçš„ä½¿ç”¨UDPçš„Internetåº”ç”¨ (å¦‚ï¼šTFTPï¼ŒBOOTPå’ŒSNMPç­‰)ï¼Œå¤§éƒ¨åˆ†é›†ä¸­åœ¨å±€åŸŸç½‘ï¼ŒdnsæŸ¥è¯¢å’Œå“åº”éœ€è¦ç»è¿‡å¹¿åŸŸç½‘ï¼Œåˆ†ç»„ä¸¢å¤±å’Œå¾€è¿”æ—¶é—´çš„ä¸ç¡®å®šæ€§åœ¨å¹¿åŸŸç½‘æ¯”å±€åŸŸç½‘ä¸Šæ›´å¤§ï¼Œè¿™å°±è¦æ±‚dnså®¢æˆ·ç«¯éœ€è¦å¥½çš„é‡ä¼ å’Œè¶…æ—¶ç®—æ³•ï¼Œè¿™æ—¶å€™ä½¿ç”¨TCPã€‚</p><p>75ã€ä¸€ä¸ªEXT3çš„æ–‡ä»¶åˆ†åŒºï¼Œå½“ä½¿ç”¨touch test.fileå‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶æ—¶æŠ¥é”™ï¼ŒæŠ¥é”™çš„ä¿¡æ¯æ˜¯æç¤ºç£ç›˜å·²æ»¡ï¼Œä½†æ˜¯é‡‡ç”¨df -hå‘½ä»¤æŸ¥çœ‹ç£ç›˜å¤§å°æ—¶ï¼Œåªä½¿ç”¨äº†ï¼Œ60%çš„ç£ç›˜ç©ºé—´ï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªæƒ…å†µï¼Œè¯´è¯´ä½ çš„ç†ç”±ã€‚</p><p>ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯ç£ç›˜é…é¢é—®é¢˜ï¼Œå¦å¤–ä¸€ç§å°±æ˜¯EXT3æ–‡ä»¶ç³»ç»Ÿçš„è®¾è®¡ä¸é€‚åˆå¾ˆå¤šå°æ–‡ä»¶è·Ÿå¤§æ–‡ä»¶çš„ä¸€ç§æ–‡ä»¶æ ¼å¼ï¼Œå‡ºç°å¾ˆå¤šå°æ–‡ä»¶æ—¶ï¼Œå®¹æ˜“å¯¼è‡´inodeè€—å°½äº†ã€‚</p><p>76ã€æˆ‘ä»¬éƒ½çŸ¥é“FTPåè®®æœ‰ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼Œè¯´è¯´å®ƒä»¬çš„å¤§æ¦‚çš„ä¸€ä¸ªå·¥ä½œæµç¨‹ï¼Ÿ</p><p>FTPä¸¤ç§å·¥ä½œæ¨¡å¼ï¼šä¸»åŠ¨æ¨¡å¼ï¼ˆActive FTPï¼‰å’Œè¢«åŠ¨æ¨¡å¼ï¼ˆPassive FTPï¼‰<br>åœ¨ä¸»åŠ¨æ¨¡å¼ä¸‹ï¼ŒFTPå®¢æˆ·ç«¯éšæœºå¼€å¯ä¸€ä¸ªå¤§äº1024çš„ç«¯å£Nå‘æœåŠ¡å™¨çš„21å·ç«¯å£å‘èµ·è¿æ¥ï¼Œç„¶åå¼€æ”¾N+1å·ç«¯å£è¿›è¡Œç›‘å¬ï¼Œå¹¶å‘æœåŠ¡å™¨å‘å‡ºPORT N+1å‘½ä»¤ã€‚<br>æœåŠ¡å™¨æ¥æ”¶åˆ°å‘½ä»¤åï¼Œä¼šç”¨å…¶æœ¬åœ°çš„FTPæ•°æ®ç«¯å£ï¼ˆé€šå¸¸æ˜¯20ï¼‰æ¥è¿æ¥å®¢æˆ·ç«¯æŒ‡å®šçš„ç«¯å£N+1ï¼Œè¿›è¡Œæ•°æ®ä¼ è¾“ã€‚<br>åœ¨è¢«åŠ¨æ¨¡å¼ä¸‹ï¼ŒFTPå®¢æˆ·ç«¯éšæœºå¼€å¯ä¸€ä¸ªå¤§äº1024çš„ç«¯å£Nå‘æœåŠ¡å™¨çš„21å·ç«¯å£å‘èµ·è¿æ¥ï¼ŒåŒæ—¶ä¼šå¼€å¯N+1å·ç«¯å£ã€‚ç„¶åå‘æœåŠ¡å™¨å‘é€PASVå‘½ä»¤ï¼Œé€š çŸ¥æœåŠ¡å™¨è‡ªå·±å¤„äºè¢«åŠ¨æ¨¡å¼ã€‚æœåŠ¡å™¨æ”¶åˆ°å‘½ä»¤åï¼Œä¼šå¼€æ”¾ä¸€ä¸ªå¤§äº1024çš„ç«¯å£Pè¿›è¡Œç›‘å¬ï¼Œç„¶åç”¨PORTPå‘½ä»¤é€šçŸ¥å®¢æˆ·ç«¯ï¼Œè‡ªå·±çš„æ•°æ®ç«¯å£æ˜¯Pã€‚å®¢æˆ·ç«¯æ”¶åˆ°å‘½ä»¤åï¼Œä¼šé€šè¿‡N+1å·ç«¯å£è¿æ¥æœåŠ¡å™¨çš„ç«¯å£Pï¼Œç„¶ååœ¨ä¸¤ä¸ªç«¯å£ä¹‹é—´è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚<br>æ€»çš„æ¥è¯´ï¼Œä¸»åŠ¨æ¨¡å¼çš„FTPæ˜¯æŒ‡æœåŠ¡å™¨ä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯çš„æ•°æ®ç«¯å£ï¼Œè¢«åŠ¨æ¨¡å¼çš„FTPæ˜¯æŒ‡æœåŠ¡å™¨è¢«åŠ¨åœ°ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥è‡ªå·±çš„æ•°æ®ç«¯å£ã€‚<br>è¢«åŠ¨æ¨¡å¼çš„FTPé€šå¸¸ç”¨åœ¨å¤„äºé˜²ç«å¢™ä¹‹åçš„FTPå®¢æˆ·è®¿é—®å¤–ç•ŒFTpæœåŠ¡å™¨çš„æƒ…å†µï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé˜²ç«å¢™é€šå¸¸é…ç½®ä¸ºä¸å…è®¸å¤–ç•Œè®¿é—®é˜²ç«å¢™ä¹‹åä¸»æœºï¼Œè€Œåªå…è®¸ç”±é˜²ç«å¢™ä¹‹åçš„ä¸»æœºå‘èµ·çš„è¿æ¥è¯·æ±‚é€šè¿‡ã€‚<br>å› æ­¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¸èƒ½ä½¿ç”¨ä¸»åŠ¨æ¨¡å¼çš„FTPä¼ è¾“ï¼Œè€Œè¢«åŠ¨æ¨¡å¼çš„FTPå¯ä»¥è‰¯å¥½çš„å·¥ä½œã€‚</p><p>77ã€ç¼–å†™ä¸ªshellè„šæœ¬å°†å½“å‰ç›®å½•ä¸‹å¤§äº10Kçš„æ–‡ä»¶è½¬ç§»åˆ°/tmpç›®å½•ä¸‹</p><p>è¯¥é—®é¢˜ä¸»è¦æ˜¯è€ƒå¯Ÿawkçš„ç”¨æ³•ï¼š</p><p>for FileName in <code>ls -l |awk â€˜$5>10240 {print $9}â€™</code><br>do<br>mv $FileName /tmp<br>done<br>ls -la /tmp<br>echo â€œDone! â€</p><p>78ã€apacheæœ‰å‡ ç§å·¥ä½œæ¨¡å¼ï¼Œåˆ†åˆ«ä»‹ç»ä¸‹å…¶ç‰¹ç‚¹ï¼Œå¹¶è¯´æ˜ä»€ä¹ˆæƒ…å†µä¸‹é‡‡ç”¨ä¸åŒçš„å·¥ä½œæ¨¡å¼ï¼Ÿ</p><p>apacheä¸»è¦æœ‰ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼šprefork(apacheçš„é»˜è®¤å®‰è£…æ¨¡å¼)å’Œworker(å¯ä»¥åœ¨ç¼–è¯‘çš„æ—¶å€™åŠ å‚æ•°â€“with-mpm- workeré€‰æ‹©å·¥ä½œæ¨¡å¼)<br>preforkçš„ç‰¹ç‚¹æ˜¯ï¼š<br>ï¼ˆ1ï¼‰è¿™ç§æ¨¡å¼å¯ä»¥ä¸å¿…åœ¨è¯·æ±‚åˆ°æ¥æ—¶å†äº§ç”Ÿæ–°çš„è¿›ç¨‹ï¼Œä»è€Œå‡å°äº†ç³»ç»Ÿå¼€é”€<br>ï¼ˆ2ï¼‰å¯ä»¥é˜²æ­¢æ„å¤–çš„å†…å­˜æ³„æ¼<br>ï¼ˆ3ï¼‰åœ¨æœåŠ¡å™¨è´Ÿè½½ä¸‹é™çš„æ—¶å€™ä¼šè‡ªåŠ¨å‡å°‘å­è¿›ç¨‹æ•°<br>workerçš„ç‰¹ç‚¹æ˜¯ï¼š<br>æ”¯æŒæ··åˆçš„å¤šçº¿ç¨‹å¤šè¿›ç¨‹çš„å¤šè·¯å¤„ç†æ¨¡å—ã€‚å¦‚æœå¯¹äºä¸€ä¸ªé«˜æµé‡çš„HTTPæœåŠ¡å™¨ï¼Œworker MPMæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„é€‰æ‹©ï¼Œå› ä¸ºworker MPMå ç”¨çš„å†…å­˜è¦æ¯”preforkè¦å°ã€‚</p><p>79ã€åè¯è§£é‡Šï¼šè¯·è§£é‡Šä»¥ä¸‹è¯çš„å«ä¹‰ï¼Ÿ</p><p>ä¾‹å¦‚è§£é‡Šä»¥ä¸‹åè¯ï¼šHDLC,VTP,OSPF,RIP,DDOS,systemV,GNU,netscreen,ssh,smartd,apache,WAIT_TIME ç­‰ç­‰ã€‚</p><p>HDLC:é«˜çº§é“¾è·¯æ§åˆ¶ï¼›<br>VTPï¼švlan ä¼ è¾“åè®®ï¼›<br>OSPFï¼šå¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆï¼›<br>RIPï¼šè·¯ç”±ä¿¡æ¯åè®®ï¼›<br>DDOSï¼šåˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»ï¼›<br>system Vï¼šUNIXç‰ˆæœ¬Vï¼›<br>GNUï¼šéUNIXï¼Œå¼€æ”¾æºç è½¯ä»¶å·¥ç¨‹ï¼›<br>netscreenï¼šå›½é™…è‘—åé˜²ç«å¢™å‚å®¶ä¹‹ä¸€ï¼Œ04å¹´åè¢«juniperæ”¶è´­ï¼Œå˜ä¸ºå…¶é˜²ç«å¢™çš„ä¸€ä¸ªç³»åˆ—ï¼›<br>sshï¼šå®‰å…¨å¤–å£³ï¼Œé˜²æ­¢ä¸­é—´äººæ”»å‡»çš„ä¸€ç§è¿æ¥æ–¹å¼ï¼›<br>smartdï¼šç¡¬ç›˜æ£€æµ‹å·¥å…·s.m.a.r.tçš„è¿›ç¨‹ï¼›<br>Apacheï¼šwebæœåŠ¡å™¨è½¯ä»¶ï¼›<br>WAIT_TIMEï¼šnetstatå‘½ä»¤æ˜¾ç¤ºçš„å‚æ•°ï¼Œå®¢æˆ·ç«¯æ­£åœ¨ç­‰å¾…ã€‚</p><p>80ã€ç¼–å†™shellè„šæœ¬è·å–æœ¬æœºçš„ç½‘ç»œåœ°å€ã€‚æ¯”å¦‚ï¼šæœ¬æœºçš„ipåœ°å€æ˜¯ï¼š<br>192.168.100.2/255.255.255.0ï¼Œé‚£ä¹ˆå®ƒçš„ç½‘ç»œåœ°å€æ˜¯192.168.100.1/255.255.255.0</p><p>æ–¹æ³•ä¸€ï¼š</p><p>#!/bin/bash</p><p>file=â€/etc/sysconfig/network-scripts/ifcfg-eth0â€³<br>if [ -f $file ] ;then<br>IP=<code>grep â€œIPADDRâ€ $file|awk -Fâ€=â€ â€˜{ print $2 }â€™</code><br>MASK=<code>grep â€œNETMASKâ€ $file|awk-Fâ€=â€ â€˜{ print $2 }â€™</code><br>echo â€œ$IP/$MASKâ€<br>exit 1<br>fi</p><p>æ–¹æ³•äºŒï¼š</p><p>#!/bin/bash</p><p>IP=<code>ifconfig eth0 |grep â€˜inet â€˜ |sed â€™s/^.*addr://gâ€™|sed â€™s/ Bcast.*$//gâ€™</code><br>NETMASK=<code>ifconfig eth0 |grep â€˜inet â€˜|sed â€™s/^.*Mask://gâ€™</code><br>echo â€œ$IP/$NETMASKâ€<br>exit</p><p>81ã€åœ¨å‘½ä»¤è¡Œä¸‹å‘ä¸€é‚®ä»¶ï¼Œå‘ä»¶äººï¼š123@abc.com,æ”¶ä¿¡äººï¼šabc@xyz.com</p><p>ä½¿ç”¨mailå‘½ä»¤</p><p>mail -s &ldquo;hello&rdquo; <a href=mailto:abc@xyz.com>abc@xyz.com</a></p><p>82ã€linuxä¸‹å¦‚ä½•æ”¹IPã€ä¸»æœºåã€DNSï¼Ÿ</p><p>setupå‘½ä»¤ï¼š<br>å¯ä»¥ä¿®æ”¹IP å’ŒDNS ï¼Œä¿®æ”¹å®Œåæ‰§è¡Œé‡å¯ç½‘ç»œä½¿ç”¨å‘½ä»¤service network restartï¼Œä¸´æ—¶ä¿®æ”¹å³æ—¶ç”Ÿæ•ˆï¼Œé‡å¯åå¤±æ•ˆã€‚<br>Hostnameå‘½ä»¤ï¼š<br>ä¿®æ”¹ä¸»æœºå<br>Ifconfigå‘½ä»¤ä¿®æ”¹IPï¼š<br>Ifconfig eth0 IP netmask æ©ç <br>æ°¸ä¹…ä¿®æ”¹ä¸»æœºåï¼š<br>ä¿®æ”¹ï¼š/etc/sysconfig/network æ–‡ä»¶ï¼Œä¿®æ”¹HOSTNAME=ä¸»æœºå<br>æ°¸ä¹…ä¿®æ”¹IPåœ°å€ï¼š<br>ä¿®æ”¹ /etc/sysconfig/network-scripts/ifcfg-eth0 æ–‡ä»¶ï¼Œä¿®æ”¹å®Œåæ‰§è¡Œé‡å¯ç½‘ç»œå‘½ä»¤service network restart</p><p>83ã€linuxä¸‹å¦‚ä½•æ·»åŠ è·¯ç”±ï¼Ÿ</p><p>æ·»åŠ åˆ°ä¸»æœºè·¯ç”±</p><p>route add â€“host 192.168.168.110 dev eth0<br>route add â€“host 192.168.168.119 gw 192.168.168.1<br>æ·»åŠ åˆ°ç½‘ç»œçš„è·¯ç”±</p><p>route add â€“net IP netmask MASK deveth0<br>route add â€“net IP netmask MASK gw IP</p><p>æ·»åŠ é»˜è®¤ç½‘å…³</p><p>route add default gw IP</p><p>åˆ é™¤è·¯ç”±</p><p>route del â€“host 192.168.168.110 dev eth0</p><p>84ã€ç®€è¿°linuxä¸‹ç¼–è¯‘å†…æ ¸çš„æ„ä¹‰ä¸æ­¥éª¤</p><p>ç¼–è¯‘å†…æ ¸çš„æ„ä¹‰åœ¨äºè®©ç¡¬ä»¶è®¾å¤‡æ›´ç¨³å®šçš„å‘æŒ¥å…¶åº”æœ‰çš„æ•ˆèƒ½ï¼›<br>å†…æ ¸ç¼–è¯‘ï¼š<br>ï¼ˆ1ï¼‰å†…æ ¸è£å‡<br>ï¼ˆ2ï¼‰æ‰“è¡¥ä¸<br>ï¼ˆ3ï¼‰æ·»åŠ æ–°åŠŸèƒ½/æ¨¡å—<br>æ­¥éª¤ï¼š<br>ï¼ˆ1ï¼‰ä¸‹è½½æ–°å†…æ ¸æºä»£ç <br>ï¼ˆ2ï¼‰é…ç½®å†…æ ¸ç¼–è¯‘å‚æ•°ï¼šmake menuconfig<br>ï¼ˆ3ï¼‰é€‰æ‹©éœ€è¦æ·»åŠ çš„æ¨¡å—<br>ï¼ˆ4ï¼‰å¼€å§‹ç¼–è¯‘<br>ï¼ˆ5ï¼‰å®‰è£…ç¼–è¯‘å¥½åˆ°æ¨¡å—å’Œå†…æ ¸<br>ï¼ˆ6ï¼‰ä¿®æ”¹GRUBå¯åŠ¨èœå•ï¼Œå¢åŠ ä½¿ç”¨æ–°å†…æ ¸å¯åŠ¨åˆ°é¡¹ç›®</p><p>85ã€ç®€è¿°DDOSæ”»å‡»çš„åŸç†</p><p>é»‘å®¢åŠ«æŒå¤§é‡å‚€å„¡ä¸»æœºï¼Œå¯¹ç›®æ ‡æœåŠ¡å™¨è¿›è¡Œåˆç†çš„èµ„æºè¯·æ±‚ï¼Œå¯¼è‡´æœåŠ¡å™¨èµ„æºè€—å°½è€Œä¸èƒ½è¿›è¡Œæ­£å¸¸çš„æœåŠ¡ã€‚</p><p>86ã€ç®€è¿°Tcpä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹</p><p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹è¿æ¥ï¼Œå®¢æˆ·ç«¯å‘é€SYNåŒ…åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENDçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼›<br>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨æ”¶åˆ°SYNï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªSYNåŒ…å’Œä¸€ä¸ªACKåŒ…æ¥ç¡®è®¤å®¢æˆ·ç«¯çš„SYNï¼Œå¹¶è¿›å…¥SYN_RECVï¼›<br>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨å‘æ¥çš„SYN+ACKåï¼Œå›å¤æœåŠ¡å™¨ç«¯ä¸€ä¸ªACKç¡®è®¤ï¼Œå‘é€å®Œæ¯•åï¼ŒåŒæ–¹è¿›å…¥ESTABLISHEDçŠ¶æ€ã€‚<br>ä¸‰æ¬¡æ¡æ‰‹æˆåŠŸåï¼Œå¼€å§‹ä¼ è¾“æ•°æ®ã€‚</p><p>87ã€ç®€è¿°VPNï¼Œå¸¸è§æœ‰å“ªå‡ ç§ï¼Ÿ</p><p>VPNæ˜¯æŒ‡åœ¨å…¬å…±çš„ç½‘ç»œä¸Šå»ºç«‹ä¸“ç”¨ç½‘ç»œçš„æŠ€æœ¯ï¼Œä½†æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹é—´å¹¶æ²¡æœ‰ç‰©ç†ä¸Šçš„ä¸“ç”¨çš„ç«¯åˆ°ç«¯é“¾è·¯ï¼Œè€Œæ˜¯é€šè¿‡å¹¿åŸŸç½‘æˆ–è€…è¿è¥å•†æä¾›çš„ç½‘ç»œå¹³å°ä¹‹ä¸Šçš„é€»è¾‘ç½‘ç»œï¼Œç”¨æˆ·æ•°æ®åœ¨é€»è¾‘é“¾è·¯ä¸­ä¼ è¾“ï¼Œå®ƒå¯ä»¥æœ‰æ•ˆçš„èŠ‚çœä¸€èˆ¬éœ€è¦è¾¾åˆ°DDNä¸“çº¿æ‰€èƒ½è¾¾åˆ°çš„åŒæ ·çš„ç›®çš„ï¼Œè€Œä¸”VPNé‡‡ç”¨èº«ä»½éªŒè¯å’ŒåŠ å¯†æŠ€æœ¯ï¼Œå……åˆ†ä¿è¯äº†å®‰å…¨æ€§ã€‚å¸¸è§çš„VPNæœ‰ï¼šipsec vpnã€PPTPvpnã€L2TP vpnã€SSL vpn</p><p>88ã€è§£é‡Šä¸‹ä»€ä¹ˆæ˜¯GPL,GNU,è‡ªç”±è½¯ä»¶ï¼Ÿ</p><p>GPLï¼šï¼ˆé€šç”¨å…¬å…±è®¸å¯è¯ï¼‰ï¼šä¸€ç§æˆæƒï¼Œä»»ä½•äººæœ‰æƒå–å¾—ã€ä¿®æ”¹ã€é‡æ–°å‘å¸ƒè‡ªç”±è½¯ä»¶çš„æƒåŠ›ã€‚<br>GNU:(é©å¥´è®¡åˆ’)ï¼šç›®æ ‡æ˜¯åˆ›å»ºä¸€å¥—å®Œå…¨è‡ªç”±ã€å¼€æ”¾çš„çš„æ“ä½œç³»ç»Ÿã€‚<br>è‡ªç”±è½¯ä»¶ï¼šæ˜¯ä¸€ç§å¯ä»¥ä¸å—é™åˆ¶åœ°è‡ªç”±ä½¿ç”¨ã€å¤åˆ¶ã€ç ”ç©¶ã€ä¿®æ”¹å’Œåˆ†å‘çš„è½¯ä»¶ã€‚ä¸»è¦è®¸å¯è¯æœ‰GPLå’ŒBSDè®¸å¯è¯ä¸¤ç§ã€‚</p><p>89ã€å¦‚ä½•é€‰æ‹©Linuxæ“ä½œç³»ç»Ÿç‰ˆæœ¬?</p><p>ä¸€èˆ¬æ¥è®²ï¼Œæ¡Œé¢ç”¨æˆ·é¦–é€‰Ubuntuï¼›æœåŠ¡å™¨é¦–é€‰RHELæˆ–CentOSï¼Œä¸¤è€…ä¸­é¦–é€‰CentOSã€‚<br>æ ¹æ®å…·ä½“è¦æ±‚ï¼š<br>ï¼ˆ1ï¼‰å®‰å…¨æ€§è¦æ±‚è¾ƒé«˜ï¼Œåˆ™é€‰æ‹©Debianæˆ–è€…FreeBSDã€‚<br>ï¼ˆ2ï¼‰éœ€è¦ä½¿ç”¨æ•°æ®åº“é«˜çº§æœåŠ¡å’Œç”µå­é‚®ä»¶ç½‘ç»œåº”ç”¨çš„ç”¨æˆ·å¯ä»¥é€‰æ‹©SUSEã€‚<br>ï¼ˆ3ï¼‰æƒ³è¦æ–°æŠ€æœ¯æ–°åŠŸèƒ½åŠŸèƒ½å¯ä»¥é€‰æ‹©Feddoraï¼ŒFeddoraæ˜¯RHELå’ŒCentOSçš„ä¸€ä¸ªæµ‹è¯•ç‰ˆå’Œé¢„å‘å¸ƒç‰ˆæœ¬ã€‚<br>ï¼ˆ4ï¼‰æ ¹æ®ç°æœ‰çŠ¶å†µï¼Œç»å¤§å¤šæ•°äº’è”ç½‘å…¬å¸é€‰æ‹©CentOSã€‚ç°åœ¨æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯6ç³»åˆ—ï¼Œç°åœ¨å¸‚åœºå æœ‰å¤§æ¦‚ä¸€åŠå·¦å³ã€‚å¦å¤–çš„åŸå› æ˜¯CentOSæ›´ä¾§é‡æœåŠ¡å™¨é¢†åŸŸï¼Œå¹¶ä¸”æ— ç‰ˆæƒçº¦æŸã€‚</p><p>90ã€åˆå­¦è€…åœ¨Linuxç³»ç»Ÿçš„å¼€æœºå¯åŠ¨é¡¹å¦‚ä½•é€‰æ‹©ï¼Ÿ</p><p>å»ºè®®é€‰æ‹©äº”ä¸ªå¼€æœºå¯åŠ¨é¡¹ï¼š<br>ï¼ˆ1ï¼‰crondï¼š è¯¥æœåŠ¡ç”¨äºå‘¨æœŸåœ°æ‰§è¡Œç³»ç»ŸåŠç”¨æˆ·é…ç½®çš„è®¡åˆ’ä»»åŠ¡ã€‚æœ‰è¦å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡è®¡åˆ’éœ€è¦å¼€å¯ï¼Œæ­¤æœåŠ¡æ˜¯ç”Ÿäº§åœºæ™¯å¿…é¡»è¦ç”¨çš„ä¸€ä¸ªè½¯ä»¶ã€‚<br>ï¼ˆ2ï¼‰iptablesï¼š iptablesåŒ…è¿‡æ»¤é˜²ç«å¢™ï¼Œæœ‰å¤–ç½‘IPæ—¶ï¼Œè€ƒè™‘å¼€å¯ã€‚<br>ï¼ˆ3ï¼‰networkï¼š å¯åŠ¨ç³»ç»Ÿæ—¶ï¼Œè‹¥æƒ³æ¿€æ´»/å…³é—­å¯åŠ¨æ—¶çš„å„ä¸ªç½‘ç»œæ¥å£ï¼Œåˆ™åº”ï¼ˆå¿…é¡»ï¼‰è€ƒè™‘å¼€å¯ã€‚<br>ï¼ˆ4ï¼‰sshdï¼š è¿œç¨‹è¿æ¥LinuxæœåŠ¡å™¨æ—¶éœ€è¦ç”¨åˆ°è¿™ä¸ªæœåŠ¡ç¨‹åºï¼Œæ‰€ä»¥å¿…é¡»è¦å¼€å¯ï¼Œå¦åˆ™å°†æ— æ³•è¿œç¨‹è¿æ¥åˆ°LinuxæœåŠ¡å™¨ã€‚<br>ï¼ˆ5ï¼‰rsyslogï¼š æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œç³»ç»Ÿçš„å®ˆæŠ¤ç¨‹åºé€šå¸¸ä¼šä½¿ç”¨rsyslogå°†å„ç§ä¿¡æ¯æ”¶é›†å†™å…¥åˆ°ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶ä¸­ï¼ŒCentOS6ä»¥å‰æ­¤æœåŠ¡çš„åå­—ä¸ºsyslogã€‚<br>ï¼ˆ6ï¼‰sysstat: æ˜¯ä¸€ä¸ªè½¯ä»¶åŒ…ï¼ŒåŒ…å«ç›‘æµ‹ç³»ç»Ÿæ€§èƒ½åŠæ•ˆç‡çš„ä¸€ç»„å·¥å…·ï¼Œè¿™äº›å·¥å…·å¯¹äºLinuxç³»ç»Ÿæ€§èƒ½æ•°æ®å¾ˆæœ‰å¸®åŠ©ï¼Œæ¯”å¦‚CPUä½¿ç”¨ç‡ã€ç¡¬ç›˜å’Œç½‘ç»œååæ•°æ®ç­‰ï¼Œè¿™äº›æ•°æ®çš„åˆ†æï¼Œæœ‰åˆ©äºåˆ¤æ–­ç³»ç»Ÿè¿è¡Œæ˜¯å¦æ­£å¸¸ï¼Œæ‰€ä»¥å®ƒæ˜¯æé«˜ç³»ç»Ÿè¿è¡Œæ•ˆç‡ã€å®‰å…¨è¿è¡ŒæœåŠ¡çš„åŠ©æ‰‹ã€‚</p><p>91ã€è¯·æè¿°Linuxç³»ç»Ÿä¼˜åŒ–çš„12ä¸ªæ­¥éª¤ã€‚</p><p>ï¼ˆ1ï¼‰ç™»å½•ç³»ç»Ÿ:ä¸ä½¿ç”¨rootç™»å½•ï¼Œé€šè¿‡sudoæˆæƒç®¡ç†ï¼Œä½¿ç”¨æ™®é€šç”¨æˆ·ç™»å½•ã€‚<br>ï¼ˆ2ï¼‰ç¦æ­¢SSHè¿œç¨‹ï¼šæ›´æ”¹é»˜è®¤çš„è¿œç¨‹è¿æ¥SSHæœåŠ¡åŠç¦æ­¢rootè¿œç¨‹è¿æ¥ã€‚<br>ï¼ˆ3ï¼‰æ—¶é—´åŒæ­¥ï¼šå®šæ—¶è‡ªåŠ¨æ›´æ–°æœåŠ¡å™¨æ—¶é—´ã€‚<br>ï¼ˆ4ï¼‰é…ç½®yumæ›´æ–°æºï¼Œä»å›½å†…æ›´æ–°ä¸‹è½½å®‰è£…rpmåŒ…ã€‚<br>ï¼ˆ5ï¼‰å…³é—­selinuxåŠiptablesï¼ˆiptableså·¥ä½œåœºæ™¯å¦‚æœ‰wan ipï¼Œä¸€èˆ¬è¦æ‰“å¼€ï¼Œé«˜å¹¶å‘é™¤å¤–ï¼‰<br>ï¼ˆ6ï¼‰è°ƒæ•´æ–‡ä»¶æè¿°ç¬¦æ•°é‡ï¼Œè¿›ç¨‹åŠæ–‡ä»¶çš„æ‰“å¼€éƒ½ä¼šæ¶ˆè€—æ–‡ä»¶æè¿°ç¬¦ã€‚<br>ï¼ˆ7ï¼‰å®šæ—¶è‡ªåŠ¨æ¸…ç†/var/spool/clientmquene/ç›®å½•åƒåœ¾æ–‡ä»¶ï¼Œé˜²æ­¢èŠ‚ç‚¹è¢«å æ»¡ï¼ˆc6.4é»˜è®¤æ²¡æœ‰sendmailï¼Œå› æ­¤å¯ä»¥ä¸é…ã€‚ï¼‰<br>ï¼ˆ8ï¼‰ç²¾ç®€å¼€æœºå¯åŠ¨æœåŠ¡ï¼ˆcrondã€sshdã€networkã€rsyslogï¼‰<br>ï¼ˆ9ï¼‰Linuxå†…æ ¸å‚æ•°ä¼˜åŒ–/etc/sysctl.confï¼Œæ‰§è¡Œsysct -pç”Ÿæ•ˆã€‚<br>æ›´æ”¹å­—ç¬¦é›†ï¼Œæ”¯æŒä¸­æ–‡ï¼Œä½†æ˜¯è¿˜æ˜¯å»ºè®®ä½¿ç”¨è‹±æ–‡ï¼Œé˜²æ­¢ä¹±ç é—®é¢˜å‡ºç°ã€‚<br>ï¼ˆ10ï¼‰é”å®šå…³é”®ç³»ç»Ÿæ–‡ä»¶ï¼ˆchattr +i /etc/passwd /etc/shadow /etc/group /etc/gshadow /etc/inittab å¤„ç†ä»¥ä¸Šå†…å®¹åï¼ŒæŠŠchatteræ”¹åï¼Œå°±æ›´å®‰å…¨äº†ã€‚ï¼‰<br>ï¼ˆ11ï¼‰æ¸…ç©º/etc/issueï¼Œå»é™¤ç³»ç»ŸåŠå†…æ ¸ç‰ˆæœ¬ç™»é™†å‰çš„å±å¹•æ˜¾ç¤ºã€‚</p><p>92ã€æè¿°Linuxè¿è¡Œçº§åˆ«0-6çš„å„è‡ªå«ä¹‰</p><p>0ï¼šå…³æœºæ¨¡å¼<br>1ï¼šå•ç”¨æˆ·æ¨¡å¼&lt;==ç ´è§£rootå¯†ç <br>2ï¼šæ— ç½‘ç»œæ”¯æŒçš„å¤šç”¨æˆ·æ¨¡å¼<br>3ï¼šæœ‰ç½‘ç»œæ”¯æŒçš„å¤šç”¨æˆ·æ¨¡å¼ï¼ˆæ–‡æœ¬æ¨¡å¼ï¼Œå·¥ä½œä¸­æœ€å¸¸ç”¨çš„æ¨¡å¼ï¼‰<br>4ï¼šä¿ç•™ï¼Œæœªä½¿ç”¨<br>5ï¼šæœ‰ç½‘ç»œæ”¯æŒçš„X-windowsæ”¯æŒå¤šç”¨æˆ·æ¨¡å¼ï¼ˆæ¡Œé¢ï¼‰<br>6: é‡æ–°å¼•å¯¼ç³»ç»Ÿï¼Œå³é‡å¯</p><p>93ã€æè¿°Linuxç³»ç»Ÿä»å¼€æœºåˆ°ç™»é™†ç•Œé¢çš„å¯åŠ¨è¿‡ç¨‹</p><p>ï¼ˆ1ï¼‰å¼€æœºBIOSè‡ªæ£€ï¼ŒåŠ è½½ç¡¬ç›˜ã€‚<br>ï¼ˆ2ï¼‰è¯»å–MBR,MBRå¼•å¯¼ã€‚<br>ï¼ˆ3ï¼‰grubå¼•å¯¼èœå•(Boot Loader)ã€‚<br>ï¼ˆ4ï¼‰åŠ è½½å†…æ ¸kernelã€‚<br>ï¼ˆ5ï¼‰å¯åŠ¨initè¿›ç¨‹ï¼Œä¾æ®inittabæ–‡ä»¶è®¾å®šè¿è¡Œçº§åˆ«<br>ï¼ˆ6ï¼‰initè¿›ç¨‹ï¼Œæ‰§è¡Œrc.sysinitæ–‡ä»¶ã€‚<br>ï¼ˆ7ï¼‰å¯åŠ¨å†…æ ¸æ¨¡å—ï¼Œæ‰§è¡Œä¸åŒçº§åˆ«çš„è„šæœ¬ç¨‹åºã€‚<br>ï¼ˆ8ï¼‰æ‰§è¡Œ/etc/rc.d/rc.local<br>ï¼ˆ9ï¼‰å¯åŠ¨mingettyï¼Œè¿›å…¥ç³»ç»Ÿç™»é™†ç•Œé¢ã€‚</p><p>94ã€æè¿°Linuxä¸‹è½¯é“¾æ¥å’Œç¡¬é“¾æ¥çš„åŒºåˆ«</p><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œé“¾æ¥åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯ç¡¬é“¾æ¥ï¼ˆHard linkï¼‰ï¼Œå¦ä¸€ç§ç§°ä¸ºç¬¦å·é“¾æ¥æˆ–è½¯é“¾æ¥ï¼ˆSymbolic Linkï¼‰ã€‚<br>ï¼ˆ1ï¼‰é»˜è®¤ä¸å¸¦å‚æ•°çš„æƒ…å†µä¸‹ï¼Œlnåˆ›å»ºçš„æ˜¯ç¡¬é“¾æ¥ï¼Œå¸¦-så‚æ•°çš„lnå‘½ä»¤åˆ›å»ºçš„æ˜¯è½¯é“¾æ¥ã€‚<br>ï¼ˆ2ï¼‰ç¡¬é“¾æ¥æ–‡ä»¶ä¸æºæ–‡ä»¶çš„inodeèŠ‚ç‚¹å·ç›¸åŒï¼Œè€Œè½¯é“¾æ¥æ–‡ä»¶çš„inodeèŠ‚ç‚¹å·ï¼Œä¸æºæ–‡ä»¶ä¸åŒï¼Œ<br>ï¼ˆ3ï¼‰lnå‘½ä»¤ä¸èƒ½å¯¹ç›®å½•åˆ›å»ºç¡¬é“¾æ¥ï¼Œä½†å¯ä»¥åˆ›å»ºè½¯é“¾æ¥ã€‚å¯¹ç›®å½•çš„è½¯é“¾æ¥ä¼šç»å¸¸ä½¿ç”¨åˆ°ã€‚<br>ï¼ˆ4ï¼‰åˆ é™¤è½¯é“¾æ¥æ–‡ä»¶ï¼Œå¯¹æºæ–‡ä»¶å’Œç¡¬é“¾æ¥æ–‡ä»¶æ— ä»»ä½•å½±å“ã€‚<br>ï¼ˆ5ï¼‰åˆ é™¤æ–‡ä»¶çš„ç¡¬é“¾æ¥æ–‡ä»¶ï¼Œå¯¹æºæ–‡ä»¶åŠè½¯é“¾æ¥æ–‡ä»¶æ— ä»»ä½•å½±å“ã€‚<br>ï¼ˆ6ï¼‰åˆ é™¤é“¾æ¥æ–‡ä»¶çš„æºæ–‡ä»¶ï¼Œå¯¹ç¡¬é“¾æ¥æ–‡ä»¶æ— å½±å“ï¼Œä¼šå¯¼è‡´å…¶è½¯é“¾æ¥å¤±æ•ˆï¼ˆçº¢åº•ç™½å­—é—ªçƒçŠ¶ï¼‰ã€‚<br>ï¼ˆ7ï¼‰åŒæ—¶åˆ é™¤æºæ–‡ä»¶åŠå…¶ç¡¬é“¾æ¥æ–‡ä»¶ï¼Œæ•´ä¸ªæ–‡ä»¶æ‰ä¼šè¢«çœŸæ­£çš„åˆ é™¤ã€‚<br>ï¼ˆ8ï¼‰å¾ˆå¤šç¡¬ä»¶è®¾å¤‡çš„å¿«ç…§åŠŸèƒ½ï¼Œä½¿ç”¨çš„å°±æ˜¯ç±»ä¼¼ç¡¬é“¾æ¥çš„åŸç†ã€‚<br>ï¼ˆ9ï¼‰è½¯é“¾æ¥å¯ä»¥è·¨æ–‡ä»¶ç³»ç»Ÿï¼Œç¡¬é“¾æ¥ä¸å¯ä»¥è·¨æ–‡ä»¶ç³»ç»Ÿã€‚</p><p>95ã€ç”Ÿäº§åœºæ™¯å¦‚ä½•å¯¹linuxç³»ç»Ÿè¿›è¡Œåˆç†è§„åˆ’åˆ†åŒºï¼Ÿ</p><p>åˆ†åŒºçš„æ ¹æœ¬åŸåˆ™æ˜¯ç®€å•ã€æ˜“ç”¨ã€æ–¹ä¾¿æ‰¹é‡ç®¡ç†ã€‚æ ¹æ®æœåŠ¡å™¨è§’è‰²å®šä½å»ºè®®å¦‚ä¸‹ï¼š<br>ï¼ˆ1ï¼‰å•æœºæœåŠ¡å™¨ï¼šå¦‚8Gå†…å­˜ï¼Œ300Gç¡¬ç›˜<br>åˆ†åŒºï¼š /boot 100-200Mï¼Œswap 16Gï¼Œå†…å­˜å¤§å°8G*2ï¼Œ/ 80Gï¼Œ/var 20Gï¼ˆä¹Ÿå¯ä¸åˆ†ï¼‰ï¼Œ/data 180Gï¼ˆå­˜æ”¾webåŠdbæ•°æ®ï¼‰<br>ä¼˜ç‚¹ï¼šæ•°æ®ç›˜å’Œç³»ç»Ÿç›˜åˆ†å¼€ï¼Œæœ‰åˆ©äºå‡ºé—®é¢˜æ—¶ç»´æŠ¤ã€‚<br>RAIDæ–¹æ¡ˆï¼šè§†æ•°æ®åŠæ€§èƒ½è¦æ±‚ï¼Œä¸€èˆ¬å¯é‡‡ç”¨raid5æŠ˜ä¸­ã€‚<br>ï¼ˆ2ï¼‰è´Ÿè½½å‡è¡¡å™¨ï¼ˆå¦‚LVSç­‰ï¼‰<br>åˆ†åŒºï¼š/boot 100-200Mï¼Œswap å†…å­˜çš„1-2å€ï¼Œ/ ï¼Œ<br>ä¼˜ç‚¹ï¼šç®€å•æ–¹ä¾¿ï¼Œåªåšè½¬å‘æ•°æ®é‡å¾ˆå°‘ã€‚<br>RAIDæ–¹æ¡ˆï¼šæ•°æ®é‡å°ï¼Œé‡è¦æ€§é«˜ï¼Œå¯é‡‡ç”¨RAID1<br>ï¼ˆ3ï¼‰è´Ÿè½½å‡è¡¡ä¸‹çš„RS server<br>åˆ†åŒºï¼š /boot 100-200Mï¼Œswap å†…å­˜çš„1-2å€ï¼Œ/<br>ä¼˜ç‚¹ï¼šç®€å•æ–¹ä¾¿ï¼Œå› ä¸ºæœ‰å¤šæœºï¼Œå¯¹æ•°æ®è¦æ±‚ä½ã€‚<br>RAIDæ–¹æ¡ˆï¼šæ•°æ®é‡å¤§ï¼Œé‡è¦æ€§ä¸é«˜ï¼Œæœ‰æ€§èƒ½è¦æ±‚ï¼Œæ•°æ®è¦æ±‚ä½ï¼Œå¯é‡‡ç”¨RAID0<br>ï¼ˆ4ï¼‰æ•°æ®åº“æœåŠ¡å™¨mysqlåŠoracleå¦‚16/32Gå†…å­˜<br>åˆ†åŒºï¼š/boot 100-200Mï¼Œswap 16Gï¼Œå†…å­˜çš„1å€ï¼Œ/ 100Gï¼Œ/data å‰©ä½™ï¼ˆå­˜æ”¾dbæ•°æ®ï¼‰<br>ä¼˜ç‚¹ï¼šæ•°æ®ç›˜å’Œç³»ç»Ÿç›˜åˆ†å¼€ï¼Œæœ‰åˆ©äºå‡ºé—®é¢˜æ—¶ç»´æŠ¤,åŠä¿æŒæ•°æ®å®Œæ•´ã€‚<br>RAIDæ–¹æ¡ˆï¼šè§†æ•°æ®åŠæ€§èƒ½è¦æ±‚ä¸»åº“å¯é‡‡å–raid10/raid5ï¼Œä»åº“å¯é‡‡ç”¨raid0æé«˜æ€§èƒ½ï¼ˆè¯»å†™åˆ†ç¦»çš„æƒ…å†µä¸‹ã€‚ï¼‰<br>ï¼ˆ5ï¼‰å­˜å‚¨æœåŠ¡å™¨<br>åˆ†åŒºï¼š/boot 100-200Mï¼Œswap å†…å­˜çš„1-2å€ï¼Œ/ 100Gï¼Œ/data(å­˜æ”¾æ•°æ®)<br>ä¼˜ç‚¹ï¼šæ­¤æœåŠ¡å™¨ä¸è¦åˆ†åŒºå¤ªå¤šã€‚åªåšå¤‡ä»½ï¼Œæ€§èƒ½è¦æ±‚ä½ã€‚å®¹é‡è¦å¤§ã€‚<br>RAIDæ–¹æ¡ˆï¼šå¯é‡‡å–sataç›˜ï¼Œraid5<br>ï¼ˆ6ï¼‰å…±äº«å­˜å‚¨æœåŠ¡å™¨ï¼ˆå¦‚NFSï¼‰<br>åˆ†åŒºï¼š/boot 100-200Mï¼Œswap å†…å­˜çš„1-2å€ï¼Œ/ 100Gï¼Œ/data(å­˜æ”¾æ•°æ®)<br>ä¼˜ç‚¹ï¼šæ­¤æœåŠ¡å™¨ä¸è¦åˆ†åŒºå¤ªå¤šã€‚NFSå…±äº«æ¯”å­˜å‚¨å¤šçš„è¦æ±‚å°±æ˜¯æ€§èƒ½è¦æ±‚ã€‚<br>RAIDæ–¹æ¡ˆï¼šè§†æ€§èƒ½åŠè®¿é—®è¦æ±‚å¯ä»¥raid5,raid10,ç”šè‡³raid0ï¼ˆè¦æœ‰é«˜å¯ç”¨æˆ–åŒå†™æ–¹æ¡ˆï¼‰<br>ï¼ˆ7ï¼‰ç›‘æ§æœåŠ¡å™¨cacti,nagios<br>åˆ†åŒºï¼š/boot 100-200Mï¼Œswap å†…å­˜çš„1-2å€ï¼Œ/<br>ä¼˜ç‚¹ï¼šé‡è¦æ€§ä¸€èˆ¬ï¼Œæ•°æ®è¦æ±‚ä¹Ÿä¸€èˆ¬ã€‚<br>RAIDæ–¹æ¡ˆï¼šå•ç›˜æˆ–åŒç›˜raid1å³å¯ã€‚ä¸‰ç›˜å°±RAID5ï¼Œçœ‹å®¹é‡è¦æ±‚åŠ ç›˜å³å¯ã€‚</p><p>96ã€æè¿°Linuxä¸‹æ–‡ä»¶åˆ é™¤çš„åŸç†</p><p>Linuxç³»ç»Ÿæ˜¯é€šè¿‡linkçš„æ•°é‡æ¥æ§åˆ¶æ–‡ä»¶åˆ é™¤çš„ï¼Œåªæœ‰å½“ä¸€ä¸ªæ–‡ä»¶ä¸å­˜åœ¨ä»»ä½•linkçš„æ—¶å€™ï¼Œè¿™ä¸ªæ–‡ä»¶æ‰ä¼šè¢«åˆ é™¤ã€‚ä¸€èˆ¬æ¥è¯´æ¯ä¸ªæ–‡ä»¶ä¸¤ä¸ªlinkè®¡æ•°å™¨æ¥æ§åˆ¶i_countå’Œi_nlinkã€‚å½“ä¸€ä¸ªæ–‡ä»¶è¢«ä¸€ä¸ªç¨‹åºå ç”¨çš„æ—¶å€™i_countå°±åŠ 1ã€‚å½“æ–‡ä»¶çš„ç¡¬é“¾æ¥å¤šä¸€ä¸ªçš„æ—¶å€™i_nlinkä¹ŸåŠ 1ã€‚åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œå°±æ˜¯è®©è¿™ä¸ªæ–‡ä»¶ï¼Œæ²¡æœ‰è¿›ç¨‹å ç”¨ï¼ŒåŒæ—¶i_linkæ•°é‡ä¸º0ã€‚</p><p>97ã€è¯·ç®€å•æè¿°VIç¼–è¾‘å™¨çš„ä½¿ç”¨</p><p>ï¼ˆ1ï¼‰viç¼–è¾‘å™¨æ˜¯linuxç³»ç»Ÿä¸‹æœ€æœ€åŸºæœ¬å’Œæœ€å¸¸ç”¨çš„æ ‡å‡†æ–‡æœ¬ç¼–è¾‘å™¨ã€‚<br>ï¼ˆ2ï¼‰viç¼–è¾‘å™¨æœ‰ä¸‰ç§å·¥ä½œæ¨¡å¼ï¼šæ™®é€šæ¨¡å¼ã€ç¼–è¾‘æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€‚<br>ï¼ˆ3ï¼‰æ™®é€šæ¨¡å¼ä¸‹çš„é”®ç›˜è¾“å…¥ä»»ä½•å­—ç¬¦éƒ½æ˜¯å½“ä½œå‘½ä»¤æ¥æ‰§è¡Œçš„ï¼Œä¹Ÿå¯ä»¥è¾“å…¥å‘½ä»¤è¿›è¡Œå…‰æ ‡çš„ç§»åŠ¨ï¼Œå­—ç¬¦ã€å•è¯ã€è¡Œçš„å¤åˆ¶ã€ç²˜å¸–ä»¥åŠåˆ é™¤ç­‰æ“ä½œã€‚<br>ï¼ˆ4ï¼‰ç¼–è¾‘æ¨¡å¼ä¸»è¦ç”¨äºæ–‡æœ¬çš„è¾“å…¥ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·è¾“å…¥çš„ä»»ä½•å­—ç¬¦éƒ½è¢«ä½œä¸ºæ–‡ä»¶çš„å†…å®¹ä¿å­˜èµ·æ¥ã€‚<br>ï¼ˆ5ï¼‰å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œä¸€äº›å¦‚å­—ç¬¦ä¸²æŸ¥æ‰¾ã€æ›¿æ¢ã€æ˜¾ç¤ºè¡Œå·ç­‰æ“ä½œè¿˜æ˜¯å¿…é¡»è¦è¿›å…¥å‘½ä»¤æ¨¡å¼çš„ã€‚<br>ï¼ˆ6ï¼‰åœ¨æ™®é€šæ¨¡å¼ä¸‹è¾“å…¥å†’å·å³å¯è¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œæ­¤æ—¶viçª—å£çš„çŠ¶æ€è¡Œä¼šæ˜¾ç¤ºå‡ºå†’å·ï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥å‘½ä»¤ã€‚â€œiâ€æ’å…¥æ¨¡å¼ï¼Œå³å¯ä»¥è¿›è¡Œç¼–è¾‘ã€‚ç”¨æˆ·è¾“å…¥å®Œæˆåï¼ŒæŒ‰ã€Escã€‘ä¹‹åç¼–è¾‘å™¨åˆè¿”å›åˆ°æ™®é€šæ¨¡å¼ä¸‹ï¼Œåœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œä¿å­˜é€€å‡ºï¼Œå¯ä»¥ä½¿ç”¨çš„å‘½ä»¤ä¸ºwqå’Œxã€‚å‰é¢åŠ ï¼è¡¨ç¤ºå¼ºåˆ¶é€€å‡ºï¼Œå¼ºåˆ¶ä¿å­˜ç­‰ã€‚</p><p>98ã€è¯·ç®€å•è¯´å‡ºç”¨æˆ·ç®¡ç†çš„ç›¸å…³å‘½ä»¤åŠç”¨é€”</p><p>ï¼ˆ1ï¼‰ç»„ç®¡ç†å‘½ä»¤<br>groupadd #æ·»åŠ ç»„<br>groupdel #åˆ é™¤ç”¨æˆ·ç»„<br>groupmod #ä¿®æ”¹ç”¨æˆ·ç»„<br>groups #æ˜¾ç¤ºå½“å‰ç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„<br>grpck #æ£€æŸ¥ç”¨æˆ·ç»„åŠå¯†ç æ–‡ä»¶çš„å®Œæ•´æ€§ï¼ˆetc/groupä»¥åŠ/etc/gshadowæ–‡ä»¶ï¼‰<br>grpconv #é€šè¿‡/etc/groupå’Œ/etc/gshadow çš„æ–‡ä»¶å†…å®¹æ¥åŒæ­¥æˆ–åˆ›å»º/etc/gshadow ï¼Œå¦‚æœ/etc/gshadow ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼›<br>grpunconv #é€šè¿‡/etc/group å’Œ/etc/gshadow æ–‡ä»¶å†…å®¹æ¥åŒæ­¥æˆ–åˆ›å»º/etc/group ï¼Œç„¶ååˆ é™¤gshadowæ–‡ä»¶ ã€‚<br>ï¼ˆ2ï¼‰ç”¨æˆ·ç®¡ç†å‘½ä»¤<br>useradd #æ·»åŠ ç”¨æˆ·<br>adduser #æ·»åŠ ç”¨æˆ·<br>passwd #ä¸ºç”¨æˆ·è®¾ç½®å¯†ç <br>usermod #ä¿®æ”¹ç”¨æˆ·å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡usermod æ¥ä¿®æ”¹ç™»å½•åã€ç”¨æˆ·çš„å®¶ç›®å½•ç­‰ç­‰<br>pwcov #åŒæ­¥ç”¨æˆ·ä»/etc/passwd åˆ°/etc/shadow<br>pwck #pwckæ˜¯æ ¡éªŒç”¨æˆ·é…ç½®æ–‡ä»¶/etc/passwd å’Œ/etc/shadowæ–‡ä»¶å†…å®¹æ˜¯å¦åˆæ³•æˆ–å®Œæ•´<br>pwunconv #æ‰§è¡ŒpwunconvæŒ‡ä»¤å¯ä»¥å…³é—­ç”¨æˆ·æŠ•å½±å¯†ç ï¼Œå®ƒä¼šæŠŠå¯†ç ä»shadowæ–‡ä»¶å†…ï¼Œé‡å›å­˜åˆ°passwdæ–‡ä»¶é‡Œã€‚<br>finger #æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯å·¥å…·ï¼ˆå±é™©å‘½ä»¤ï¼Œä¸€èˆ¬ä¸ç”¨ï¼‰<br>id #æŸ¥çœ‹ç”¨æˆ·çš„UIDã€GIDåŠæ‰€å½’å±çš„ç”¨æˆ·ç»„<br>chfn #æ›´æ”¹ç”¨æˆ·ä¿¡æ¯å·¥å…·<br>su #ç”¨æˆ·åˆ‡æ¢å·¥å…·</p><p>99ã€è¯·ç®€è¿°åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼grepé«˜çº§å‚æ•°çš„ä½¿ç”¨</p><p>å¸¸ç”¨å‚æ•°ï¼š<br>â€œ-vâ€æ’é™¤åŒ¹é…å†…å®¹ï¼Œ<br>â€œ-eâ€æ”¯æŒæ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œ<br>â€œ-iâ€å¿½ç•¥å¤§å°å†™ï¼Œ<br>â€œ-oâ€è¾“å‡ºåŒ¹é…çš„å†…å®¹ï¼ˆåªæ˜¯ä¸€å—ï¼Œä¸æ˜¯è¡Œï¼‰ï¼Œ<br>â€œâ€“color=autoâ€ åŒ¹é…å†…å®¹æ˜¾ç¤ºé¢œè‰²ï¼Œ<br>â€œ-nâ€ åœ¨è¡Œé¦–æ˜¾ç¤ºè¡Œå·ã€‚<br>ç‰¹æ®Šå­—ç¬¦æ³¨æ„äº‹é¡¹ï¼š<br>â€œ^â€(å°–æ‹¬å·)word ï¼Œè¡¨ç¤ºæœç´¢ä»¥wordå¼€å¤´çš„å†…å®¹ã€‚<br>word$ è¡¨ç¤ºæœç´¢ä»¥wordç»“å°¾çš„å†…å®¹ã€‚<br>â€œ^$ â€è¡¨ç¤ºçš„æ˜¯ç©ºè¡Œï¼Œä¸æ˜¯ç©ºæ ¼ã€‚<br>â€œ.â€ ä»£è¡¨ä¸”åªèƒ½ä»£è¡¨ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚éæ­£åˆ™è¡¨è¾¾å¼å…¶ä»–åŠŸèƒ½ï¼ˆå½“å‰ç›®å½•ï¼ŒåŠ è½½æ–‡ä»¶ï¼‰<br>\ è½¬ä¹‰å­—ç¬¦ï¼Œè®©æœ‰ç€ç‰¹æ®Šèº«ä»½æ„ä¹‰çš„å­—ç¬¦ï¼Œè„±æ‰é©¬ç”²ï¼Œè¿˜åŸåŸå‹ã€‚ä¾‹å¦‚.åªè¡¨ç¤ºåŸå§‹å°æ•°ç‚¹æ„ä¹‰ã€‚<br>â€œ* â€ è¡¨ç¤ºé‡å¤0ä¸ªæˆ–å¤šä¸ªå‰é¢çš„ä¸€ä¸ªå­—ç¬¦ã€‚ä¸ä»£è¡¨æ‰€æœ‰ã€‚<br>â€œ.* â€ è¡¨ç¤ºåŒ¹é…æ‰€æœ‰çš„å­—ç¬¦ã€‚^.*è¡¨ç¤ºä»¥ä»»æ„å­—ç¬¦å¼€å¤´ã€‚<br>[ä»»æ„å­—ç¬¦å¦‚abc] åŒ¹é…å­—ç¬¦é›†å†…ä»»æ„ä¸€ä¸ªå­—ç¬¦[a-z]ã€‚ [^abc] ^åœ¨ä¸­æ‹¬å·é‡Œé¢æ˜¯éçš„æ„æ€ï¼Œä¸åŒ…å«ä¹‹æ„ã€‚æ„æ€å°±æ˜¯ä¸åŒ…å«aæˆ–bæˆ–cçš„è¡Œã€‚<br>{nï¼Œm} è¡¨ç¤ºé‡å¤nåˆ°mæ¬¡å‰ä¸€ä¸ªå­—ç¬¦ã€‚ï½›nï½è‡³å°‘næ¬¡ï¼Œå¤šäº†ä¸é™ã€‚ï½›nï½Næ¬¡ï¼Œï½›ï¼Œmï½è‡³å¤šmæ¬¡ï¼Œå°‘äº†ä¸é™ã€‚</p><p>æ³¨ï¼šä½¿ç”¨grepæˆ–sedè¦å¯¹ï½›ï½è½¬ä¹‰ã€‚å³\ï½›\ï½.egrepå°±ä¸éœ€è¦è½¬ä¹‰äº†ã€‚</p><p>100ã€è¯·ç®€è¿°åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼sedé«˜çº§å‚æ•°çš„ä½¿ç”¨</p><p>è§£ç­”ï¼š<br>-nå–æ¶ˆé»˜è®¤è¾“å‡º<br>-p æ‰“å°<br>-dåˆ é™¤<br>-eå…è®¸å¤šé¡¹ç¼–è¾‘<br>sedå–è¡Œï¼Œè¦ç‰¹åˆ«æ³¨æ„sed -n â€˜s###gâ€™ filename çš„ä½¿ç”¨ï¼Œsedçš„çš„åŠŸèƒ½å¯ä»¥è®°ä½æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­ï¼Œ\1ä¸ºç¬¬ä¸€ä¸ªè®°ä½çš„æ¨¡å¼å³ç¬¬ä¸€ä¸ªå°æ‹¬å·ä¸­çš„åŒ¹é…å†…å®¹ï¼Œ\2ç¬¬äºŒè®°ä½çš„æ¨¡å¼ï¼Œå³ç¬¬äºŒä¸ªå°æ‹¬å·ä¸­çš„åŒ¹é…å†…å®¹ï¼Œsedæœ€å¤šå¯ä»¥è®°ä½9ä¸ªã€‚<br>å®é™…å­—ç¬¦çš„é€‰å–æœ€å¥½è¦å”¯ä¸€ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ˜¯è´ªå©ªçš„ï¼Œæ€»æ˜¯å°½å¯èƒ½çš„åŒ¹é…æ›´è¿œçš„ç¬¦åˆåŒ¹é…çš„å†…å®¹ã€‚å¦å¤–æ³¨æ„å­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼ã€‚</p><p>101ã€è¯·ç»™å‡ºæŸ¥çœ‹å½“å‰å“ªäº›ç”¨æˆ·åœ¨çº¿çš„Linuxå‘½ä»¤</p><p>w #æ˜¾ç¤ºç›®å‰ç³»ç»Ÿç™»å½•ç”¨æˆ·<br>who #æ˜¾ç¤ºç›®å‰å·²ç™»å½•ç”¨æˆ·ä¿¡æ¯<br>last #åˆ—å‡ºç›®å‰ä¸è¿‡å»ç™»å…¥ç³»ç»Ÿçš„ç”¨æˆ·ç›¸å…³ä¿¡æ¯<br>lastlog #æ£€æŸ¥æŸç‰¹å®šç”¨æˆ·ä¸Šæ¬¡ç™»å½•æ—¶é—´<br>whoami #æ‰“å°ä¸å½“å‰ç”Ÿæ•ˆçš„ç”¨æˆ·IDå…³è”çš„ç”¨æˆ·å<br>finger #ç”¨æˆ·ä¿¡æ¯æŸ¥æ‰¾ç¨‹åº<br>id #æ˜¾ç¤ºæŒ‡å®šç”¨æˆ·æˆ–å½“å‰ç”¨æˆ·çš„ç”¨æˆ·ä¸ç»„ä¿¡æ¯</p><p>102ã€è¯·ä½ æè¿°ä¸‹crontabçš„ä½œç”¨å’Œè¯­æ³•ï¼Œä»¥åŠä¹¦å†™å®šæ—¶ä»»åŠ¡æ³¨æ„çš„è¦ç‚¹ã€‚</p><p>è®¾ç½®crontabåæˆ‘ä»¬å¯ä»¥ä½¿å¾—Linuxä¸»åŠ¨æ‰§è¡Œçš„åœ¨å›ºå®šçš„é—´éš”æ—¶é—´ï¼Œæ‰§è¡ŒæŒ‡å®šçš„ç³»ç»ŸæŒ‡ä»¤æˆ– shell scriptè„šæœ¬ã€‚ç”Ÿäº§ç¯å¢ƒå¯ä»¥ç”¨æ¥æ—¥å¿—åˆ†ææˆ–ç”Ÿäº§å¤‡ä»½ç­‰ã€‚<br>è¯­æ³•æ ¼å¼ï¼š<br>crontab [ -u user ] file ===ã€‹-uçš„æ„æ€å°±æ˜¯æŒ‡å®šç”¨æˆ·<br>crontab [ -u user ] { -l æ˜¾ç¤ºæ–‡ä»¶å†…å®¹| -rå…¨éƒ¨åˆ é™¤crontabæ–‡ä»¶ | -e ç¼–è¾‘crontabæ–‡ä»¶| -iåˆ é™¤crontabæ–‡ä»¶å‰ç¡®è®¤æç¤º}<br>ä¸¾ä¾‹ï¼š</p><p>*/5 10ï¼Œ12 * 3-8 * * /usr/sbin/ntpdate 10.0.0.155 >/dev/null 2>&1</p><p>å‰äº”æ®µæ˜¯æ—¶é—´é—´éš”çš„è®¾å®šï¼Œå•ä½åˆ†åˆ«æ˜¯åˆ†é’Ÿã€å°æ—¶ã€æ—¥ã€æœˆã€å‘¨ï¼ˆå°½é‡é¿å…ä½¿ç”¨æ—¥æœˆå’Œå‘¨åŒæ—¶å‡ºç°ï¼Œä»¥å…é€ æˆç³»ç»Ÿè¯¯åˆ¤ï¼‰ã€‚<br>ç¬¬ä¸€ä¸ªæ—¶é—´æ®µ åˆ†é’Ÿ èŒƒå›´0-59<br>ç¬¬äºŒä¸ªæ—¶é—´æ®µ å°æ—¶ èŒƒå›´0-23<br>ç¬¬ä¸‰ä¸ªä¸–é—´æ®µ æ—¥ èŒƒå›´1-31<br>ç¬¬å››ä¸ªæ—¶é—´æ®µ æœˆ èŒƒå›´1-12<br>ç¬¬äº”ä¸ªæ—¶é—´æ®µ å‘¨ èŒƒå›´0-7</p><p>â€œ*â€æ˜Ÿå·ä»£è¡¨ä»»ä½•æ—¶é—´éƒ½æ¥å—å‘½ä»¤<br>â€œ,â€é€—å·ï¼Œè¡¨ç¤ºéš”å¼€ã€‚ä»£è¡¨åˆ†éš”çš„æ—¶é—´éƒ½é€‚ç”¨æ­¤å‘½ä»¤ã€‚<br>â€œ-â€å‡å·ï¼Œä¸¤ä¸ªæ—¶é—´æ®µä¹‹é—´ï¼Œä»£è¡¨åœ¨æ­¤æ—¶é—´æ®µå†…æ‰§è¡Œå®šæ—¶ä»»åŠ¡ã€‚<br>/næ–œçº¿å’Œnï¼ˆæ•°å­—ï¼‰è¡¨ç¤ºæ¯éš”næ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡ã€‚</p><p>æ³¨æ„è¦ç‚¹åˆ†ä¸ºï¼šä¹¦å†™åŸºæœ¬è¦é¢†ä¸ä¹¦å†™æ³¨æ„äº‹é¡¹ï¼ŒæŒæ¡7ä¸ªåŸºæœ¬è¦é¢†ï¼š<br>ç¬¬ä¸€ã€ä¸ºå®šæ—¶ä»»åŠ¡è§„åˆ™åŠ å¿…è¦çš„æ³¨é‡Š<br>ç¬¬äºŒã€å®šæ—¶ä»»åŠ¡å‘½ä»¤æˆ–ç¨‹åºæœ€å¥½å†™åˆ°è„šæœ¬é‡Œæ‰§è¡Œ<br>ç¬¬ä¸‰ã€å®šæ—¶ä»»åŠ¡æ‰§è¡Œçš„è„šæœ¬è¦è§„èŒƒè·¯å¾„ï¼Œå¦‚ï¼š/server/scripts<br>ç¬¬å››ã€æ‰§è¡Œshellè„šæœ¬ä»»åŠ¡æ—¶å‰åŠ /bin/sh<br>æ‰§è¡Œå®šæ—¶ä»»åŠ¡æ—¶ï¼Œå¦‚æœæ˜¯æ‰§è¡Œè„šæœ¬ï¼Œå°½é‡åœ¨è„šæœ¬å‰é¢å¸¦ä¸Š/bin/shå‘½å<br>ç¬¬äº”ã€å®šæ—¶ä»»åŠ¡ç»“å°¾åŠ  >/dev/null 2>&1<br>ç¬¬å…­ã€/dev/nullä¸ºç‰¹æ®Šçš„å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œè¡¨ç¤ºé»‘æ´è®¾å¤‡æˆ–ç©ºè®¾å¤‡ã€‚<br>ç¬¬ä¸ƒã€æœ‰å…³é‡å®šå‘çš„è¯´æ˜<br>â€œ>æˆ–1> â€ è¾“å‡ºé‡å®šå‘ï¼šæŠŠå‰é¢è¾“å‡ºçš„ä¸œè¥¿è¾“å…¥åˆ°åè¾¹çš„æ–‡ä»¶ä¸­ï¼Œä¼šåˆ é™¤æ–‡ä»¶åŸæœ‰å†…å®¹ã€‚<br>â€œ&#187;æˆ–1&#187;â€ è¿½åŠ é‡å®šå‘ï¼šæŠŠå‰é¢è¾“å‡ºçš„ä¸œè¥¿è¿½åŠ åˆ°åè¾¹çš„æ–‡ä»¶ä¸­ï¼Œä¸ä¼šåˆ é™¤æ–‡ä»¶åŸæœ‰å†…å®¹ã€‚<br>â€œ&lt;æˆ–&lt;0 â€ è¾“å…¥é‡å®šå‘ï¼šè¾“å…¥é‡å®šå‘ç”¨äºæ”¹å˜å‘½ä»¤çš„è¾“å…¥ï¼ŒæŒ‡å®šè¾“å…¥å†…å®¹ï¼Œåè·Ÿæ–‡ä»¶åã€‚<br>â€œ&#171;æˆ–&#171;0â€ è¾“å…¥é‡å®šå‘ï¼šåè·Ÿå­—ç¬¦ä¸²ï¼Œç”¨æ¥è¡¨ç¤ºâ€œè¾“å…¥ç»“æŸâ€ï¼Œä¹Ÿå¯ç”¨ctrl+dæ¥ç»“æŸè¾“å…¥ã€‚<br>â€œ2>â€ é”™è¯¯é‡å®šå‘ï¼šæŠŠé”™è¯¯ä¿¡æ¯è¾“å…¥åˆ°åè¾¹çš„æ–‡ä»¶ä¸­ï¼Œä¼šåˆ é™¤æ–‡ä»¶åŸæœ‰å†…å®¹ã€‚<br>â€œ2&#187;â€ é”™è¯¯è¿½åŠ é‡å®šå‘ï¼šæŠŠé”™è¯¯ä¿¡æ¯è¿½åŠ åˆ°åè¾¹çš„æ–‡ä»¶ä¸­ï¼Œä¸ä¼šåˆ é™¤æ–‡ä»¶åŸæœ‰å†…å®¹ã€‚<br>æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰ï¼šä»£ç ä¸º0ï¼Œä½¿ç”¨&lt;æˆ–&#171;ã€‚<br>æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰:ä»£ç ä¸º1ï¼Œä½¿ç”¨>æˆ–&#187;ã€‚æ­£å¸¸çš„è¾“å‡ºã€‚<br>æ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆsederrï¼‰ï¼šä»£ç ä¸º2ï¼Œä½¿ç”¨2>æˆ–2&#187;ã€‚<br>ç‰¹æ®Šè®°å¿†ï¼š<br>â€œ2>&1â€å°±æ˜¯æŠŠæ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºï¼ˆ>&ï¼‰ã€‚</p><blockquote><p>/dev/null 2>&1 ç­‰ä»·äº 1>/dev/null 2>/dev/null</p></blockquote><p>103ã€è¯·åˆ—å‡ºLinuxä¸­ä½ è®¤ä¸ºé‡è¦çš„æ–‡ä»¶å¤¹åŠåŒ…å«å†…å®¹</p><p>ï¼ˆ1ï¼‰/ç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹é‡Œé¢åˆ†åˆ«æ˜¯ä»¥ä¸‹å†…å®¹ï¼š<br>/usr åŒ…å«æ‰€æœ‰çš„å‘½ä»¤å’Œç¨‹åºåº“ã€æ–‡æ¡£å’Œå…¶ä»–æ–‡ä»¶åŠå½“å‰linuxå‘è¡Œç‰ˆçš„ä¸»è¦åº”ç”¨ç¨‹åº<br>/var åŒ…å«æ­£åœ¨æ“ä½œçš„æ–‡ä»¶ï¼Œè¿˜æœ‰è®°å½•æ–‡ä»¶ã€åŠ å¯†æ–‡ä»¶ã€ä¸´æ—¶æ–‡ä»¶ç­‰<br>/home é™¤äº†rootç”¨æˆ·å¤–çš„æ‰€æœ‰ç”¨æˆ·çš„é…ç½®æ–‡ä»¶ï¼Œä¸ªæ€§åŒ–æ–‡ä»¶å’Œä¸»ç›®å½•ï¼Œå³å®¶ç›®å½•<br>/proc è™šæ‹Ÿç›®å½•ï¼Œè¯¥ç›®å½•å®é™…ä¸ŠæŒ‡å‘å†…å­˜è€Œä¸æ˜¯ç¡¬ç›˜<br>/bin ç³»ç»Ÿæ‰§è¡Œæ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰æ™®é€šç”¨æˆ·å¯ä»¥ä½¿ç”¨<br>/sbin ç³»ç»Ÿæ‰§è¡Œæ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ä¸èƒ½è¢«æ™®é€šç”¨æˆ·ä½¿ç”¨ï¼Œé€šå¸¸ç”±rootç”¨æˆ·ä½¿ç”¨<br>/etc æ“ä½œç³»ç»Ÿçš„é…ç½®æ–‡ä»¶<br>/root rootç”¨æˆ·çš„å®¶ç›®å½•<br>/dev ç³»ç»Ÿè®¾å¤‡æ–‡ä»¶ï¼Œlinuxæ‰€æœ‰è®¾å¤‡éƒ½æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼è¢«å¤„ç†ï¼Œè¯¥ç›®å½•ä¸åŒ…å«é©±åŠ¨ç¨‹åº<br>/lib ç¨‹åºå’Œæ ¸å¿ƒæ¨¡å—å…±äº«åº“ï¼ˆä»…é™äº/ä¸‹çš„ç¨‹åºï¼‰<br>/boot ç³»ç»Ÿå¼•å¯¼ã€å¯åŠ¨æ–‡ä»¶ï¼Œé€šå¸¸grubä¹Ÿåœ¨è¿™é‡Œ<br>/opt å¯é€‰åº”ç”¨ç¨‹åºç›®å½•<br>/tmp ä¸´æ—¶æ–‡ä»¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ¸…ç†<br>/lost+found æ¢å¤æ–‡ä»¶ï¼ˆç±»ä¼¼å›æ”¶ç«™ï¼‰<br>/media æ‰€æœ‰çš„ç£ç›˜ï¼ˆæœ‰æ—¶æœ‰å…‰ç›˜ï¼‰å°†ä»¥æ–‡ä»¶å¤¹çš„å½¢å¼æŒ‚è½½ï¼Œå…‰ç›˜é•œåƒä¹Ÿå¯ä»¥æŒ‚è½½<br>/cd-rom æŒ‚è½½å…‰ç›˜çš„åœ°æ–¹</p><p>ï¼ˆ2ï¼‰ /usrç›®å½•ä¸‹çš„æ–‡ä»¶æ¯”è¾ƒé‡è¦ï¼Œå…¶ä½œç”¨ä¸‹é¢åˆ†ç±»åˆ—å‡ºï¼š<br>/usr/X11 X-windowsæ¡Œé¢ç¯å¢ƒ<br>/usr/doc linuxç³»ç»Ÿçš„æ–‡æ¡£èµ„æ–™<br>/usr/share ç‹¬ç«‹äºå½“å‰è®¡ç®—æœºçš„æ•°æ®ç»“æ„ï¼Œå¦‚å­—å…¸ä¸­çš„è¯<br>/usr/bin ç±»ä¼¼/binä½†æ˜¯ä¸å‚ä¸å¯åŠ¨ï¼Œå¤§éƒ¨åˆ†å‘½ä»¤éƒ½åœ¨è¿™é‡Œ<br>/usr/local æœ¬åœ°ç®¡ç†å‘˜å®‰è£…çš„åº”ç”¨ç¨‹åº<br>/usr/local/bin ç”¨æˆ·å®‰è£…çš„åº”ç”¨ç¨‹åºï¼ˆéƒ¨åˆ†ï¼‰</p><p>ï¼ˆ3ï¼‰ /procç›®å½•çš„å†…å®¹<br>/proc/cpuinfo å¤„ç†å™¨çš„ä¿¡æ¯<br>/proc/devices å½“å‰è¿è¡Œå†…æ ¸çš„æ‰€æœ‰è®¾å¤‡æ¸…å•<br>/proc/dma å½“å‰æ­£åœ¨ä½¿ç”¨ä¸­çš„DMAé€šé“<br>/proc/filesystem å½“å‰è¿è¡Œå†…æ ¸æ‰€é…ç½®çš„æ–‡ä»¶ç³»ç»Ÿ<br>/proc/interrupts å½“å‰ä½¿ç”¨çš„ä¸­æ–­å’Œæ›¾ç»æœ‰å¤šå°‘ä¸ªä¸­æ–­<br>/proc/ioports æ­£åœ¨ä½¿ç”¨çš„I/Oç«¯å£</p><p>104ã€ç»™å‡ºæ­£ç¡®çš„å…³æœºå’Œé‡å¯æœåŠ¡å™¨çš„å‘½ä»¤</p><p>ï¼ˆ1ï¼‰shutdown<br>[-t] æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´ä¹‹åå…³é—­ç³»ç»Ÿ [-r] é‡å¯ç³»ç»Ÿ [-k] å¹¶ä¸çœŸæ­£å…³æœºï¼Œåªæ˜¯ç»™æ¯ä¸ªç™»å½•ç”¨æˆ·å‘é€è­¦å‘Šä¿¡å· [-h] å…³é—­ç³»ç»Ÿï¼ˆhaltï¼‰<br>ï¼ˆ2ï¼‰halt<br>haltæ˜¯æœ€ç®€å•çš„å…³æœºå‘½ä»¤ï¼Œå…¶å®é™…ä¸Šæ˜¯è°ƒç”¨shutdown -hå‘½ä»¤ã€‚haltæ‰§è¡Œæ—¶ï¼Œæ€æ­»åº”ç”¨è¿›ç¨‹ï¼Œæ–‡ä»¶ç³»ç»Ÿå†™æ“ä½œå®Œæˆåå°±ä¼šåœæ­¢å†…æ ¸ã€‚<br>haltå‘½ä»¤çš„éƒ¨åˆ†å‚æ•°å¦‚ä¸‹ï¼š<br>[-f] æ²¡æœ‰è°ƒç”¨shutdownè€Œå¼ºåˆ¶å…³æœºæˆ–é‡å¯ [-i] å…³æœºæˆ–é‡æ–°å¯åŠ¨ä¹‹å‰ï¼Œå…³æ‰æ‰€æœ‰çš„ç½‘ç»œæ¥å£ [-p] å…³æœºæ—¶è°ƒç”¨poweroffï¼Œæ­¤é€‰é¡¹ä¸ºç¼ºçœé€‰é¡¹<br>ï¼ˆ3ï¼‰reboot<br>rebootå·¥ä½œè¿‡ç¨‹ä¸haltç±»ä¼¼ï¼Œä½œç”¨æ˜¯é‡æ–°å¯åŠ¨ï¼Œè€Œhaltæ˜¯å…³æœºã€‚å…¶å‚æ•°ä¸haltç±»ä¼¼ã€‚<br>ï¼ˆ4ï¼‰init<br>initæ˜¯æ‰€æœ‰è¿›ç¨‹çš„ç¥–å…ˆï¼Œå…¶è¿›ç¨‹å·å§‹ç»ˆä¸º1ã€‚initç”¨äºåˆ‡æ¢ç³»ç»Ÿçš„è¿è¡Œçº§åˆ«ï¼Œåˆ‡æ¢çš„å·¥ä½œæ˜¯ç«‹å³å®Œæˆçš„ã€‚init 0å‘½ä»¤ç”¨äºç«‹å³å°†ç³»ç»Ÿè¿è¡Œçº§åˆ«åˆ‡æ¢ä¸º0ï¼Œå³å…³æœºï¼›init 6å‘½ä»¤ç”¨äºå°†ç³»ç»Ÿè¿è¡Œçº§åˆ«åˆ‡æ¢ä¸º6ï¼Œå³é‡æ–°å¯åŠ¨ã€‚</p><p>105ã€è¯·ç®€è¿°ä¿®æ”¹/etc/sudoersé…ç½®æ–‡ä»¶çš„æ³¨æ„äº‹é¡¹</p><p>ï¼ˆ1ï¼‰åˆ«åçš„åç§°å¯ä»¥åŒ…å«å¤§å†™å­—æ¯ã€‚æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚å¦‚æœæ˜¯å­—æ¯å¿…é¡»è¦å¤§å†™ï¼Œï¼ˆåˆ«åä¸ºä¸€ç¾¤æ‹¥æœ‰ç›¸åŒå±æ€§çš„é›†åˆï¼‰ã€‚<br>ï¼ˆ2ï¼‰ä¸€ä¸ªåˆ«åä¸‹é¢å¯ä»¥æœ‰å¤šä¸ªæˆå‘˜ï¼Œæˆå‘˜é—´é€šè¿‡åŠè§’(,)é€—å·éš”å¼€ã€‚æˆå‘˜å¿…é¡»æœ‰æ•ˆå®é™…å­˜åœ¨ã€‚<br>åˆ«åæˆå‘˜å—åˆ«åç±»å‹ Host_Aliasã€User_Aliasã€Runas_Aliasã€Cmnd_Aliasåˆ¶çº¦ï¼Œå®šä¹‰ä»€ä¹ˆç±»å‹çš„åˆ«åï¼Œå°±è¦æœ‰ç›¸ä»€ä¹ˆç±»å‹çš„æˆå‘˜åŒ¹é…ã€‚<br>ï¼ˆ3ï¼‰ç”¨æˆ·ç»„å‰é¢å¿…é¡»åŠ %å·ã€‚å‘½ä»¤åˆ«åä¸‹çš„æˆå‘˜å¿…é¡»æ˜¯æ–‡ä»¶æˆ–ç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚<br>ï¼ˆ4ï¼‰æŒ‡å®šåˆ‡æ¢ç”¨æˆ·è¦ç”¨ï¼ˆï¼‰æ‹¬å·æ‹¬èµ·æ¥ï¼Œå¦‚æœçœç•¥ï¼Œåˆ™é»˜è®¤rootç”¨æˆ·ï¼Œå¦‚æœæ‹¬å·é‡Œæ˜¯ALLï¼Œåˆ™ä»£è¡¨èƒ½åˆ‡æ¢åˆ°æ‰€æœ‰ç”¨æˆ·ã€‚<br>ï¼ˆ5ï¼‰å‘½ä»¤è·¯å¾„è¦ä½¿ç”¨å…¨è·¯å¾„ã€‚<br>ï¼ˆ6ï¼‰åˆ«åè§„åˆ™æ¯è¡Œç®—ä¸€ä¸ªè§„åˆ™ï¼Œä¸€è¡Œå®¹ä¸ä¸‹æ—¶ç”¨\ç»­è¡Œã€‚å¦å¤–è¶…è¿‡ä¸€è¡Œï¼Œç”¨åæ–œçº¿æ¢è¡Œã€‚<br>ï¼ˆ7ï¼‰ä¸€èˆ¬ä¸å»ºè®®å…ˆç»™allæƒé™ï¼Œåé¢æ’é™¤ã€‚ç”¨ä»€ä¹ˆæƒé™ï¼Œå°±ç»™ä»€ä¹ˆæƒé™ã€‚ï¼ˆæ³¨æ„æƒé™ï¼Œè¯­æ³•ï¼‰ã€‚<br>å¦‚æœä¸éœ€è¦å¯†ç ç›´æ¥è¿è¡Œå‘½ä»¤çš„åº”è¯¥åŠ NOPASSWDå‚æ•°ã€‚<br>ï¼ˆ8ï¼‰ç¦æ­¢æŸç±»ç¨‹åºæˆ–å‘½ä»¤æ‰§è¡Œï¼Œè¦åœ¨å‘½ä»¤åŠ¨ä½œå‰é¢åŠ ä¸Šâ€œï¼â€å·ï¼Œå¹¶æ”¾åœ¨å…è®¸æ‰§è¡Œå‘½ä»¤ä¹‹åã€‚</p><p>106ã€è¯·æè¿°å¦‚ä½•å®ç°linuxç³»ç»Ÿé›†æƒåˆ†æ²»çš„æƒé™åˆ†çº§ç²¾ç»†ç®¡ç†ï¼Ÿ</p><p>ï¼ˆ1ï¼‰æ”¶é›†ä»¥åŠåˆ¶å®šç”¨æˆ·å’Œæƒé™çš„åŒ¹é…ä¿¡æ¯ï¼ŒåŸåˆ™æ˜¯ç»™äºæœ€å°æƒé™ï¼Œä½†æ˜¯åˆèƒ½å®Œæˆæ‰€æ‰¿æ‹…çš„å·¥ä½œèŒè´£ã€‚<br>ï¼ˆ2ï¼‰å„ä¸ªç”¨æˆ·ç»„è®¾ç½®å¯¹åº”æƒé™ï¼Œç”¨ä»€ä¹ˆç»™ä»€ä¹ˆï¼Œç²¾ç»†åˆ°æ¯ä¸€æ¡æŒ‡ä»¤ä¸Šæ ¹æ®åˆ†ç»„æƒ…å†µã€‚<br>ï¼ˆ3ï¼‰åˆ›å»ºè§„åˆ’æƒé™åˆ†ç»„çš„ç”¨æˆ·.æ·»åŠ ç›¸å…³ç”¨æˆ·ç»„ã€‚å¹¶ä¿®æ”¹etc/sudoersé…ç½®æ–‡ä»¶ã€‚<br>ï¼ˆ4ï¼‰å¢åŠ sudoçš„æƒé™å¼€æ”¾ï¼Œç¡®å®šç›¸å…³ç”¨æˆ·åŠ å…¥å¦‚soduersæƒé™åˆ—è¡¨ï¼Œå¹¶è¯¦ç»†è®¾ç½®æ‰€å¼€æ”¾æƒé™å†…å®¹ï¼Œå¹¶é€‰æ‹©æ˜¯å¦éœ€è¦å¯†ç çš„ç›¸å…³æ‰§è¡Œæƒé™å¼€æ”¾ã€‚ï¼ˆæ³¨æ„ALLæƒé™,ä»¥åŠå¯†ç ä¿®æ”¹æƒé™è®¾ç½®ï¼‰ã€‚<br>ï¼ˆ5ï¼‰ä¸å»ºè®®å…ˆç»™allæƒé™ï¼Œåé¢æ’é™¤ã€‚å»ºè®®ä½¿ç”¨ç™½åå•ã€‚<br>ï¼ˆ6ï¼‰å®æˆ˜è°ƒè¯•æµ‹è¯•ç›¸å…³æƒé™æ˜¯å¦æ­£ç¡®é…ç½®å®Œæˆã€‚<br>ï¼ˆ7ï¼‰ç¼–å†™æ“ä½œè¯´æ˜ï¼ŒåŠç›¸å…³æ³¨æ„äº‹é¡¹ã€‚<br>ï¼ˆ8ï¼‰è°ƒè¯•å®Œæ¯•ï¼Œé‚®ä»¶å‘¨çŸ¥æ‰€æœ‰ç›¸å…³äººå‘˜ç³»ç»Ÿæƒé™è®¾ç½®ç”Ÿæ•ˆï¼Œå¹¶é™„å¸¦æ“ä½œè¯´æ˜åŠç›¸å…³æ³¨æ„äº‹é¡¹ã€‚</p><p>107ã€è¯·å†™å‡ºä¸‹é¢Linux SecureCRTå‘½ä»¤è¡Œå¿«æ·é”®å‘½ä»¤çš„åŠŸèƒ½ï¼Ÿ</p><p>Ctrl + a å…‰æ ‡åˆ°å¼€å¤´<br>Ctrl + c ä¸­æ–­å½“å‰ç¨‹åº<br>Ctrl + d é€€å‡ºå½“å‰çª—å£æˆ–å½“å‰ç”¨æˆ·<br>Ctrl + e å…‰æ ‡åˆ°ç»“å°¾<br>Ctrl + l æ¸…å± ç›¸å½“ä¸clear<br>Ctrl + u å‰ªåˆ‡ã€åˆ é™¤ï¼ˆå…‰æ ‡ä»¥å‰çš„ï¼‰å†…å®¹<br>Ctrl + k å‰ªåˆ‡ã€åˆ é™¤ï¼ˆå…‰æ ‡ä»¥åçš„ï¼‰å†…å®¹<br>Ctrl + r æŸ¥æ‰¾ï¼ˆæœ€è¿‘ç”¨è¿‡çš„å‘½ä»¤ï¼‰<br>tab æ‰€æœ‰è·¯å¾„ä»¥åŠè¡¥å…¨å‘½ä»¤<br>Ctrl+shift+c å‘½ä»¤è¡Œå¤åˆ¶å†…å®¹<br>Ctrl+shift+v å‘½ä»¤è¡Œç²˜è´´å†…å®¹<br>Ctrl + q å–æ¶ˆå±å¹•é”å®š<br>Ctrl + s æ‰§è¡Œå±å¹•é”å®š</p><p>108ã€è¯·æè¿°æœåŠ¡å™¨è´¦æˆ·æ—¥å¿—å®¡è®¡çš„4ç§è§£å†³æ–¹æ¡ˆã€‚</p><p>ï¼ˆ1ï¼‰é€šè¿‡ç¯å¢ƒå˜é‡syslogå¯¹å…¨éƒ¨å…¨éƒ¨æ—¥å¿—è¿›è¡Œå®¡è®¡ï¼ˆä¿¡æ¯é‡å¤ªå¤§ï¼Œä¸æ¨èï¼‰<br>ï¼ˆ2ï¼‰sudoé…åˆsyslogæœåŠ¡ï¼Œè¿›è¡Œsudoæ“ä½œæ—¥å¿—è¿›è¡Œå®¡è®¡ï¼ˆä¿¡æ¯è¾ƒå°‘ï¼Œæ•ˆæœä¸é”™ï¼‰<br>ï¼ˆ3ï¼‰åœ¨bashè§£é‡Šå™¨åµŒå…¥ä¸€ä¸ªç›‘è§†å™¨ï¼Œè®©æ‰€æœ‰ç”¨æˆ·ä½¿ç”¨ä¿®æ”¹è¿‡çš„bashç¨‹åºï¼Œä½œä¸ºè§£é‡Šç¨‹åºã€‚<br>ï¼ˆ4ï¼‰é½æ²»çš„å ¡å’æœºï¼ˆå•†ä¸šäº§å“ï¼‰ã€‚</p><p>109ã€å¦‚æœä¸€å°åŠå…¬å®¤å†…ä¸»æœºæ— æ³•ä¸Šç½‘ï¼ˆæ‰“ä¸å¼€ç½‘ç«™ï¼‰ï¼Œè¯·ç»™å‡ºä½ çš„æ’æŸ¥æ­¥éª¤ï¼Ÿ</p><p>ï¼ˆ1ï¼‰é¦–å…ˆç¡®å®šç‰©ç†é“¾è·¯æ˜¯å¦è”é€šæ­£å¸¸ã€‚<br>ï¼ˆ2ï¼‰æŸ¥çœ‹æœ¬æœºIPï¼Œè·¯ç”±ï¼ŒDNSçš„è®¾ç½®æƒ…å†µæ˜¯å¦è¾¾æ ‡ã€‚<br>ï¼ˆ3ï¼‰telnetæ£€æŸ¥æœåŠ¡å™¨çš„WEBæœ‰æ²¡æœ‰å¼€å¯ä»¥åŠé˜²ç«å¢™æ˜¯å¦é˜»æ‹¦ã€‚<br>ï¼ˆ4ï¼‰pingä¸€ä¸‹ç½‘å…³ï¼Œè¿›è¡Œæœ€åŸºç¡€çš„æ£€æŸ¥ï¼Œé€šäº†ï¼Œè¡¨ç¤ºèƒ½å¤Ÿåˆ°è¾¾æœåŠ¡å™¨ã€‚<br>ï¼ˆ5ï¼‰æµ‹è¯•åˆ°ç½‘å…³æˆ–è·¯ç”±å™¨çš„é€šå¸¸æƒ…å†µï¼Œå…ˆæµ‹ç½‘å…³ï¼Œç„¶åå†æµ‹è·¯ç”±å™¨ä¸€çº§ä¸€çº§çš„æµ‹è¯•ã€‚<br>ï¼ˆ6ï¼‰æµ‹è¯•pingå…¬ç½‘ipçš„é€šå¸¸æƒ…å†µï¼ˆè®°ä½å‡ ä¸ªå¤–éƒ¨IPï¼‰ï¼Œ<br>ï¼ˆ7ï¼‰æµ‹è¯•DNSçš„é€šç•…ã€‚pingå‡ºå¯¹åº”IPã€‚<br>ï¼ˆ8ï¼‰é€šè¿‡ä»¥ä¸Šæ£€æŸ¥åï¼Œè¿˜åœ¨ç½‘ç®¡çš„è·¯ç”±å™¨ä¸Šè¿›è¡Œæ£€æŸ¥ã€‚</p><p>110ã€æè¿°Linux shellä¸­å•å¼•å·ã€åŒå¼•å·åŠä¸åŠ å¼•å·çš„ç®€å•åŒºåˆ«ï¼Ÿ</p><p>å•å¼•å·ï¼šæ‰€è§å³æ‰€å¾—ï¼Œå³å°†å•å¼•å·å†…çš„å†…å®¹åŸæ ·è¾“å‡ºï¼Œæˆ–è€…æè¿°ä¸ºå•å¼•å·é‡Œé¢çœ‹åˆ°çš„æ˜¯ä»€ä¹ˆå°±è¾“å‡ºä»€ä¹ˆã€‚<br>åŒå¼•å·ï¼šæŠŠåŒå¼•å·é‡Œé¢çš„å†…å®¹ç»™è¾“å‡ºå‡ºæ¥ï¼Œå¦‚æœå†…å®¹ä¸­æœ‰å‘½ä»¤ã€å˜é‡ç­‰ï¼Œä¼šå…ˆæŠŠï¼Œå˜æ¥é‚£ä¸ªã€å‘½ä»¤è§£æå‡ºç»“æœï¼Œç„¶åè¾“å‡ºæœ€ç»ˆå†…å®¹ã€‚<br>åŒå¼•å·å†…çš„å‘½ä»¤æˆ–è€…å˜é‡å†™æ³•â€™å‘½ä»¤æˆ–å˜é‡â€™æˆ–$(å‘½ä»¤æˆ–å˜é‡)<br>æ— å¼•å·ï¼šæŠŠå†…å®¹è¾“å‡ºå‡ºæ¥ï¼Œå¯èƒ½ä¸ä¼šé”®å«æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²ï¼Œè§†ä¸ºä¸€ä¸ªæ•´ä½“è¾“å‡ºï¼Œå¦‚æœå†…å®¹ä¸­æœ‰å‘½ä»¤ã€å˜é‡ç­‰ï¼Œä¼šå…ˆæŠŠå˜é‡ã€å‘½ä»¤è§£æå‡ºæ¥ï¼Œç„¶åè¾“å‡ºæœ€ç»ˆå†…å®¹ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸­å¸¦æœ‰ç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦ï¼Œåˆ™ä¸èƒ½å®Œæ•´è¾“å‡ºï¼Œéœ€è¦æ”¹åŠ åŒå¼•å·ã€‚ä¸€èˆ¬è¿ç»­çš„å­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œè·¯å¾„ç­‰å¯ä»¥ç”¨ï¼Œä¸è¿‡æœ€å¥½ç”¨åŒå¼•å·ï¼Œæ›¿ä»£ä¹‹ã€‚</p><p>111ã€è¯·ç®€è¿°Linuxå¯åŠ¨è¿‡ç¨‹ä¸­å‡ ä¸ªé‡è¦é…ç½®æ–‡ä»¶çš„æ‰§è¡Œè¿‡ç¨‹</p><p>Linuxç™»å½•åï¼Œé…ç½®æ‰§è¡Œé¡ºåºä¸º(Debian Serials Capable)ï¼š<br>/etc/environment -> /etc/profile -> (~/.bash_profile | ~/.bash_login | ~/.profile) -> ~/.bashrc -> /etc/bashrc -> ~/.bash_logout<br>å…³äºå„ä¸ªæ–‡ä»¶çš„ä½œç”¨è¯´æ˜ï¼š<br>ï¼ˆ1ï¼‰/etc/environmentï¼šæ­¤é…ç½®æ–‡ä»¶è®¾ç½®åŸºæœ¬çš„PATHå˜é‡ï¼ŒåŠç³»ç»Ÿå½“å‰è¯­è¨€å˜é‡ï¼Œè™½ç„¶æ¯”è¾ƒçŸ­ï¼Œä½†å´åœ¨ç³»ç»Ÿå¯åŠ¨ä¸­å æ®ä¸¾è¶³è½»é‡çš„ä½œç”¨ï¼Œæ¯”å¦‚å¦‚ä¸‹æ˜¯æˆ‘çš„ç³»ç»Ÿä¸­çš„å†…å®¹ï¼š<br>ï¼ˆ2ï¼‰/etc/profileï¼š æ­¤æ–‡ä»¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯,å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶,è¯¥æ–‡ä»¶è¢«æ‰§è¡Œ. å¹¶ä»/etc/profile.dç›®å½•çš„é…ç½®æ–‡ä»¶ä¸­æœé›†shellçš„è®¾ç½®ã€‚<br>ï¼ˆ3ï¼‰/etc/bash.bashrc: ä¸ºæ¯ä¸€ä¸ªè¿è¡Œbash shellçš„ç”¨æˆ·æ‰§è¡Œæ­¤æ–‡ä»¶.å½“bash shellè¢«æ‰“å¼€æ—¶,è¯¥æ–‡ä»¶è¢«è¯»å–ã€‚<br>ï¼ˆ4ï¼‰~/.bash_profile: æ¯ä¸ªç”¨æˆ·éƒ½å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¾“å…¥ä¸“ç”¨äºè‡ªå·±ä½¿ç”¨çš„shellä¿¡æ¯,å½“ç”¨æˆ·ç™»å½•æ—¶,è¯¥æ–‡ä»¶ä»…ä»…æ‰§è¡Œä¸€æ¬¡!é»˜è®¤æƒ…å†µä¸‹,ä»–è®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡,æ‰§è¡Œç”¨æˆ·çš„.bashrcæ–‡ä»¶ã€‚<br>ï¼ˆ5ï¼‰~/.bashrc: è¯¥æ–‡ä»¶åŒ…å«ä¸“ç”¨äºä½ çš„bash shellçš„bashä¿¡æ¯,å½“ç™»å½•æ—¶ä»¥åŠæ¯æ¬¡æ‰“å¼€æ–°çš„shellæ—¶,è¯¥è¯¥æ–‡ä»¶è¢«è¯»å–ã€‚<br>ï¼ˆ6ï¼‰~/.bash_logout: å½“æ¯æ¬¡é€€å‡ºç³»ç»Ÿ(é€€å‡ºbash shell)æ—¶,æ‰§è¡Œè¯¥æ–‡ä»¶. å¦å¤–,/etc/profileä¸­è®¾å®šçš„å˜é‡(å…¨å±€)çš„å¯ä»¥ä½œç”¨äºä»»ä½•ç”¨æˆ·,è€Œ~/.bashrcç­‰ä¸­è®¾å®šçš„å˜é‡(å±€éƒ¨)åªèƒ½ç»§æ‰¿ /etc/profileä¸­çš„å˜é‡,ä»–ä»¬æ˜¯"çˆ¶å­"å…³ç³»ã€‚<br>ï¼ˆ7ï¼‰~/.bash_profile æ˜¯äº¤äº’å¼ã€login æ–¹å¼è¿›å…¥ bash è¿è¡Œçš„~/.bashrc æ˜¯äº¤äº’å¼ non-login æ–¹å¼è¿›å…¥ bash è¿è¡Œçš„é€šå¸¸äºŒè€…è®¾ç½®å¤§è‡´ç›¸åŒï¼Œæ‰€ä»¥é€šå¸¸å‰è€…ä¼šè°ƒç”¨åè€…ã€‚</p><p>112ã€è¯·æè¿°ä¸‹åˆ—è·¯å¾„çš„å†…å®¹æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ</p><p>/var/log/messages ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶<br>/var/log/secure ç³»ç»Ÿå®‰å…¨æ–‡ä»¶ï¼ˆæ˜¾ç¤ºç™»å½•ä¿¡æ¯çš„æ–‡ä»¶ï¼‰<br>/var/spool/clientmqueue ä¾‹è¡Œæ€§ä»»åŠ¡å›æ‰§é‚®ä»¶å­˜æ”¾æ–‡ä»¶<br>/proc/interrupts å½“å‰ç³»ç»Ÿä¸­æ–­æŠ¥å‘Šæ–‡ä»¶<br>/etc/fstab å¼€æœºè‡ªåŠ¨æŒ‚è½½ç£ç›˜çš„é…ç½®æ–‡ä»¶<br>/etc/profile ç¯å¢ƒå˜é‡å­˜æ”¾çš„æ–‡ä»¶</p><p>113ã€è¯·ç»™å‡ºLinuxä¸­eth0çš„IPåœ°å€å’Œå¹¿æ’­åœ°å€çš„æŒ‡ä»¤ï¼Œéœ€ä½¿ç”¨cutã€awkã€grepã€sedæŒ‡ä»¤ã€‚</p><p>ç¬¬ä¸€ç§æ–¹æ³•ï¼šä½¿ç”¨grepå’Œcutå–å€¼<br>ç¬¬äºŒç§æ–¹æ³•ï¼šä½¿ç”¨grepå’Œawkï¼ˆé»˜è®¤åˆ†éš”ç¬¦ä¸ºç©ºæ ¼ï¼‰å–å€¼<br>ç¬¬ä¸‰ç§æ–¹æ³•ï¼šä½¿ç”¨grepå’Œawkï¼ˆå¤šåˆ†éš”ç¬¦ï¼‰<br>ç¬¬å››ç§æ–¹æ³•ï¼šä½¿ç”¨sedå’Œawk<br>ç¬¬äº”ç§æ–¹æ³•ï¼šä½¿ç”¨grepå’Œawkï¼ˆå¤šåˆ†éš”ç¬¦ä¸åŠ å·+ï¼‰<br>ç¬¬å…­ç§æ–¹æ³•ï¼šawk ï¼ˆåˆ†éš”ç¬¦åŠå–è¡Œï¼‰<br>ç¬¬ä¸ƒç§æ–¹æ³•ï¼šgrep ç½‘å¡æ–‡ä»¶<br>ç¬¬å…«ç§æ–¹æ³•ï¼šheadå–è¡Œ awkåˆ†å‰²</p><p>114ã€è¯·è¾“å‡ºä½ çŸ¥é“çš„20 ä¸ªLINUX å‘½ä»¤åŠä½œç”¨</p><p>cp å¤åˆ¶ -a(drp),-ræ‹·è´ç›®å½• -pä¿æŒå±æ€§<br>mv ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•<br>mkdir åˆ›å»ºç›®å½• -pé€’å½’åˆ›å»ºç›®å½• mkdir /a/b/c<br>touch åˆ›å»ºæ–‡ä»¶ï¼Œ<br>cd åˆ‡æ¢ç›®å½•ï¼ˆ~å½“å‰ç”¨æˆ·å®¶ç›®å½•ï¼Œ-ä¸Šä¸€æ¬¡çš„ç›®å½•ï¼‰<br>cat æŸ¥çœ‹æ–‡ä»¶å†…å®¹ -næ˜¾ç¤ºè¡Œå·<br>ls æŸ¥çœ‹ç›®å½•ä¸‹æ–‡ä»¶ï¼Œ-lé•¿æ ¼å¼,-dæŸ¥çœ‹ç›®å½•**********<br>rm åˆ é™¤æ–‡ä»¶æˆ–ç›®å½• -rç›®å½• -få¼ºåˆ¶åˆ é™¤ï¼ˆæ…ç”¨ï¼Œmv,findï¼‰<br>find æŸ¥æ‰¾æ–‡ä»¶æˆ–ç›®å½• -type ç±»å‹ï¼ˆf,d,l,c,bï¼‰ï¼Œ-nameåå­— -execæ‰§è¡ŒåŠ¨ä½œ*****<br>alias æŸ¥çœ‹åŠè®¾ç½®åˆ«å<br>unalias å–æ¶ˆåˆ«å<br>seq æ‰“å°åºåˆ— -sæŒ‡å®šåˆ†å‰²ç¬¦ -wæ•°å­—å‰é¢åŠ 0è¡¥é½ä½æ•°<br>head æŸ¥çœ‹æ–‡ä»¶å‰Nè¡Œï¼Œé»˜è®¤10è¡Œï¼Œ-næŒ‡å®šè¡Œæ•°<br>tail æŸ¥çœ‹æ–‡ä»¶åNè¡Œï¼Œé»˜è®¤10è¡Œï¼Œ-næŒ‡å®šè¡Œæ•°,-få®æ—¶è·Ÿè¸ªæ–‡ä»¶ç»“å°¾çš„å˜åŒ–<br>sed linuxä¸‰å‰‘å®¢è€äºŒï¼Œæ–‡ä»¶å¢åˆ æ”¹æŸ¥ï¼Œ*****<br>pwdæ‰“å°å½“å‰å·¥ä½œç›®å½•<br>rmdir åˆ é™¤ç©ºç›®å½•<br>echo æ˜¾ç¤ºè¾“å‡º<br>xargs (é…åˆfind,ls)ç­‰æŸ¥æ‰¾åˆ°çš„å†…å®¹å¤„ç†,-nåˆ†ç»„<br>tree -Lå±‚æ•° -dç›®å½•<br>rpm -q queryæŸ¥è¯¢ -a all<br>uname -rå†…æ ¸ -m32ä½è¿˜æ˜¯64ä½ -aæ‰€æœ‰ä¿¡æ¯, -nä¸»æœºåï¼ˆhostnameï¼‰<br>hostname ä¸»æœºå<br>whoami æŸ¥çœ‹å½“å‰ç”¨æˆ·<br>useradd æ·»åŠ ç”¨æˆ·<br>passwd æ”¹å¯†ç ï¼Œâ€“stdin éäº¤äº’è®¾ç½®å¯†ç <br>su åˆ‡æ¢ç”¨æˆ·è§’è‰²ï¼Œ-åˆ‡æ¢ç¯å¢ƒå˜é‡</p><p>115ã€ä»€ä¹ˆæ˜¯è¿ç»´ï¼Ÿä»€ä¹ˆæ˜¯æ¸¸æˆè¿ç»´ï¼Ÿ</p><p>ï¼ˆ1ï¼‰è¿ç»´æ˜¯æŒ‡å¤§å‹ç»„ç»‡å·²ç»å»ºç«‹å¥½çš„ç½‘ç»œè½¯ç¡¬ä»¶çš„ç»´æŠ¤ï¼Œå°±æ˜¯è¦ä¿è¯ä¸šåŠ¡çš„ä¸Šçº¿ä¸è¿ä½œçš„æ­£å¸¸ï¼Œ<br>åœ¨ä»–è¿è½¬çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹ä»–è¿›è¡Œç»´æŠ¤ï¼Œä»–é›†åˆäº†ç½‘ç»œã€ç³»ç»Ÿã€æ•°æ®åº“ã€å¼€å‘ã€å®‰å…¨ã€ç›‘æ§äºä¸€èº«çš„æŠ€æœ¯<br>è¿ç»´åˆåŒ…æ‹¬å¾ˆå¤šç§ï¼Œæœ‰DBAè¿ç»´ã€ç½‘ç«™è¿ç»´ã€è™šæ‹ŸåŒ–è¿ç»´ã€ç›‘æ§è¿ç»´ã€æ¸¸æˆè¿ç»´ç­‰ç­‰<br>ï¼ˆ2ï¼‰æ¸¸æˆè¿ç»´åˆæœ‰åˆ†å·¥ï¼Œåˆ†ä¸ºå¼€å‘è¿ç»´ã€åº”ç”¨è¿ç»´ï¼ˆä¸šåŠ¡è¿ç»´ï¼‰å’Œç³»ç»Ÿè¿ç»´<br>å¼€å‘è¿ç»´ï¼šæ˜¯ç»™åº”ç”¨è¿ç»´å¼€å‘è¿ç»´å·¥å…·å’Œè¿ç»´å¹³å°çš„<br>åº”ç”¨è¿ç»´ï¼šæ˜¯ç»™ä¸šåŠ¡ä¸Šçº¿ã€ç»´æŠ¤å’Œåšæ•…éšœæ’é™¤çš„ï¼Œç”¨å¼€å‘è¿ç»´å¼€å‘å‡ºæ¥çš„å·¥å…·ç»™ä¸šåŠ¡ä¸Šçº¿ã€ç»´æŠ¤ã€åšæ•…éšœæ’æŸ¥<br>ç³»ç»Ÿè¿ç»´ï¼šæ˜¯ç»™åº”ç”¨è¿ç»´æä¾›ä¸šåŠ¡ä¸Šçš„åŸºç¡€è®¾æ–½ï¼Œæ¯”å¦‚ï¼šç³»ç»Ÿã€ç½‘ç»œã€ç›‘æ§ã€ç¡¬ä»¶ç­‰ç­‰<br>æ€»ç»“ï¼šå¼€å‘è¿ç»´å’Œç³»ç»Ÿè¿ç»´ç»™åº”ç”¨è¿ç»´æä¾›äº†â€œå·¥å…·â€å’Œâ€œåŸºç¡€è®¾æ–½â€ä¸Šçš„æ”¯æ’‘<br>å¼€å‘è¿ç»´ã€åº”ç”¨è¿ç»´å’Œç³»ç»Ÿè¿ç»´ä»–ä»¬çš„å·¥ä½œæ˜¯ç¯ç¯ç›¸æ‰£çš„</p><p>116ã€åœ¨å·¥ä½œä¸­ï¼Œè¿ç»´äººå‘˜ç»å¸¸éœ€è¦è·Ÿè¿è¥äººå‘˜æ‰“äº¤é“ï¼Œè¯·é—®è¿è¥äººå‘˜æ˜¯åšä»€ä¹ˆå·¥ä½œçš„ï¼Ÿ</p><p>æ¸¸æˆè¿è¥è¦åšçš„ä¸€ä¸ªäº‹æƒ…é™¤äº†åè°ƒå·¥ä½œä»¥å¤–ï¼Œè¿˜éœ€è¦ä¸å„å¹³å°æ²Ÿé€šï¼Œåšå¥½å¼€æœçš„æ—¶é—´ã€å¼€æœæ•°ã€ç”¨æˆ·å¯¼é‡ã€æ´»åŠ¨ç­‰è®¡åˆ’</p><p>117ã€ç°åœ¨ç»™ä½ ä¸‰ç™¾å°æœåŠ¡å™¨ï¼Œä½ æ€ä¹ˆå¯¹ä»–ä»¬è¿›è¡Œç®¡ç†ï¼Ÿ</p><p>ç®¡ç†ä¸‰ç™¾å°æœåŠ¡å™¨çš„æ–¹å¼ï¼š<br>ï¼ˆ1ï¼‰è®¾å®šè·³æ¿æœºï¼Œä½¿ç”¨ç»Ÿä¸€è´¦å·ç™»å½•ï¼Œä¾¿äºå®‰å…¨ä¸ç™»å½•çš„è€ƒé‡ã€‚<br>ï¼ˆ2ï¼‰ä½¿ç”¨saltã€ansiableã€puppetè¿›è¡Œç³»ç»Ÿçš„ç»Ÿä¸€è°ƒåº¦ä¸é…ç½®çš„ç»Ÿä¸€ç®¡ç†ã€‚<br>ï¼ˆ3ï¼‰å»ºç«‹ç®€å•çš„æœåŠ¡å™¨çš„ç³»ç»Ÿã€é…ç½®ã€åº”ç”¨çš„cmdbä¿¡æ¯ç®¡ç†ã€‚ä¾¿äºæŸ¥é˜…æ¯å°æœåŠ¡å™¨ä¸Šçš„å„ç§ä¿¡æ¯è®°å½•ã€‚</p><p>118ã€ç®€è¿°raid0 raid1 raid5 ä¸‰ç§å·¥ä½œæ¨¡å¼çš„å·¥ä½œåŸç†åŠç‰¹ç‚¹</p><p>RAIDï¼Œå¯ä»¥æŠŠç¡¬ç›˜æ•´åˆæˆä¸€ä¸ªå¤§ç£ç›˜ï¼Œè¿˜å¯ä»¥åœ¨å¤§ç£ç›˜ä¸Šå†åˆ†åŒºï¼Œæ”¾æ•°æ®<br>è¿˜æœ‰ä¸€ä¸ªå¤§åŠŸèƒ½ï¼Œå¤šå—ç›˜æ”¾åœ¨ä¸€èµ·å¯ä»¥æœ‰å†—ä½™ï¼ˆå¤‡ä»½ï¼‰<br>RAIDæ•´åˆæ–¹å¼æœ‰å¾ˆå¤šï¼Œå¸¸ç”¨çš„ï¼š0 1 5 10<br>RAID 0ï¼Œå¯ä»¥æ˜¯ä¸€å—ç›˜å’ŒNä¸ªç›˜ç»„åˆ<br>å…¶ä¼˜ç‚¹è¯»å†™å¿«ï¼Œæ˜¯RAIDä¸­æœ€å¥½çš„<br>ç¼ºç‚¹ï¼šæ²¡æœ‰å†—ä½™ï¼Œä¸€å—åäº†æ•°æ®å°±å…¨æ²¡æœ‰äº†<br>RAID 1ï¼Œåªèƒ½2å—ç›˜ï¼Œç›˜çš„å¤§å°å¯ä»¥ä¸ä¸€æ ·ï¼Œä»¥å°çš„ä¸ºå‡†<br>10G+10Gåªæœ‰10Gï¼Œå¦ä¸€ä¸ªåšå¤‡ä»½ã€‚å®ƒæœ‰100%çš„å†—ä½™ï¼Œç¼ºç‚¹ï¼šæµªè´¹èµ„æºï¼Œæˆæœ¬é«˜<br>RAID 5 ï¼Œ3å—ç›˜ï¼Œå®¹é‡è®¡ç®—10*ï¼ˆn-1ï¼‰,æŸå¤±ä¸€å—ç›˜<br>ç‰¹ç‚¹ï¼Œè¯»å†™æ€§èƒ½ä¸€èˆ¬ï¼Œè¯»è¿˜å¥½ä¸€ç‚¹ï¼Œå†™ä¸å¥½<br>å†—ä½™ä»å¥½åˆ°åï¼šRAID1 RAID10 RAID 5 RAID0<br>æ€§èƒ½ä»å¥½åˆ°åï¼šRAID0 RAID10 RAID5 RAID1<br>æˆæœ¬ä»ä½åˆ°é«˜ï¼šRAID0 RAID5 RAID1 RAID10<br>å•å°æœåŠ¡å™¨ï¼šå¾ˆé‡è¦ç›˜ä¸å¤šï¼Œç³»ç»Ÿç›˜ï¼ŒRAID1<br>æ•°æ®åº“æœåŠ¡å™¨ï¼šä¸»åº“ï¼šRAID10 ä»åº“ RAID5\RAID0ï¼ˆä¸ºäº†ç»´æŠ¤æˆæœ¬ï¼ŒRAID10ï¼‰<br>WEBæœåŠ¡å™¨ï¼Œå¦‚æœæ²¡æœ‰å¤ªå¤šçš„æ•°æ®çš„è¯ï¼ŒRAID5,RAID0ï¼ˆå•ç›˜ï¼‰<br>æœ‰å¤šå°ï¼Œç›‘æ§ã€åº”ç”¨æœåŠ¡å™¨ï¼ŒRAID0 RAID5<br>æˆ‘ä»¬ä¼šæ ¹æ®æ•°æ®çš„å­˜å‚¨å’Œè®¿é—®çš„éœ€æ±‚ï¼Œå»åŒ¹é…å¯¹åº”çš„RAIDçº§åˆ«</p><p>119ã€LVSã€Nginxã€HAproxyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå·¥ä½œä¸­ä½ æ€ä¹ˆé€‰æ‹©ï¼Ÿ</p><p>LVSï¼š æ˜¯åŸºäºå››å±‚çš„è½¬å‘ã€‚<br>HAproxyï¼š æ˜¯åŸºäºå››å±‚å’Œä¸ƒå±‚çš„è½¬å‘ï¼Œæ˜¯ä¸“ä¸šçš„ä»£ç†æœåŠ¡å™¨ã€‚<br>Nginxï¼š æ˜¯WEBæœåŠ¡å™¨ï¼Œç¼“å­˜æœåŠ¡å™¨ï¼Œåˆæ˜¯åå‘ä»£ç†æœåŠ¡å™¨ï¼Œå¯ä»¥åšä¸ƒå±‚çš„è½¬å‘ã€‚<br>åŒºåˆ«ï¼š<br>LVSç”±äºæ˜¯åŸºäºå››å±‚çš„è½¬å‘æ‰€ä»¥åªèƒ½åšç«¯å£çš„è½¬å‘è€ŒåŸºäºURLçš„ã€åŸºäºç›®å½•çš„è¿™ç§è½¬å‘LVSå°±åšä¸äº†ã€‚<br>å·¥ä½œé€‰æ‹©ï¼š<br>HAproxyå’ŒNginxç”±äºå¯ä»¥åšä¸ƒå±‚çš„è½¬å‘ï¼Œæ‰€ä»¥URLå’Œç›®å½•çš„è½¬å‘éƒ½å¯ä»¥åšåœ¨å¾ˆå¤§å¹¶å‘é‡çš„æ—¶å€™æˆ‘ä»¬å°±è¦é€‰æ‹©LVSï¼Œåƒä¸­å°å‹å…¬å¸çš„è¯å¹¶å‘é‡æ²¡é‚£ä¹ˆå¤§é€‰æ‹©HAproxyæˆ–è€…Nginxè¶³å·²ï¼Œç”±äºHAproxyç”±æ˜¯ä¸“ä¸šçš„ä»£ç†æœåŠ¡å™¨é…ç½®ç®€å•ï¼Œæ‰€ä»¥ä¸­å°å‹ä¼ä¸šæ¨èä½¿ç”¨HAproxy<br>6ã€Squidã€Varinshå’ŒNginxæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå·¥ä½œä¸­ä½ æ€ä¹ˆé€‰æ‹©ï¼Ÿ<br>Squidã€Varinshå’ŒNginxéƒ½æ˜¯ä»£ç†æœåŠ¡å™¨<br>ä»€ä¹ˆæ˜¯ä»£ç†æœåŠ¡å™¨ï¼š<br>èƒ½å½“æ›¿ç”¨æˆ·å»è®¿é—®å…¬ç½‘ï¼Œå¹¶ä¸”èƒ½æŠŠè®¿é—®åˆ°çš„æ•°æ®ç¼“å­˜åˆ°æœåŠ¡å™¨æœ¬åœ°ï¼Œç­‰ç”¨æˆ·ä¸‹æ¬¡å†è®¿é—®ç›¸åŒçš„èµ„æºçš„æ—¶å€™ï¼Œä»£ç†æœåŠ¡å™¨ç›´æ¥ä»æœ¬åœ°å›åº”ç»™ç”¨æˆ·ï¼Œå½“æœ¬åœ°æ²¡æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»£æ›¿ä½ å»è®¿é—®å…¬ç½‘ï¼Œæˆ‘æ¥æ”¶ä½ çš„è¯·æ±‚ï¼Œæˆ‘å…ˆåœ¨æˆ‘è‡ªå·²çš„æœ¬åœ°ç¼“å­˜æ‰¾ï¼Œå¦‚æœæˆ‘æœ¬åœ°ç¼“å­˜æœ‰ï¼Œæˆ‘ç›´æ¥ä»æˆ‘æœ¬åœ°çš„ç¼“å­˜é‡Œå›å¤ä½ <br>å¦‚æœæˆ‘åœ¨æˆ‘æœ¬åœ°æ²¡æœ‰æ‰¾åˆ°ä½ è¦è®¿é—®çš„ç¼“å­˜çš„æ•°æ®ï¼Œé‚£ä¹ˆä»£ç†æœåŠ¡å™¨å°±ä¼šä»£æ›¿ä½ å»è®¿é—®å…¬ç½‘<br>åŒºåˆ«ï¼š<br>ï¼ˆ1ï¼‰Nginxæœ¬æ¥æ˜¯åå‘ä»£ç†/webæœåŠ¡å™¨ï¼Œç”¨äº†æ’ä»¶å¯ä»¥åšåšè¿™ä¸ªå‰¯ä¸š<br>ä½†æ˜¯æœ¬èº«ä¸æ”¯æŒç‰¹æ€§æŒºå¤šï¼Œåªèƒ½ç¼“å­˜é™æ€æ–‡ä»¶<br>ï¼ˆ2ï¼‰ä»è¿™äº›åŠŸèƒ½ä¸Šã€‚varnishå’Œsquidæ˜¯ä¸“ä¸šçš„cacheæœåŠ¡ï¼Œè€Œnginxè¿™äº›æ˜¯ç¬¬ä¸‰æ–¹æ¨¡å—å®Œæˆ<br>ï¼ˆ3ï¼‰varnishæœ¬èº«çš„æŠ€æœ¯ä¸Šä¼˜åŠ¿è¦é«˜äºsquidï¼Œå®ƒé‡‡ç”¨äº†å¯è§†åŒ–é¡µé¢ç¼“å­˜æŠ€æœ¯<br>åœ¨å†…å­˜çš„åˆ©ç”¨ä¸Šï¼ŒVarnishæ¯”Squidå…·æœ‰ä¼˜åŠ¿ï¼Œæ€§èƒ½è¦æ¯”Squidé«˜ã€‚<br>è¿˜æœ‰å¼ºå¤§çš„é€šè¿‡Varnishç®¡ç†ç«¯å£ï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¿«é€Ÿã€æ‰¹é‡åœ°æ¸…é™¤éƒ¨åˆ†ç¼“å­˜<br>å®ƒæ˜¯å†…å­˜ç¼“å­˜ï¼Œé€Ÿåº¦ä¸€æµï¼Œä½†æ˜¯å†…å­˜ç¼“å­˜ä¹Ÿé™åˆ¶äº†å…¶å®¹é‡ï¼Œç¼“å­˜é¡µé¢å’Œå›¾ç‰‡ä¸€èˆ¬æ˜¯æŒºå¥½çš„<br>ï¼ˆ4ï¼‰squidçš„ä¼˜åŠ¿åœ¨äºå®Œæ•´çš„åºå¤§çš„cacheæŠ€æœ¯èµ„æ–™ï¼Œå’Œå¾ˆå¤šçš„åº”ç”¨ç”Ÿäº§ç¯å¢ƒ<br>å·¥ä½œä¸­é€‰æ‹©ï¼š<br>è¦åšcacheæœåŠ¡çš„è¯ï¼Œæˆ‘ä»¬è‚¯å®šæ˜¯è¦é€‰æ‹©ä¸“ä¸šçš„cacheæœåŠ¡ï¼Œä¼˜å…ˆé€‰æ‹©squidæˆ–è€…varnishã€‚</p><p>120ã€Tomcatå’ŒResinæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå·¥ä½œä¸­ä½ æ€ä¹ˆé€‰æ‹©ï¼Ÿ</p><p>åŒºåˆ«ï¼š<br>Tomcatç”¨æˆ·æ•°å¤šï¼Œå¯å‚è€ƒæ–‡æ¡£å¤šï¼ŒResinç”¨æˆ·æ•°å°‘ï¼Œå¯è€ƒè™‘æ–‡æ¡£å°‘<br>æœ€ä¸»è¦åŒºåˆ«åˆ™æ˜¯Tomcatæ˜¯æ ‡å‡†çš„javaå®¹å™¨ï¼Œä¸è¿‡æ€§èƒ½æ–¹é¢æ¯”resinçš„è¦å·®ä¸€äº›<br>ä½†ç¨³å®šæ€§å’Œjavaç¨‹åºçš„å…¼å®¹æ€§ï¼Œåº”è¯¥æ˜¯æ¯”resinçš„è¦å¥½<br>å·¥ä½œä¸­é€‰æ‹©ï¼š<br>ç°åœ¨å¤§å…¬å¸éƒ½æ˜¯ç”¨resinï¼Œè¿½æ±‚æ€§èƒ½ï¼›è€Œä¸­å°å‹å…¬å¸éƒ½æ˜¯ç”¨Tomcatï¼Œè¿½æ±‚ç¨³å®šå’Œç¨‹åºçš„å…¼å®¹</p><p>121ã€ä»€ä¹ˆæ˜¯ä¸­é—´ä»¶ï¼Ÿä»€ä¹ˆæ˜¯jdkï¼Ÿ</p><p>ä¸­é—´ä»¶ä»‹ç»ï¼š<br>ä¸­é—´ä»¶æ˜¯ä¸€ç§ç‹¬ç«‹çš„ç³»ç»Ÿè½¯ä»¶æˆ–æœåŠ¡ç¨‹åºï¼Œåˆ†å¸ƒå¼åº”ç”¨è½¯ä»¶å€ŸåŠ©è¿™ç§è½¯ä»¶åœ¨ä¸åŒçš„æŠ€æœ¯ä¹‹é—´å…±äº«èµ„æºã€‚ä¸­é—´ä»¶ä½äºå®¢æˆ·æœº/ æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œç®¡ç†è®¡ç®—æœºèµ„æºå’Œç½‘ç»œé€šè®¯<br>æ˜¯è¿æ¥ä¸¤ä¸ªç‹¬ç«‹åº”ç”¨ç¨‹åºæˆ–ç‹¬ç«‹ç³»ç»Ÿçš„è½¯ä»¶ã€‚ç›¸è¿æ¥çš„ç³»ç»Ÿï¼Œå³ä½¿å®ƒä»¬å…·æœ‰ä¸åŒçš„æ¥å£<br>ä½†é€šè¿‡ä¸­é—´ä»¶ç›¸äº’ä¹‹é—´ä»èƒ½äº¤æ¢ä¿¡æ¯ã€‚æ‰§è¡Œä¸­é—´ä»¶çš„ä¸€ä¸ªå…³é”®é€”å¾„æ˜¯ä¿¡æ¯ä¼ é€’<br>é€šè¿‡ä¸­é—´ä»¶ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥å·¥ä½œäºå¤šå¹³å°æˆ–OSç¯å¢ƒã€‚<br>jdkï¼š<br>jdkæ˜¯Javaçš„å¼€å‘å·¥å…·åŒ…ã€‚å®ƒæ˜¯ä¸€ç§ç”¨äºæ„å»ºåœ¨Javaå¹³å°ä¸Šå‘å¸ƒçš„åº”ç”¨ç¨‹åºã€appletå’Œç»„ä»¶çš„å¼€å‘ç¯å¢ƒ</p><p>122ã€è®²è¿°ä¸€ä¸‹Tomcat8005ã€8009ã€8080ä¸‰ä¸ªç«¯å£çš„å«ä¹‰ï¼Ÿ</p><p>8005ï¼šå…³é—­æ—¶ä½¿ç”¨<br>8009ï¼šä¸ºAJPç«¯å£ï¼Œå³å®¹å™¨ä½¿ç”¨ï¼Œå¦‚Apacheèƒ½é€šè¿‡AJPåè®®è®¿é—®Tomcatçš„8009ç«¯å£<br>8080ï¼šä¸€èˆ¬åº”ç”¨ä½¿ç”¨</p><p>123ã€ä»€ä¹ˆå«CDNï¼Ÿ</p><p>CDNæ˜¯å†…å®¹åˆ†å‘ç½‘ç»œã€‚å…¶ç›®çš„æ˜¯é€šè¿‡åœ¨ç°æœ‰çš„Internetä¸­å¢åŠ ä¸€å±‚æ–°çš„ç½‘ç»œæ¶æ„ï¼Œå°†ç½‘ç«™çš„å†…å®¹å‘å¸ƒåˆ°æœ€æ¥è¿‘ç”¨æˆ·çš„ç½‘ç»œè¾¹ç¼˜ï¼Œä½¿ç”¨æˆ·å¯å°±è¿‘å–å¾—æ‰€éœ€çš„å†…å®¹ï¼Œæé«˜ç”¨æˆ·è®¿é—®ç½‘ç«™çš„é€Ÿåº¦ã€‚</p><p>124ã€ä»€ä¹ˆå«ç½‘ç«™ç°åº¦å‘å¸ƒï¼Ÿ</p><p>ç°åº¦å‘å¸ƒæ˜¯æŒ‡åœ¨é»‘ä¸ç™½ä¹‹é—´ï¼Œèƒ½å¤Ÿå¹³æ»‘è¿‡æ¸¡çš„ä¸€ç§å‘å¸ƒæ–¹å¼ã€‚<br>AB testå°±æ˜¯ä¸€ç§ç°åº¦å‘å¸ƒæ–¹å¼ï¼Œè®©ä¸€éƒ¨ç”¨æˆ·ç»§ç»­ç”¨Aï¼Œä¸€éƒ¨åˆ†ç”¨æˆ·å¼€å§‹ç”¨Bï¼Œå¦‚æœç”¨æˆ·å¯¹Bæ²¡æœ‰ä»€ä¹ˆåå¯¹æ„è§ï¼Œé‚£ä¹ˆé€æ­¥æ‰©å¤§èŒƒå›´ï¼ŒæŠŠæ‰€æœ‰ç”¨æˆ·éƒ½è¿ç§»åˆ°Bä¸Šé¢æ¥ã€‚ç°åº¦å‘å¸ƒå¯ä»¥ä¿è¯æ•´ä½“ç³»ç»Ÿçš„ç¨³å®šï¼Œåœ¨åˆå§‹ç°åº¦çš„æ—¶å€™å°±å¯ä»¥å‘ç°ã€è°ƒæ•´é—®é¢˜ï¼Œä»¥ä¿è¯å…¶å½±å“åº¦ã€‚</p><p>125ã€ç®€è¿°DNSè¿›è¡ŒåŸŸåè§£æçš„è¿‡ç¨‹ï¼Ÿ</p><p>ä¾‹å¦‚ç”¨æˆ·è¦è®¿é—®http://www.baidu.comï¼Œä¼šå…ˆæ‰¾æœ¬æœºçš„hostæ–‡ä»¶ï¼Œå†æ‰¾æœ¬åœ°è®¾ç½®çš„DNSæœåŠ¡å™¨ï¼Œå¦‚æœä¹Ÿæ²¡æœ‰çš„è¯ï¼Œå°±å»ç½‘ç»œä¸­æ‰¾æ ¹æœåŠ¡å™¨ï¼Œæ ¹æœåŠ¡å™¨åé¦ˆç»“æœï¼Œè¯´åªèƒ½æä¾›ä¸€çº§åŸŸåæœåŠ¡å™¨.cnï¼Œå°±å»æ‰¾ä¸€çº§åŸŸåæœåŠ¡å™¨ï¼Œä¸€çº§åŸŸåæœåŠ¡å™¨è¯´åªèƒ½æä¾›äºŒçº§åŸŸåæœåŠ¡å™¨.com.cn,å°±å»æ‰¾äºŒçº§åŸŸåæœåŠ¡å™¨ï¼ŒäºŒçº§åŸŸæœåŠ¡å™¨åªèƒ½æä¾›ä¸‰çº§åŸŸåæœåŠ¡å™¨.http://baidu.com.cnï¼Œå°±å»æ‰¾ä¸‰çº§åŸŸåæœåŠ¡å™¨ï¼Œä¸‰çº§åŸŸåæœåŠ¡å™¨æ­£å¥½æœ‰è¿™ä¸ªç½‘ç«™http://www.baidu.comï¼Œç„¶åå‘ç»™è¯·æ±‚çš„æœåŠ¡å™¨ï¼Œä¿å­˜ä¸€ä»½ä¹‹åï¼Œå†å‘ç»™å®¢æˆ·ç«¯ã€‚</p><p>126ã€RabbitMQæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿ</p><p>RabbitMQä¹Ÿå°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ï¼Œæ¶ˆæ¯ä¸­é—´ä»¶æ˜¯åœ¨æ¶ˆæ¯çš„ä¼ æ¯è¿‡ç¨‹ä¸­ä¿å­˜æ¶ˆæ¯çš„å®¹å™¨<br>æ¶ˆæ¯ä¸­é—´ä»¶å†å°†æ¶ˆæ¯ä»å®ƒçš„æºä¸­åˆ°å®ƒçš„ç›®æ ‡ä¸­æ ‡æ—¶å……å½“ä¸­é—´äººçš„ä½œç”¨ã€‚<br>é˜Ÿåˆ—çš„ä¸»è¦ç›®çš„æ˜¯æä¾›è·¯ç”±å¹¶ä¿è¯æ¶ˆæ¯çš„ä¼ é€’ï¼›å¦‚æœå‘é€æ¶ˆæ¯æ—¶æ¥æ”¶è€…ä¸å¯ç”¨æ¶ˆæ¯é˜Ÿåˆ—ä¸ä¼šä¿ç•™æ¶ˆæ¯ï¼Œç›´åˆ°å¯ä»¥æˆåŠŸåœ°ä¼ é€’ä¸ºæ­¢ï¼Œå½“ç„¶ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¿å­˜æ¶ˆæ¯ä¹Ÿæ˜¯æœ‰æœŸé™åœ°ã€‚</p><p>127ã€è®²ä¸€ä¸‹Keepalivedçš„å·¥ä½œåŸç†ï¼Ÿ</p><p>åœ¨ä¸€ä¸ªè™šæ‹Ÿè·¯ç”±å™¨ä¸­ï¼Œåªæœ‰ä½œä¸ºMASTERçš„VRRPè·¯ç”±å™¨ä¼šä¸€ç›´å‘é€VRRPé€šå‘Šä¿¡æ¯,<br>BACKUPä¸ä¼šæŠ¢å MASTERï¼Œé™¤éå®ƒçš„ä¼˜å…ˆçº§æ›´é«˜ã€‚å¤šå°BACKUPä¸­ä¼˜å…ˆçº§æœ€é«˜çš„è¿™å°ä¼šè¢«æŠ¢å ä¸ºMASTERã€‚è¿™ç§æŠ¢å æ˜¯éå¸¸å¿«é€Ÿçš„(&lt;1s)ï¼Œä»¥ä¿è¯æœåŠ¡çš„è¿ç»­æ€§ã€‚äºå®‰å…¨æ€§è€ƒè™‘ï¼ŒVRRPåŒ…ä½¿ç”¨äº†åŠ å¯†åè®®è¿›è¡ŒåŠ å¯†ã€‚BACKUPä¸ä¼šå‘é€é€šå‘Šä¿¡æ¯ï¼Œåªä¼šæ¥æ”¶é€šå‘Šä¿¡æ¯ã€‚</p><p>128ã€è®²è¿°ä¸€ä¸‹LVSä¸‰ç§æ¨¡å¼çš„å·¥ä½œè¿‡ç¨‹ï¼Ÿ</p><p>LVS æœ‰ä¸‰ç§è´Ÿè½½å‡è¡¡çš„æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯VS/NATï¼ˆnat æ¨¡å¼ï¼‰ VS/DR(è·¯ç”±æ¨¡å¼) VS/TUNï¼ˆéš§é“æ¨¡å¼ï¼‰<br>ï¼ˆ1ï¼‰NATæ¨¡å¼ï¼ˆVS-NATï¼‰<br>åŸç†ï¼šå°±æ˜¯æŠŠå®¢æˆ·ç«¯å‘æ¥çš„æ•°æ®åŒ…çš„IPå¤´çš„ç›®çš„åœ°å€ï¼Œåœ¨è´Ÿè½½å‡è¡¡å™¨ä¸Šæ¢æˆå…¶ä¸­ä¸€å°RSçš„IPåœ°å€ï¼Œå¹¶å‘è‡³æ­¤RSæ¥å¤„ç†,RSå¤„ç†å®ŒåæŠŠæ•°æ®äº¤ç»™è´Ÿè½½å‡è¡¡å™¨,è´Ÿè½½å‡è¡¡å™¨å†æŠŠæ•°æ®åŒ…åŸIPåœ°å€æ”¹ä¸ºè‡ªå·±çš„IPï¼Œå°†ç›®çš„åœ°å€æ”¹ä¸ºå®¢æˆ·ç«¯IPåœ°å€å³å¯æœŸé—´,æ— è®ºæ˜¯è¿›æ¥çš„æµé‡,è¿˜æ˜¯å‡ºå»çš„æµé‡,éƒ½å¿…é¡»ç»è¿‡è´Ÿè½½å‡è¡¡å™¨ã€‚<br>ä¼˜ç‚¹ï¼šé›†ç¾¤ä¸­çš„ç‰©ç†æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨ä»»ä½•æ”¯æŒTCP/IPæ“ä½œç³»ç»Ÿï¼Œåªæœ‰è´Ÿè½½å‡è¡¡å™¨éœ€è¦ä¸€ä¸ªåˆæ³•çš„IPåœ°å€<br>ç¼ºç‚¹ï¼šæ‰©å±•æ€§æœ‰é™ã€‚å½“æœåŠ¡å™¨èŠ‚ç‚¹ï¼ˆæ™®é€šPCæœåŠ¡å™¨ï¼‰å¢é•¿è¿‡å¤šæ—¶,è´Ÿè½½å‡è¡¡å™¨å°†æˆä¸ºæ•´ä¸ªç³»ç»Ÿçš„ç“¶é¢ˆ<br>å› ä¸ºæ‰€æœ‰çš„è¯·æ±‚åŒ…å’Œåº”ç­”åŒ…çš„æµå‘éƒ½ç»è¿‡è´Ÿè½½å‡è¡¡å™¨ã€‚å½“æœåŠ¡å™¨èŠ‚ç‚¹è¿‡å¤šæ—¶<br>å¤§é‡çš„æ•°æ®åŒ…éƒ½äº¤æ±‡åœ¨è´Ÿè½½å‡è¡¡å™¨é‚£ï¼Œé€Ÿåº¦å°±ä¼šå˜æ…¢ï¼<br>ï¼ˆ2ï¼‰ã€IPéš§é“æ¨¡å¼ï¼ˆVS-TUNï¼‰<br>åŸç†ï¼šé¦–å…ˆè¦çŸ¥é“ï¼Œäº’è”ç½‘ä¸Šçš„å¤§å¤šInternetæœåŠ¡çš„è¯·æ±‚åŒ…å¾ˆçŸ­å°ï¼Œè€Œåº”ç­”åŒ…é€šå¸¸å¾ˆå¤§<br>é‚£ä¹ˆéš§é“æ¨¡å¼å°±æ˜¯ï¼ŒæŠŠå®¢æˆ·ç«¯å‘æ¥çš„æ•°æ®åŒ…ï¼Œå°è£…ä¸€ä¸ªæ–°çš„IPå¤´æ ‡è®°(ä»…ç›®çš„IP)å‘ç»™RS<br>RSæ”¶åˆ°å,å…ˆæŠŠæ•°æ®åŒ…çš„å¤´è§£å¼€,è¿˜åŸæ•°æ®åŒ…,å¤„ç†å,ç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯,ä¸éœ€è¦å†ç»è¿‡<br>è´Ÿè½½å‡è¡¡å™¨ã€‚æ³¨æ„,ç”±äºRSéœ€è¦å¯¹è´Ÿè½½å‡è¡¡å™¨å‘è¿‡æ¥çš„æ•°æ®åŒ…è¿›è¡Œè¿˜åŸ,æ‰€ä»¥è¯´å¿…é¡»æ”¯æŒ<br>IPTUNNELåè®®ï¼Œæ‰€ä»¥,åœ¨RSçš„å†…æ ¸ä¸­,å¿…é¡»ç¼–è¯‘æ”¯æŒIPTUNNELè¿™ä¸ªé€‰é¡¹<br>ä¼˜ç‚¹ï¼šè´Ÿè½½å‡è¡¡å™¨åªè´Ÿè´£å°†è¯·æ±‚åŒ…åˆ†å‘ç»™åç«¯èŠ‚ç‚¹æœåŠ¡å™¨ï¼Œè€ŒRSå°†åº”ç­”åŒ…ç›´æ¥å‘ç»™ç”¨æˆ·<br>æ‰€ä»¥ï¼Œå‡å°‘äº†è´Ÿè½½å‡è¡¡å™¨çš„å¤§é‡æ•°æ®æµåŠ¨ï¼Œè´Ÿè½½å‡è¡¡å™¨ä¸å†æ˜¯ç³»ç»Ÿçš„ç“¶é¢ˆï¼Œå°±èƒ½å¤„ç†å¾ˆå·¨å¤§çš„è¯·æ±‚é‡<br>è¿™ç§æ–¹å¼ï¼Œä¸€å°è´Ÿè½½å‡è¡¡å™¨èƒ½å¤Ÿä¸ºå¾ˆå¤šRSè¿›è¡Œåˆ†å‘ã€‚è€Œä¸”è·‘åœ¨å…¬ç½‘ä¸Šå°±èƒ½è¿›è¡Œä¸åŒåœ°åŸŸçš„åˆ†å‘ã€‚<br>ç¼ºç‚¹ï¼šéš§é“æ¨¡å¼çš„RSèŠ‚ç‚¹éœ€è¦åˆæ³•IPï¼Œè¿™ç§æ–¹å¼éœ€è¦æ‰€æœ‰çš„æœåŠ¡å™¨æ”¯æŒâ€IP Tunnelingâ€<br>(IP Encapsulation)åè®®ï¼ŒæœåŠ¡å™¨å¯èƒ½åªå±€é™åœ¨éƒ¨åˆ†Linuxç³»ç»Ÿä¸Š<br>ï¼ˆ3ï¼‰ã€ç›´æ¥è·¯ç”±æ¨¡å¼ï¼ˆVS-DRï¼‰<br>åŸç†ï¼šè´Ÿè½½å‡è¡¡å™¨å’ŒRSéƒ½ä½¿ç”¨åŒä¸€ä¸ªIPå¯¹å¤–æœåŠ¡ä½†åªæœ‰DRå¯¹ARPè¯·æ±‚è¿›è¡Œå“åº”<br>æ‰€æœ‰RSå¯¹æœ¬èº«è¿™ä¸ªIPçš„ARPè¯·æ±‚ä¿æŒé™é»˜ä¹Ÿå°±æ˜¯è¯´,ç½‘å…³ä¼šæŠŠå¯¹è¿™ä¸ªæœåŠ¡IPçš„è¯·æ±‚å…¨éƒ¨å®šå‘ç»™DR<br>è€ŒDRæ”¶åˆ°æ•°æ®åŒ…åæ ¹æ®è°ƒåº¦ç®—æ³•,æ‰¾å‡ºå¯¹åº”çš„RS,æŠŠç›®çš„MACåœ°å€æ”¹ä¸ºRSçš„MACï¼ˆå› ä¸ºIPä¸€è‡´ï¼‰<br>å¹¶å°†è¯·æ±‚åˆ†å‘ç»™è¿™å°RSè¿™æ—¶RSæ”¶åˆ°è¿™ä¸ªæ•°æ®åŒ…,å¤„ç†å®Œæˆä¹‹åï¼Œç”±äºIPä¸€è‡´ï¼Œå¯ä»¥ç›´æ¥å°†æ•°æ®è¿”ç»™å®¢æˆ·<br>åˆ™ç­‰äºç›´æ¥ä»å®¢æˆ·ç«¯æ”¶åˆ°è¿™ä¸ªæ•°æ®åŒ…æ— å¼‚,å¤„ç†åç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯<br>ç”±äºè´Ÿè½½å‡è¡¡å™¨è¦å¯¹äºŒå±‚åŒ…å¤´è¿›è¡Œæ”¹æ¢,æ‰€ä»¥è´Ÿè½½å‡è¡¡å™¨å’ŒRSä¹‹é—´å¿…é¡»åœ¨ä¸€ä¸ªå¹¿æ’­åŸŸ<br>ä¹Ÿå¯ä»¥ç®€å•çš„ç†è§£ä¸ºåœ¨åŒä¸€å°äº¤æ¢æœºä¸Š<br>ä¼˜ç‚¹ï¼šå’ŒTUNï¼ˆéš§é“æ¨¡å¼ï¼‰ä¸€æ ·ï¼Œè´Ÿè½½å‡è¡¡å™¨ä¹Ÿåªæ˜¯åˆ†å‘è¯·æ±‚ï¼Œåº”ç­”åŒ…é€šè¿‡å•ç‹¬çš„è·¯ç”±æ–¹æ³•è¿”å›ç»™å®¢æˆ·ç«¯<br>ä¸VS-TUNç›¸æ¯”ï¼ŒVS-DRè¿™ç§å®ç°æ–¹å¼ä¸éœ€è¦éš§é“ç»“æ„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å¤§å¤šæ•°æ“ä½œç³»ç»Ÿåšä¸ºç‰©ç†æœåŠ¡å™¨ã€‚<br>ç¼ºç‚¹ï¼šï¼ˆä¸èƒ½è¯´ç¼ºç‚¹ï¼Œåªèƒ½è¯´æ˜¯ä¸è¶³ï¼‰è¦æ±‚è´Ÿè½½å‡è¡¡å™¨çš„ç½‘å¡å¿…é¡»ä¸ç‰©ç†ç½‘å¡åœ¨ä¸€ä¸ªç‰©ç†æ®µä¸Šã€‚</p><p>129ã€ç»Ÿè®¡ipè®¿é—®æƒ…å†µï¼Œè¦æ±‚åˆ†ænginxè®¿é—®æ—¥å¿—ï¼Œæ‰¾å‡ºè®¿é—®é¡µé¢æ•°é‡åœ¨å‰åä½çš„ip</p><p>cat access.log | awk &lsquo;{print $1}&rsquo; | uniq -c | sort -rn | head -10</p><p>130ã€ä½¿ç”¨tcpdumpç›‘å¬ä¸»æœºä¸º192.168.1.1ï¼Œtcpç«¯å£ä¸º80çš„æ•°æ®ï¼ŒåŒæ—¶å°†è¾“å‡ºç»“æœä¿å­˜è¾“å‡ºåˆ°tcpdump.log</p><p>tcpdump &lsquo;host 192.168.1.1 and port 80&rsquo; > tcpdump.log</p><p>131ã€å¦‚ä½•å°†æœ¬åœ°80 ç«¯å£çš„è¯·æ±‚è½¬å‘åˆ°8080 ç«¯å£ï¼Œå½“å‰ä¸»æœºIP ä¸º192.168.2.1</p><p>iptables -A PREROUTING -d 192.168.2.1 -p tcp -m tcp -dport 80 -j DNAT-to-destination 192.168.2.1:8080</p><p>132ã€ç®€è¿°raid0 raid1 raid5 ä¸‰ç§å·¥ä½œæ¨¡å¼çš„å·¥ä½œåŸç†åŠç‰¹ç‚¹</p><p>RAID 0ï¼š<br>å¸¦åŒºå·ï¼Œè¿ç»­ä»¥ä½æˆ–å­—èŠ‚ä¸ºå•ä½åˆ†å‰²æ•°æ®ï¼Œå¹¶è¡Œè¯»/å†™äºå¤šä¸ªç£ç›˜ä¸Šï¼Œå› æ­¤å…·æœ‰å¾ˆé«˜çš„æ•°æ®ä¼ è¾“ç‡ï¼Œä½†å®ƒæ²¡æœ‰æ•°æ®å†—ä½™ï¼ŒRAID 0 åªæ˜¯å•çº¯åœ°æé«˜æ€§èƒ½ï¼Œå¹¶æ²¡æœ‰ä¸ºæ•°æ®çš„å¯é æ€§æä¾›ä¿è¯ï¼Œè€Œä¸”å…¶ä¸­çš„ä¸€ä¸ªç£ç›˜å¤±æ•ˆå°†å½±å“åˆ°æ‰€æœ‰æ•°æ®ã€‚å› æ­¤ï¼ŒRAID 0 ä¸èƒ½åº”ç”¨äºæ•°æ®å®‰å…¨æ€§è¦æ±‚é«˜çš„åœºåˆã€‚<br>RAID 1ï¼š<br>é•œåƒå·ï¼Œå®ƒæ˜¯é€šè¿‡ç£ç›˜æ•°æ®é•œåƒå®ç°æ•°æ®å†—ä½™ï¼Œåœ¨æˆå¯¹çš„ç‹¬ç«‹ç£ç›˜ä¸Šäº§ç”Ÿäº’ä¸ºå¤‡ä»½çš„æ•°æ®ï¼Œä¸èƒ½æå‡å†™æ•°æ®æ•ˆç‡ã€‚å½“åŸå§‹æ•°æ®ç¹å¿™æ—¶ï¼Œå¯ç›´æ¥ä»é•œåƒæ‹·è´ä¸­è¯»å–æ•°æ®ï¼Œå› æ­¤RAID1 å¯ä»¥æé«˜è¯»å–æ€§èƒ½ï¼ŒRAID 1 æ˜¯ç£ç›˜é˜µåˆ—ä¸­å•ä½æˆæœ¬æœ€é«˜çš„ï¼Œé•œåƒå·å¯ç”¨å®¹é‡ä¸ºæ€»å®¹é‡çš„1/2ï¼Œä½†æä¾›äº†å¾ˆé«˜çš„æ•°æ®å®‰å…¨æ€§å’Œå¯ç”¨æ€§ã€‚å½“ä¸€ä¸ªç£ç›˜å¤±æ•ˆæ—¶ï¼Œç³»ç»Ÿå¯ä»¥è‡ªåŠ¨åˆ‡æ¢åˆ°é•œåƒç£ç›˜ä¸Šè¯»å†™ï¼Œè€Œä¸éœ€è¦é‡ç»„å¤±æ•ˆçš„æ•°æ®ã€‚<br>RAID5ï¼š<br>è‡³å°‘ç”±3å—ç¡¬ç›˜ç»„æˆï¼Œåˆ†å¸ƒå¼å¥‡å¶æ ¡éªŒçš„ç‹¬ç«‹ç£ç›˜ç»“æ„ï¼Œå®ƒçš„å¥‡å¶æ ¡éªŒç å­˜åœ¨äºæ‰€æœ‰ç£ç›˜ä¸Šã€‚ä»»ä½•ä¸€ä¸ªç¡¬ç›˜æŸåï¼Œéƒ½å¯ä»¥æ ¹æ®å…¶å®ƒç¡¬ç›˜ä¸Šçš„æ ¡éªŒä½æ¥é‡å»ºæŸåçš„æ•°æ®ï¼ˆæœ€å¤šå…è®¸1å—ç¡¬ç›˜æŸåï¼‰ã€‚æ‰€ä»¥raid5å¯ä»¥å®ç°æ•°æ®å†—ä½™ï¼Œç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§ï¼ŒåŒæ—¶raid5ä¹Ÿå¯ä»¥æå‡æ•°æ®çš„è¯»å†™æ€§èƒ½ã€‚</p><p>133ã€ä½ å¯¹ç°åœ¨è¿ç»´å·¥ç¨‹å¸ˆçš„ç†è§£å’Œä»¥åŠå¯¹å…¶å·¥ä½œçš„è®¤è¯†</p><p>è¿ç»´å·¥ç¨‹å¸ˆåœ¨å…¬å¸å½“ä¸­è´£ä»»é‡å¤§ï¼Œéœ€è¦ä¿è¯æ—¶åˆ»ä¸ºå…¬å¸åŠå®¢æˆ·æä¾›æœ€é«˜ã€æœ€å¿«ã€æœ€ç¨³å®šã€æœ€å®‰å…¨çš„æœåŠ¡ã€‚è¿ç»´å·¥ç¨‹å¸ˆçš„ä¸€ä¸ªå°å°çš„å¤±è¯¯ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šå¯¹å…¬å¸åŠå®¢æˆ·é€ æˆé‡å¤§æŸå¤±<br>ã€‚å› æ­¤ï¼Œè¿ç»´å·¥ç¨‹å¸ˆçš„å·¥ä½œéœ€è¦ä¸¥è°¨åŠå¯Œæœ‰åˆ›æ–°ç²¾ç¥ã€‚</p><p>134ã€å®æ—¶æŠ“å–å¹¶æ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸­tcp 80ç«¯å£çš„ç½‘ç»œæ•°æ®ä¿¡æ¯ï¼Œè¯·å†™å‡ºå®Œæ•´æ“ä½œå‘½ä»¤</p><p>tcpdump -nn tcp port 80</p><p>135ã€Linuxç³»ç»Ÿä¸­ç—…æ¯’æ€ä¹ˆè§£å†³ï¼Ÿ</p><p>ï¼ˆ1ï¼‰æœ€ç®€å•æœ‰æ•ˆçš„æ–¹æ³•å°±æ˜¯é‡è£…ç³»ç»Ÿã€‚<br>ï¼ˆ2ï¼‰è¦æŸ¥çš„è¯å°±æ˜¯æ‰¾åˆ°ç—…æ¯’æ–‡ä»¶ç„¶ååˆ é™¤ã€‚ä¸­æ¯’ä¹‹åä¸€èˆ¬æœºå™¨cpuã€å†…å­˜ä½¿ç”¨ç‡ä¼šæ¯”è¾ƒé«˜ã€‚å¯ä»¥å…ˆç”¨top å‘½ä»¤æ‰¾åˆ°cpuä½¿ç”¨ç‡æœ€é«˜çš„è¿›ç¨‹ï¼Œä¸€èˆ¬ç—…æ¯’æ–‡ä»¶å‘½åéƒ½æ¯”è¾ƒä¹±ï¼Œå¯ä»¥ç”¨ ps auxå‘½ä»¤æ‰¾åˆ°ç—…æ¯’æ–‡ä»¶ä½ç½®ï¼Œç„¶åæ‰§è¡Œrm -få‘½ä»¤åˆ é™¤ç—…æ¯’æ–‡ä»¶ï¼Œæœ€åæ£€æŸ¥è®¡åˆ’ä»»åŠ¡ã€å¼€æœºå¯åŠ¨é¡¹å’Œç—…æ¯’æ–‡ä»¶ç›®å½•æœ‰æ— å…¶ä»–å¯ä»¥æ–‡ä»¶ç­‰ã€‚<br>ï¼ˆ3ï¼‰ç”±äºå³ä½¿åˆ é™¤ç—…æ¯’æ–‡ä»¶ä¸æ’é™¤æœ‰æ½œä¼ç—…æ¯’ï¼Œæ‰€ä»¥æœ€å¥½æ˜¯æŠŠæœºå™¨å¤‡ä»½æ•°æ®ä¹‹åé‡è£…ä¸€ä¸‹ã€‚</p><p>136ã€è¯´è¯´TCP/IPçš„ä¸ƒå±‚æ¨¡å‹ï¼Ÿ</p><p>åº”ç”¨å±‚ (Application)ï¼š<br>ç½‘ç»œæœåŠ¡ä¸æœ€ç»ˆç”¨æˆ·çš„ä¸€ä¸ªæ¥å£ã€‚åè®®æœ‰ï¼šHTTP FTP TFTP SMTP SNMP DNS TELNET HTTPS POP3 DHCPã€‚<br>è¡¨ç¤ºå±‚ï¼ˆPresentation Layerï¼‰ï¼š<br>æ•°æ®çš„è¡¨ç¤ºã€å®‰å…¨ã€å‹ç¼©ã€‚ï¼ˆåœ¨äº”å±‚æ¨¡å‹é‡Œé¢å·²ç»åˆå¹¶åˆ°äº†åº”ç”¨å±‚ï¼‰<br>æ ¼å¼æœ‰ï¼ŒJPEGã€ASCllã€DECOICã€åŠ å¯†æ ¼å¼ç­‰ã€‚<br>ä¼šè¯å±‚ï¼ˆSession Layerï¼‰ï¼š<br>å»ºç«‹ã€ç®¡ç†ã€ç»ˆæ­¢ä¼šè¯ã€‚ï¼ˆåœ¨äº”å±‚æ¨¡å‹é‡Œé¢å·²ç»åˆå¹¶åˆ°äº†åº”ç”¨å±‚ï¼‰<br>å¯¹åº”ä¸»æœºè¿›ç¨‹ï¼ŒæŒ‡æœ¬åœ°ä¸»æœºä¸è¿œç¨‹ä¸»æœºæ­£åœ¨è¿›è¡Œçš„ä¼šè¯ã€‚<br>ä¼ è¾“å±‚ (Transport)ï¼š<br>å®šä¹‰ä¼ è¾“æ•°æ®çš„åè®®ç«¯å£å·ï¼Œä»¥åŠæµæ§å’Œå·®é”™æ ¡éªŒã€‚<br>åè®®æœ‰ï¼šTCP UDPï¼Œæ•°æ®åŒ…ä¸€æ—¦ç¦»å¼€ç½‘å¡å³è¿›å…¥ç½‘ç»œä¼ è¾“å±‚<br>ç½‘ç»œå±‚ (Network)ï¼š<br>è¿›è¡Œé€»è¾‘åœ°å€å¯»å€ï¼Œå®ç°ä¸åŒç½‘ç»œä¹‹é—´çš„è·¯å¾„é€‰æ‹©ã€‚<br>åè®®æœ‰ï¼šICMP IGMP IPï¼ˆIPV4 IPV6ï¼‰ ARP RARP<br>æ•°æ®é“¾è·¯å±‚ (Link)ï¼š<br>å»ºç«‹é€»è¾‘è¿æ¥ã€è¿›è¡Œç¡¬ä»¶åœ°å€å¯»å€ã€å·®é”™æ ¡éªŒç­‰åŠŸèƒ½ã€‚ï¼ˆç”±åº•å±‚ç½‘ç»œå®šä¹‰åè®®ï¼‰<br>å°†æ¯”ç‰¹ç»„åˆæˆå­—èŠ‚è¿›è€Œç»„åˆæˆå¸§ï¼Œç”¨MACåœ°å€è®¿é—®ä»‹è´¨ï¼Œé”™è¯¯å‘ç°ä½†ä¸èƒ½çº æ­£ã€‚<br>ç‰©ç†å±‚ï¼ˆPhysical Layerï¼‰ï¼š<br>æ˜¯è®¡ç®—æœºç½‘ç»œOSIæ¨¡å‹ä¸­æœ€ä½çš„ä¸€å±‚ï¼Œç‰©ç†å±‚è§„å®š:ä¸ºä¼ è¾“æ•°æ®æ‰€éœ€è¦çš„ç‰©ç†é“¾è·¯åˆ›å»ºã€ç»´æŒã€æ‹†é™¤ï¼Œè€Œæä¾›å…·æœ‰æœºæ¢°çš„ï¼Œç”µå­çš„ï¼ŒåŠŸèƒ½çš„å’Œè§„èŒƒçš„ç‰¹æ€§ã€‚ç®€å•çš„è¯´ï¼Œç‰©ç†å±‚ç¡®ä¿åŸå§‹çš„æ•°æ®å¯åœ¨å„ç§ç‰©ç†åª’ä½“ä¸Šä¼ è¾“ã€‚å±€åŸŸç½‘ä¸å¹¿åŸŸç½‘çš†å±ç¬¬1ã€2å±‚ï¼Œç‰©ç†å±‚æ˜¯OSIçš„ç¬¬ä¸€å±‚ï¼Œå®ƒè™½ç„¶å¤„äºæœ€åº•å±‚ï¼Œå´æ˜¯æ•´ä¸ªå¼€æ”¾ç³»ç»Ÿçš„åŸºç¡€ï¼Œç‰©ç†å±‚ä¸ºè®¾å¤‡ä¹‹é—´çš„æ•°æ®é€šä¿¡æä¾›ä¼ è¾“åª’ä½“åŠäº’è¿è®¾å¤‡ï¼Œä¸ºæ•°æ®ä¼ è¾“æä¾›å¯é çš„ç¯å¢ƒï¼Œå¦‚æœæ‚¨æƒ³è¦ç”¨å°½é‡å°‘çš„è¯æ¥è®°ä½è¿™ä¸ªç¬¬ä¸€å±‚ï¼Œé‚£å°±æ˜¯â€œä¿¡å·å’Œä»‹è´¨â€ã€‚</p><p>137ã€è¯·åˆ—å‡ºä½ äº†è§£çš„webæœåŠ¡å™¨è´Ÿè½½æ¶æ„ï¼Ÿ</p><p>Nginx<br>Haproxy<br>Keepalived<br>LVS</p><h2 id=å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</h2><p><a href=https://mp.weixin.qq.com/s/WXlQD2kK1QN0C8S2hJQtGw>https://mp.weixin.qq.com/s/WXlQD2kK1QN0C8S2hJQtGw</a></p></article><script defer src=/js/clipboard.min.1626706afc88d95ebe1173b553ec732c6dc82a576989315fdf5e7779af738a44.js></script>
<script defer src=/js/helper/prev.min.js></script>
<script defer src=/js/helper/prop.min.js></script>
<script>"use strict";document.addEventListener("DOMContentLoaded",function(){var e=!1,t=document.querySelectorAll("pre.chroma"),n=document.querySelectorAll(".language-code"),s=document.querySelectorAll("div.language-\\$"),o=document.querySelectorAll("div.language-\\>"),i=function(t){var s,o,i,a,r,c,l,d=t,n=t.textContent;if(n.length>15){e||(a=new ClipboardJS(".copy-to-clipboard",{text:function(e){var t=prev(e).querySelectorAll("code");return t.length>1?n=prev(e).querySelector('code[class^="language-"]').textContent:n=prev(e).querySelector("code").textContent,n.replace(/^\$\s/gm,"")}}),a.on("success",function(e){e.clearSelection(),l=prop(e.trigger.parentNode,"tagName")=="PRE",e.trigger.setAttribute("aria-label","Copied to clipboard!"),e.trigger.classList.add("tooltipped"),e.trigger.classList.add("tooltipped-w")}),a.on("error",function(e){l=prop(e.trigger.parentNode,"tagName")=="PRE",e.trigger.setAttribute("aria-label",e.action.toString()),e.trigger.classList.add("tooltipped"),e.trigger.classList.add("tooltipped-w")}),e=!0),r=["language-mermaid","language-viz","language-wave","language-chart","language-msc","language-flowchart"],c=!1,s=d.getAttribute("class");for(o=0;o<r.length;o++)if(s&&s.startsWith(r[o])){c=!0;break}c||s&&(i=document.createElement("span"),i.setAttribute("class","copy-to-clipboard"),i.setAttribute("title","Copy to clipboard"),t.parentNode.parentNode.insertBefore(i,t.parentNode.nextElementSibling))}},a=function(e){var t=document.createElement("span");t.setAttribute("class","copy-to-clipboard"),t.setAttribute("title","Copy to clipboard"),e.parentNode.parentNode.insertBefore(t,e.parentNode.nextElementSibling)};t?t.forEach(function(e){e.querySelectorAll("code").forEach(function(e){i(e)})}):null,n?n.forEach(function(e){e.querySelectorAll("code").forEach(function(e){i(e)})}):null,s?s.forEach(function(e){e.querySelectorAll("code").forEach(function(e){a(e)})}):null,o?o.forEach(function(e){e.querySelectorAll("code").forEach(function(e){a(e)})}):null})</script><script>"use strict";function wrap(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}(function(){var e=document.querySelector(".single__contents");e?e.querySelectorAll("pre > code").forEach(function(e){var t=e.getAttribute("data-lang"),n=document.createElement("div"),o=null,s=null;t&&t.includes(":")?(o=t.split(":")[0],s=t.split(":")[1],n.className="language-"+o,n.setAttribute("data-lang",s),e.className="language-"+o,e.setAttribute("data-lang",s),e.setAttribute("id",s)):t||(n.setAttribute("data-lang","Code"),n.className="language-code"),(!t||s)&&wrap(e.parentNode,n)}):null})();var langCodeElem=document.querySelectorAll(".language-code"),dollarCodeElem,gtCodeElem;langCodeElem?langCodeElem.forEach(function(e){var t=document.createElement("span");t.className="copy-to-clipboard",t.setAttribute("title","Copy to clipboard"),e.append(t)}):null,dollarCodeElem=document.querySelectorAll("div.language-\\$"),gtCodeElem=document.querySelectorAll("div.language-\\>"),dollarCodeElem?dollarCodeElem.forEach(function(e){var t=e.parentNode.parentNode?e.parentNode.parentNode.querySelectorAll(".lnt"):null;t?t.forEach(function(e){e.innerHTML="$<br/>"}):null}):null,gtCodeElem?gtCodeElem.forEach(function(e){var t=e.parentNode.parentNode?e.parentNode.parentNode.querySelectorAll(".lnt"):null;t?t.forEach(function(e){e.innerHTML="><br/>"}):null}):null</script><div class=donation><div class=donation__message>åˆ†äº«</div><div class=donation__icons><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fhex-go.github.io%2fposts%2finterview%2f2024-04-09-linux%25E9%259D%25A2%25E8%25AF%2595-137%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598%2f" title=Facebook aria-label="Facebook Share Button" class=donation__item target=_blank rel=noreferrer data-type=share><svg data-name="facebook" enable-background="new 0 0 24 24" viewBox="0 0 24 24" width="35" height="35" fill="currentcolor" xmlns="http://www.w3.org/2000/svg"><path d="m15.997 3.985h2.191V.169c-.378-.052-1.678-.169-3.192-.169-3.159.0-5.323 1.987-5.323 5.639V9H6.187v4.266h3.486V24h4.274V13.267h3.345l.531-4.266h-3.877V6.062c.001-1.233.333-2.077 2.051-2.077z"/></svg></a><a href="https://twitter.com/intent/tweet?text=Linux%e9%9d%a2%e8%af%95-137%e9%9d%a2%e8%af%95%e9%a2%98&url=https%3a%2f%2fhex-go.github.io%2fposts%2finterview%2f2024-04-09-linux%25E9%259D%25A2%25E8%25AF%2595-137%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598%2f&hashtags=Bash%2cLinux%2c%e9%9d%a2%e8%af%95&via=" title=Twitter aria-label="Twitter Share Button" class=donation__item target=_blank rel=noreferrer data-type=share><svg data-name="twitter" enable-background="new 0 0 24 24" viewBox="0 0 24 24" width="35" height="35" fill="currentcolor" xmlns="http://www.w3.org/2000/svg"><path d="m21.534 7.113C22.51 6.42 23.331 5.555 24 4.559v-.001c-.893.391-1.843.651-2.835.777 1.02-.609 1.799-1.566 2.165-2.719-.951.567-2.001.967-3.12 1.191-.903-.962-2.19-1.557-3.594-1.557-2.724.0-4.917 2.211-4.917 4.921.0.39.033.765.114 1.122-4.09-.2-7.71-2.16-10.142-5.147-.424.737-.674 1.58-.674 2.487.0 1.704.877 3.214 2.186 4.089-.791-.015-1.566-.245-2.223-.606v.054c0 2.391 1.705 4.377 3.942 4.835-.401.11-.837.162-1.29.162-.315.0-.633-.018-.931-.084.637 1.948 2.447 3.381 4.597 3.428-1.674 1.309-3.8 2.098-6.101 2.098-.403.0-.79-.018-1.177-.067 2.18 1.405 4.762 2.208 7.548 2.208 8.683.0 14.342-7.244 13.986-14.637z"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fhex-go.github.io%2fposts%2finterview%2f2024-04-09-linux%25E9%259D%25A2%25E8%25AF%2595-137%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598%2f&title=Linux%e9%9d%a2%e8%af%95-137%e9%9d%a2%e8%af%95%e9%a2%98 &summary=&source=%e5%85%b3%e6%b3%a8%e4%ba%91%e5%8e%9f%e7%94%9f%e9%a2%86%e5%9f%9f%e6%8a%80%e6%9c%af%e6%a0%88%e7%9a%84%e4%b8%aa%e4%ba%ba%e5%8d%9a%e5%ae%a2%e3%80%82" target=_blank rel=noreferrer title=LinkedIn aria-label="LinkedIn Share Button" class=donation__item data-type=share><svg data-name="linkedin" enable-background="new 0 0 24 24" viewBox="0 0 24 24" width="35" height="35" fill="currentcolor" xmlns="http://www.w3.org/2000/svg"><path d="m23.994 24v-.001H24v-8.802c0-4.306-.927-7.623-5.961-7.623-2.42.0-4.044 1.328-4.707 2.587h-.07V7.976H8.489v16.023h4.97v-7.934c0-2.089.396-4.109 2.983-4.109 2.549.0 2.587 2.384 2.587 4.243V24z"/><path d="m.396 7.977h4.976V24H.396z"/><path d="m2.882.0C1.291.0.0 1.291.0 2.882s1.291 2.909 2.882 2.909 2.882-1.318 2.882-2.909c-.001-1.591-1.292-2.882-2.882-2.882z"/></svg></a></div></div><div class=whoami__gutter></div><hr class="hr-slash whoami-hr"><section class=whoami><div class=whoami__image-wrapper><img data-src=/images/whoami/avatar.jpg src="data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath fill='%23aaa' d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm-4.44-6.19l-2.35 3.02-1.56-1.88c-.2-.25-.58-.24-.78.01l-1.74 2.23c-.26.33-.02.81.39.81h8.98c.41 0 .65-.47.4-.8l-2.55-3.39c-.19-.26-.59-.26-.79 0z'/%3E%3C/svg%3E" alt=Hex class="lazyload whoami__image"></div><div class=whoami__contents><div class=whoami__written-by>ä½œè€…</div><div class=whoami__title>Hex</div><div class=whoami__desc>CloudNative Developer</div><div class=whoami__social><a href=hex-go@qq.com title=email aria-label=email><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25-7.07 4.42c-.32.2-.74.2-1.06.0L4.4 8.25c-.25-.16-.4-.43-.4-.72.0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72.0.29-.15.56-.4.72z"/></svg></a><a href=https://github.com/hex-go title=github aria-label=github><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewBox="0 0 24 24"><g id="surface3680"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></g></svg></a><a href=155****8922 title=phone aria-label=phone><svg fill="#000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="25" height="25"><path fill="currentcolor" d="M8.65625 3c-.523437.0-1.039062.1875-1.46875.53125L7.125 3.5625l-.03125.03125-3.125 3.21875L4 6.84375c-.964844.890625-1.261719 2.222656-.84375 3.375C3.160156 10.226563 3.152344 10.242188 3.15625 10.25c.847656 2.425781 3.015625 7.109375 7.25 11.34375 4.25 4.25 8.996094 6.332031 11.34375 7.25h.03125C22.996094 29.25 24.3125 28.960938 25.25 28.15625L28.40625 25c.828125-.828125.828125-2.265625.0-3.09375l-4.0625-4.0625-.03125-.0625c-.828125-.828125-2.296875-.828125-3.125.0l-2 2C18.464844 19.433594 16.742188 18.542969 15.09375 16.96875c-1.636719-1.5625-2.472656-3.359375-2.78125-4.0625l2-2C15.152344 10.066406 15.167969 8.667969 14.28125 7.84375l.03125-.03125-.09375-.09375-4-4.125-.03125-.03125-.0625-.03125C9.695313 3.1875 9.179688 3 8.65625 3zm0 2C8.730469 5 8.804688 5.035156 8.875 5.09375l4 4.09375.09375.09375C12.960938 9.273438 13.027344 9.378906 12.90625 9.5l-2.5 2.5-.46875.4375.21875.625s1.148438 3.074219 3.5625 5.375l.21875.1875C16.261719 20.746094 19 21.90625 19 21.90625l.625.28125 2.96875-2.96875c.171875-.171875.140625-.171875.3125.0L27 23.3125c.171875.171875.171875.109375.0.28125l-3.0625 3.0625C23.476563 27.050781 22.988281 27.132813 22.40625 26.9375c-2.265625-.890625-6.667969-2.824219-10.59375-6.75-3.957031-3.957031-6.023437-8.445312-6.78125-10.625C4.878906 9.15625 4.988281 8.554688 5.34375 8.25l.0625-.0625L8.4375 5.09375C8.507813 5.035156 8.582031 5 8.65625 5z"/></svg></a></div></div></section><hr class="hr-slash whoami-hr"><section class=related></section><div class=grow></div><nav class=pagination-single><a href=https://hex-go.github.io/posts/interview/2024-04-09-linux%E9%9D%A2%E8%AF%95-awk%E9%9D%A2%E8%AF%95%E9%A2%98/ class=pagination-single__left><div class=pagination-single__icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03.0-1.42s-1.02-.39-1.41.0l-6.59 6.59c-.39.39-.39 1.02.0 1.41l6.59 6.59c.39.39 1.02.39 1.41.0s.39-1.02.0-1.41L7.83 13H19c.55.0 1-.45 1-1s-.45-1-1-1z"/></svg></div><div class=pagination-single__left-title>Linuxé¢è¯•-awké¢è¯•é¢˜(åŸç†ç¯‡)</div></a><div class=grow></div><a href=https://hex-go.github.io/posts/%E4%B8%AA%E4%BA%BA%E5%B7%A5%E5%85%B7/2019-06-22-hexo_%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%A4%87%E5%BF%98%E5%BD%95/ class=pagination-single__right><div class=pagination-single__right-title>hexoå¸¸ç”¨å‘½ä»¤å¤‡å¿˜å½•</div><div class=pagination-single__icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03.0 1.42.39.39 1.02.39 1.41.0l6.59-6.59c.39-.39.39-1.02.0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41.0s-.39 1.02.0 1.41L16.17 11H5c-.55.0-1 .45-1 1s.45 1 1 1z"/></svg></div></a></nav><div class="modal micromodal-slide" id=modal aria-hidden=true><div class=modal__overlay tabindex=-1 data-micromodal-close><div class=modal__container role=dialog aria-modal=true aria-labelledby=modal-title><div class=modal__content id=modal-content><div id=mySwipe class=swipe><div class=swipe-wrap></div></div></div><span class=modal__items><span class=modal__header><div class=modal__paging title="Page Info" aria-label="Current Page"></div><div class="modal__icon modal__toolbar modal__toolbar--close" title=Close aria-label="Close Button" data-micromodal-close><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="25" height="25"><path fill="currentcolor" d="M21.734375 19.640625l-2.097656 2.09375C19.253906 22.121094 18.628906 22.121094 18.242188 21.734375L13 16.496094 7.761719 21.734375C7.375 22.121094 6.746094 22.121094 6.363281 21.734375l-2.097656-2.09375c-.386719-.386718999999999-.386719-1.011719.0-1.398437L9.503906 13 4.265625 7.761719c-.382812-.390625-.382812-1.019531.0-1.398438L6.363281 4.265625C6.746094 3.878906 7.375 3.878906 7.761719 4.265625L13 9.507813l5.242188-5.242188c.386718000000002-.386719 1.015625-.386719 1.394531.0l2.097656 2.09375C22.121094 6.746094 22.121094 7.375 21.738281 7.761719L16.496094 13l5.238281 5.242188C22.121094 18.628906 22.121094 19.253906 21.734375 19.640625z"/></svg></div><div class="modal__icon modal__toolbar modal__toolbar--full" title="Full Screen" aria-label="Full Screen Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="25" height="25"><path fill="currentcolor" d="M5 3C3.9069372 3 3 3.9069372 3 5V8A1.0001 1.0001.0 105 8V5H8A1.0001 1.0001.0 108 3H5zM16 3a1.0001 1.0001.0 100 2h3V8a1.0001 1.0001.0 102 0V5C21 3.9069372 20.093063 3 19 3H16zM3.984375 14.986328A1.0001 1.0001.0 003 16v3c0 1.093063.9069372 2 2 2H8a1.0001 1.0001.0 100-2H5V16A1.0001 1.0001.0 003.984375 14.986328zm16 0A1.0001 1.0001.0 0019 16v3H16a1.0001 1.0001.0 100 2h3C20.093063 21 21 20.093063 21 19V16a1.0001 1.0001.0 00-1.015625-1.013672z"/></svg></div><div class="modal__icon modal__toolbar modal__toolbar--normal" title="Normal Screen" aria-label="Normal Screen Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="25" height="25"><path fill="currentcolor" d="M16.96875 4.972656C15.867188 4.988281 14.984375 5.894531 15 7v8H7C6.277344 14.988281 5.609375 15.367188 5.246094 15.992188 4.878906 16.613281 4.878906 17.386719 5.246094 18.007813 5.609375 18.632813 6.277344 19.011719 7 19H19V7C19.007813 6.460938 18.796875 5.941406 18.414063 5.558594 18.03125 5.175781 17.511719 4.964844 16.96875 4.972656zm16 0c-1.046875.015625-1.90625.839844-1.964844 1.886719C31 6.90625 31 6.953125 31 7V19H43C43.066406 19 43.132813 19 43.199219 18.992188 44.269531 18.894531 45.070313 17.972656 45.015625 16.902344 44.964844 15.828125 44.074219 14.988281 43 15H35V7C35.007813 6.460938 34.796875 5.941406 34.414063 5.558594 34.03125 5.175781 33.511719 4.964844 32.96875 4.972656zM7 31C6.277344 30.988281 5.609375 31.367188 5.246094 31.992188 4.878906 32.613281 4.878906 33.386719 5.246094 34.007813 5.609375 34.632813 6.277344 35.011719 7 35h8v8C14.988281 43.722656 15.367188 44.390625 15.992188 44.753906 16.613281 45.121094 17.386719 45.121094 18.007813 44.753906 18.632813 44.390625 19.011719 43.722656 19 43V31zm24 0V43C30.988281 43.722656 31.367188 44.390625 31.992188 44.753906 32.613281 45.121094 33.386719 45.121094 34.007813 44.753906 34.632813 44.390625 35.011719 43.722656 35 43V35h8C43.722656 35.011719 44.390625 34.632813 44.753906 34.007813 45.121094 33.386719 45.121094 32.613281 44.753906 31.992188 44.390625 31.367188 43.722656 30.988281 43 31z"/></svg></div></span><div class="modal__icon modal__arrow modal__arrow--left" title="Arrow Left" aria-label="Arrow Left Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="28" height="28"><path fill="currentcolor" d="M23.28125 11 10 10V6.851563C10 6.523438 9.839844 6.277344 9.519531 6.03125 9.199219 5.949219 8.878906 5.949219 8.640625 6.113281c-3.28125 2.296875-6.402344 6.144532-6.480469 6.308594-.078125.15625-.152343.390625-.15625.554688000000001C2.003906 12.980469 2 12.988281 2 12.992188 2 13.15625 2.078125 13.402344 2.160156 13.484375 2.238281 13.648438 5.28125 17.507813 8.640625 19.804688 8.960938 19.96875 9.28125 20.050781 9.519531 19.886719 9.839844 19.722656 10 19.476563 10 19.148438V16l13.28125-1C23.679688 14.679688 24 13.875 24 12.992188 24 12.195313 23.761719 11.320313 23.28125 11z"/></svg></div><div class="modal__icon modal__arrow modal__arrow--right" title="Arrow Right" aria-label="Arrow Right Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="28" height="28"><path fill="currentcolor" d="M2.71875 11.023438l13.28125-1V6.875C16 6.546875 16.160156 6.300781 16.480469 6.054688 16.800781 5.972656 17.121094 5.972656 17.359375 6.136719c3.28125 2.296875 6.402344 6.144531 6.480469 6.308594.078125.15625.152343999999999.390625.15625.554687C23.996094 13.003906 24 13.011719 24 13.015625 24 13.179688 23.921875 13.425781 23.839844 13.507813 23.761719 13.671875 20.71875 17.53125 17.359375 19.828125 17.039063 19.992188 16.71875 20.074219 16.480469 19.910156 16.160156 19.746094 16 19.5 16 19.171875V16.023438L2.71875 15.023438C2.320313 14.703125 2 13.898438 2 13.015625c0-.796875.238281-1.671875.71875-1.992187z"/></svg></div><div class=modal__caption><div class=modal__caption--text></div></div></span></div></div></div><script defer src=/js/swipe.min.feb438efb7ca009ecd7fc2ac3ad2fced4840990b2798d81f87137f2dc6281f05.js></script>
<script defer src=/js/micromodal.min.de01b44b2f383056bbcaf6ee921fd385d79108ec1129afd0eb2f3f5a07e11f45.js></script>
<script defer src=/js/helper/fadeinout.min.js></script>
<script>document.addEventListener("DOMContentLoaded",function(){var e,t,n,o,i,a,r,c,l,d,u,h,f,p,g,v,b,s=document.documentElement;function j(){s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()}function m(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}c=document.getElementById("modal"),i=document.querySelector(".gallery__container"),v=document.querySelector(".swipe-wrap"),b=document.getElementById("mySwipe"),u=document.querySelector(".modal__arrow--left"),f=document.querySelector(".modal__arrow--right"),h=document.querySelector(".modal__toolbar--close"),t=document.querySelector(".modal__toolbar--full"),n=document.querySelector(".modal__toolbar--normal"),r=document.querySelector(".modal__caption"),d=document.querySelector(".modal__paging"),o=document.querySelector(".modal__items"),a=null,l=null,e=null,p=function(t){t.key==="ArrowRight"?c&&c.classList.contains("is-open")&&e.next():t.key==="ArrowLeft"&&c&&c.classList.contains("is-open")&&e.prev()},i?a=i.querySelectorAll("img").length:(i=document.querySelector(".single__contents"),a=i.querySelectorAll("img").length),MicroModal.init({onClose:function(){e&&(e.kill(),e=null,m()),window.removeEventListener("keydown",p)},disableScroll:!0,disableFocus:!0,awaitOpenAnimation:!1,awaitCloseAnimation:!1,debugMode:!1}),g=function(e){return new Promise(function(t,n){var s=new Image;s.onload=function(){t(s)},s.onerror=n,s.src=e})},i.querySelectorAll("img").forEach(function(s,i){s.style.cursor="pointer";var c,u=s.cloneNode(!0);u.style.maxHeight="100%",u.style.maxWidth="100%",u.onclick=function(e){e.stopPropagation()},c=document.createElement("div"),c.style.width="100%",c.style.height="100vh",c.setAttribute("data-micromodal-close",""),c.onclick=function(){e&&(e.kill(),e=null)},c.onmouseenter=function(){clearTimeout(l),fadeIn(o,200)},c.onmouseleave=function(){l=setTimeout(function(){fadeOut(o,200)},2500)},c.ontouchstart=function(){fadeIn(o,200)},c.append(u),v.append(c),s.addEventListener("click",async function(s){MicroModal.show("modal"),e&&(e.kill(),e=null);var c,m=s.target.getAttribute("data-src")||s.target.getAttribute("src"),h=await g(m);u.style.width=h.width+"px",u.style.height=h.height+"px",e=new Swipe(b,{startSlide:i,draggable:!0,autoRestart:!1,continuous:!1,disableScroll:!0,stopPropagation:!0,callback:async function(e,t){var s,n=t.querySelector("img"),c=n.getAttribute("data-src")||n.getAttribute("src"),i=await g(c);n.style.width=i.width+"px",n.style.height=i.height+"px",r&&n&&(s=null,n.getAttribute("data-caption")?s=n.getAttribute("data-caption"):n.getAttribute("title")?s=n.getAttribute("title"):n.getAttribute("alt")?s=n.getAttribute("alt"):s=n.getAttribute("src"),r.querySelector(".modal__caption--text").innerText=s,d.innerText=e+1+" / "+a,clearTimeout(l),fadeIn(o,200))}}),fadeIn(o),r&&(c=null,s.target.getAttribute("data-caption")?c=s.target.getAttribute("data-caption"):s.target.getAttribute("title")?c=s.target.getAttribute("title"):s.target.getAttribute("alt")?c=s.target.getAttribute("alt"):c=s.target.getAttribute("src"),r.querySelector(".modal__caption--text").innerText=c,d.innerText=i+1+" / "+a),n&&t&&(n.style.zIndex=-1,n.style.opacity=0,t.style.zIndex=25,t.style.opacity=1)}),window.addEventListener("keydown",p)}),u?u.addEventListener("click",function(){e&&e.prev()}):null,f?f.addEventListener("click",function(){e&&e.next()}):null,h?h.addEventListener("click",function(){e&&(e.kill(),e=null),m(),MicroModal.close("modal")}):null,t?t.addEventListener("click",function(){j(),n&&(n.style.zIndex=25,n.style.opacity=1,t.style.zIndex=-1,t.style.opacity=0)}):null,n?n.addEventListener("click",function(){m(),t&&(t.style.zIndex=25,t.style.opacity=1,n.style.zIndex=-1,n.style.opacity=0)}):null})</script><div class=hide><div class=search><span class=icon><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentcolor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49.0s.41-1.08.0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg></span><input id=search aria-label="Site Search" class=input type=text placeholder=æœç´¢ autocomplete=off><div id=search-results class=dropdown><div id=search-menu class=dropdown-menu role=menu></div></div></div></div></div></main><script>var enableToc=JSON.parse("true"),toc=JSON.parse("true"),tocPosition=JSON.parse('"outer"'),singleMainElem=document.querySelector(".single__main"),singleSideElem=document.querySelector(".single__side");enquire.register("screen and (max-width: 769px)",{match:function(){(enableToc||toc)&&tocPosition!=="outer"?singleMainElem&&singleSideElem&&(singleMainElem.classList.remove("main-main"),singleMainElem.classList.add("main"),singleSideElem.classList.remove("main-side"),singleSideElem.classList.add("hide")):tocPosition==="outer"&&(singleMainElem&&!singleMainElem.classList.contains("main-main")&&(singleMainElem.classList.remove("main-main"),singleMainElem.classList.add("main")),singleSideElem&&!singleSideElem.classList.contains("hide")&&singleSideElem.classList.add("hide"))},unmatch:function(){(enableToc||toc)&&tocPosition!=="outer"?(singleMainElem.classList.remove("main"),singleMainElem.classList.add("main-main"),singleSideElem.classList.remove("hide"),singleSideElem.classList.add("main-side")):tocPosition==="outer"&&(singleMainElem&&!singleMainElem.classList.contains("main-main")&&(singleMainElem.classList.remove("main-main"),singleMainElem.classList.add("main")),singleSideElem&&!singleSideElem.classList.contains("hide")&&singleSideElem.classList.add("hide"));var t=document.querySelector(".navbar__burger"),e=document.getElementsByClassName("navbarm__collapse")[0];e&&(e.setAttribute("data-open",!1),e.style.maxHeight=0,t.classList.remove("is-active")),document.getElementsByClassName("navbar__menu")[0].classList.remove("is-active"),document.getElementsByClassName("mobile-search")[0].classList.add("hide")},setup:function(){},deferSetup:!0,destroy:function(){}})</script><script defer src=/js/helper/getParents.min.js></script>
<script defer src=/js/helper/closest.min.js></script>
<script defer src=/js/helper/prev.min.js></script>
<script defer src=/js/helper/prop.min.js></script>
<script defer src=/js/helper/fadeinout.min.js></script>
<script defer src=/js/helper/throttle.min.js></script>
<script>"use strict";window.onload=function(){var e,t,n,s,o,i,r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O,x,C,E,k,A,S,M,F,T,z,D,N,H,a=document.querySelector(".navbar"),P=document.querySelector(".single__contents"),R=JSON.parse("false"),L=JSON.parse("true");R&&L&&(y=document.querySelector("#busuanzi_value_page_pv"),y.textContent=y.textContent.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")),S=JSON.parse("true"),z=JSON.parse("true"),D=JSON.parse("false"),d=document.querySelector(".toc__flexbox"),u=document.querySelector(".toc__flexbox--outer"),x=JSON.parse("false"),(S||z)&&document.querySelector(".toc")&&(i=document.querySelector(".toc").querySelector("#TableOfContents"),i.onmouseenter=function(){a.classList.contains("scrolling")&&a.classList.remove("scrolling")},i.onmouseleave=function(){a.classList.contains("scrolling")||a.classList.add("scrolling")},!1===x||(i.querySelectorAll("ul")?i.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})}):null),i&&(i.querySelectorAll("a").length>0?i.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){var t,n=e.getAttribute("id");a.classList.contains("scrolling")||(a.classList.remove("navbar--show"),a.classList.remove("navbar--hide"),a.classList.add("navbar--hide")),document.querySelector(".toc").querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),e.classList.add("active"),t=i.querySelector('[href="#'+n+'"]'),t&&t.nextElementSibling&&(t.nextElementSibling.style.display="block"),t&&(getParents(t,"ul")?getParents(t,"ul").forEach(function(e){e.style.display="block"}):null)})}):(d&&(d.setAttribute("data-position",""),d.classList.contains("hide")||d.classList.add("hide")),u&&(u.setAttribute("data-position",""),u.classList.contains("hide")||u.classList.add("hide")))),b=document.getElementById("toggle-toc"),v=document.getElementById("visible-toc"),s=document.querySelector(".toc"),o=document.querySelector("main"),l=document.querySelector("side"),c=document.querySelector(".toc__flexbox"),b?b.addEventListener("change",function(e){e.target.checked?(s&&fadeIn(s,200),c&&c.setAttribute("data-position","fixed"),o&&(o.classList.remove("main-main"),o.classList.remove("main"),o.classList.add("main-main")),l&&l.classList.remove("main-side")):(s&&fadeOut(s,200),c&&c.setAttribute("data-position","absolute"),o&&(o.classList.remove("main-main"),o.classList.remove("main"),o.classList.add("main")),l&&l.classList.remove("main-side"))}):null,v?v.addEventListener("change",function(e){e.target.checked?s&&fadeIn(s,200):s&&fadeOut(s,200)}):null),C=120,M=70,A=function(){s&&(s.style.maxHeight=window.innerHeight-C-M+"px")},w=throttle(A,300),w(),window.addEventListener("resize",w),E=new ClipboardJS(".anchor"),j=P.querySelectorAll("h1, h2, h3, h4"),F=JSON.parse('"ltr"'),j?j.forEach(function(e){var t,s=parseInt(e.tagName.substr(1),10)*2,o=encodeURI(document.location.origin+document.location.pathname),i=o+"#"+e.getAttribute("id"),n=document.createElement("span");n.classList.add("anchor"),n.classList.add("hide"),n.setAttribute("data-clipboard-text",decodeURI(i)),n.style.position="relative",t=document.createElement("span"),t.style.position="absolute",t.style.top="50%",t.style.left="0.75rem",t.style.transform="translateY(-50%)",t.innerHTML=`
<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${32-s}px" height="${32-s}px"><path d="M 5.5625 0 C 4.136719 0 2.707031 0.542969 1.625 1.625 C -0.539063 3.789063 -0.539063 7.335938 1.625 9.5 L 5.28125 13.15625 C 5.667969 13.554688 6.304688 13.558594 6.703125 13.171875 C 7.101563 12.785156 7.105469 12.148438 6.71875 11.75 L 3.03125 8.0625 C 1.632813 6.664063 1.632813 4.429688 3.03125 3.03125 C 4.429688 1.632813 6.664063 1.632813 8.0625 3.03125 L 12.96875 7.9375 C 14.367188 9.335938 14.367188 11.570313 12.96875 12.96875 C 12.804688 13.132813 12.621094 13.25 12.4375 13.375 C 11.980469 13.6875 11.859375 14.308594 12.171875 14.765625 C 12.484375 15.222656 13.105469 15.34375 13.5625 15.03125 C 13.847656 14.835938 14.125 14.625 14.375 14.375 C 16.539063 12.210938 16.539063 8.664063 14.375 6.5 L 9.5 1.625 C 8.417969 0.542969 6.988281 0 5.5625 0 Z M 10.78125 8.875 C 10.738281 8.882813 10.695313 8.894531 10.65625 8.90625 C 10.507813 8.9375 10.371094 9 10.25 9.09375 C 10.039063 9.253906 9.820313 9.429688 9.625 9.625 C 7.460938 11.789063 7.460938 15.335938 9.625 17.5 L 14.5 22.375 C 16.664063 24.539063 20.210938 24.539063 22.375 22.375 C 24.539063 20.210938 24.539063 16.664063 22.375 14.5 L 18.71875 10.875 C 18.476563 10.578125 18.089844 10.441406 17.714844 10.527344 C 17.34375 10.613281 17.050781 10.90625 16.964844 11.277344 C 16.878906 11.652344 17.015625 12.039063 17.3125 12.28125 L 20.96875 15.9375 C 22.367188 17.335938 22.367188 19.570313 20.96875 20.96875 C 19.570313 22.367188 17.335938 22.367188 15.9375 20.96875 L 11.03125 16.0625 C 9.632813 14.664063 9.632813 12.429688 11.03125 11.03125 C 11.152344 10.90625 11.300781 10.820313 11.4375 10.71875 C 11.839844 10.472656 12.015625 9.976563 11.855469 9.53125 C 11.699219 9.085938 11.25 8.8125 10.78125 8.875 Z"/></svg>`,F==="rtl"?t.style.left="-2rem":t.style.right="-2rem",n.append(t),e.append(n),e.addEventListener("mouseenter",function(){this.querySelector(".anchor").classList.remove("hide")}),e.addEventListener("mouseleave",function(){this.querySelector(".anchor").classList.add("hide")})}):null,document.querySelectorAll(".anchor").forEach(function(e){e.addEventListener("mouseleave",function(){e.setAttribute("aria-label",null),e.classList.remove("tooltipped"),e.classList.remove("tooltipped-s"),e.classList.remove("tooltipped-w")})}),E.on("success",function(e){e.clearSelection(),e.trigger.setAttribute("aria-label","Link copied to clipboard!"),e.trigger.classList.add("tooltipped"),e.trigger.classList.add("tooltipped-s")}),t=JSON.parse("null"),t&&t.includes("mermaid")&&(O=localStorage.getItem("theme")||JSON.parse('"dark"'),O==="dark"||O==="hacker"?mermaid.initialize({theme:"dark"}):mermaid.initialize({theme:"default"}),_=[],[].push.apply(_,document.getElementsByClassName("language-mermaid")),_.forEach(function(e){var n,t=e.parentNode;t!==document.body&&(t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t)),n=document.createElement("div"),n.classList.add("mermaid"),n.style.padding="34px 4px 6px",n.innerHTML=e.innerHTML,e.replaceWith(n)})),t&&t.includes("katex")&&(N=document.getElementsByClassName("math"),r={delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]},renderMathInElement(document.querySelector(".single__contents"),r)),t&&t.includes("flowchartjs")&&(r=JSON.parse('{"arrow-end":"block","element-color":"black","fill":"white","flowstate":{"approved":{"fill":"#58C4A3","font-size":12,"no-text":"n/a","yes-text":"APPROVED"},"current":{"fill":"yellow","font-color":"red","font-weight":"bold"},"future":{"fill":"#FFFF99"},"invalid":{"fill":"#444444"},"past":{"fill":"#CCCCCC","font-size":12},"rejected":{"fill":"#C45879","font-size":12,"no-text":"REJECTED","yes-text":"n/a"},"request":{"fill":"blue"}},"font-color":"black","font-size":14,"line-color":"black","line-length":50,"line-width":3,"no-text":"no","scale":1,"symbols":{"end":{"class":"end-element"},"start":{"element-color":"green","fill":"yellow","font-color":"red"}},"text-margin":10,"x":0,"y":0,"yes-text":"yes"}'),n=null,T="language-flowchart",e=0,Array.prototype.forEach.call(document.querySelectorAll("[class^="+T+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var o,s=document.createElement("div");s.id="flowchart"+e,t.parentNode.insertBefore(s,t),o=flowchart.parse(n),o.drawSVG("flowchart"+e,r),e+=1})),document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"}),t&&t.includes("msc")&&(r=JSON.parse('{"theme":"hand"}'),n=null,e=0,h="language-msc",Array.prototype.forEach.call(document.querySelectorAll("[class^="+h+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var o,s=document.createElement("div");s.id="msc"+e,t.parentNode.insertBefore(s,t),o=Diagram.parse(n),o.drawSVG("msc"+e,r),e+=1})),t&&t.includes("chart")&&(m="#666",f="#ddd",p=2,Chart.defaults.global.elements.rectangle.borderWidth=p,Chart.defaults.global.elements.rectangle.borderColor=m,Chart.defaults.global.elements.rectangle.backgroundColor=f,Chart.defaults.global.elements.line.borderWidth=p,Chart.defaults.global.elements.line.borderColor=m,Chart.defaults.global.elements.line.backgroundColor=f,Chart.defaults.global.elements.point.borderWidth=p,Chart.defaults.global.elements.point.borderColor=m,Chart.defaults.global.elements.point.backgroundColor=f,h="language-chart",e=0,n=null,Array.prototype.forEach.call(document.querySelectorAll("[class^="+h+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var i,a,s=document.createElement("canvas"),o=null;s.height=200,s.style.height=200,s.id="myChart"+e,o=JSON.parse(n),t.parentNode.insertBefore(s,t),i=document.getElementById("myChart"+e).getContext("2d"),a=new Chart(i,o),e+=1})),t&&t.includes("wavedrom")&&(k="language-wave",e=0,n=null,Array.prototype.forEach.call(document.querySelectorAll("[class^="+k+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var s=document.createElement("div"),o=null;s.id="WaveDrom_Display_"+e,o=JSON.parse(n),t.parentNode.insertBefore(s,t),WaveDrom.RenderWaveForm(e,o,"WaveDrom_Display_"),e+=1})),t&&t.includes("viz")&&(g="language-viz-",Array.prototype.forEach.call(document.querySelectorAll("[class^="+g+"]"),function(e){e.style.display="none",e.parentNode.style.backgroundColor="transparent",e.getAttribute("class").split(" ").forEach(function(e){e.startsWith(g)&&(t=e.substr(g.length))});var t,n=new Viz;n.renderSVGElement(e.innerText,{engine:t}).then(function(t){t.style.width="100%",e.parentNode.insertBefore(t,e)})}))}</script><footer class=footer><div class=footer__social><div class=social><a href=hex-go@qq.com title=email aria-label=email><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25-7.07 4.42c-.32.2-.74.2-1.06.0L4.4 8.25c-.25-.16-.4-.43-.4-.72.0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72.0.29-.15.56-.4.72z"/></svg></a><a href=https://github.com/hex-go title=github aria-label=github><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24"><g id="surface3680"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></g></svg></a><a href=155****8922 title=phone aria-label=phone><svg fill="#000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32"><path fill="currentcolor" d="M8.65625 3c-.523437.0-1.039062.1875-1.46875.53125L7.125 3.5625l-.03125.03125-3.125 3.21875L4 6.84375c-.964844.890625-1.261719 2.222656-.84375 3.375C3.160156 10.226563 3.152344 10.242188 3.15625 10.25c.847656 2.425781 3.015625 7.109375 7.25 11.34375 4.25 4.25 8.996094 6.332031 11.34375 7.25h.03125C22.996094 29.25 24.3125 28.960938 25.25 28.15625L28.40625 25c.828125-.828125.828125-2.265625.0-3.09375l-4.0625-4.0625-.03125-.0625c-.828125-.828125-2.296875-.828125-3.125.0l-2 2C18.464844 19.433594 16.742188 18.542969 15.09375 16.96875c-1.636719-1.5625-2.472656-3.359375-2.78125-4.0625l2-2C15.152344 10.066406 15.167969 8.667969 14.28125 7.84375l.03125-.03125-.09375-.09375-4-4.125-.03125-.03125-.0625-.03125C9.695313 3.1875 9.179688 3 8.65625 3zm0 2C8.730469 5 8.804688 5.035156 8.875 5.09375l4 4.09375.09375.09375C12.960938 9.273438 13.027344 9.378906 12.90625 9.5l-2.5 2.5-.46875.4375.21875.625s1.148438 3.074219 3.5625 5.375l.21875.1875C16.261719 20.746094 19 21.90625 19 21.90625l.625.28125 2.96875-2.96875c.171875-.171875.140625-.171875.3125.0L27 23.3125c.171875.171875.171875.109375.0.28125l-3.0625 3.0625C23.476563 27.050781 22.988281 27.132813 22.40625 26.9375c-2.265625-.890625-6.667969-2.824219-10.59375-6.75-3.957031-3.957031-6.023437-8.445312-6.78125-10.625C4.878906 9.15625 4.988281 8.554688 5.34375 8.25l.0625-.0625L8.4375 5.09375C8.507813 5.035156 8.582031 5 8.65625 5z"/></svg></a><a href=https://hex-go.github.io/posts/index.xml type=application/rss+xml title=RSS aria-label="RSS Feed Link"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><circle fill="currentcolor" cx="6.18" cy="17.82" r="2.18"/><path fill="currentcolor" d="M5.59 10.23c-.84-.14-1.59.55-1.59 1.4.0.71.53 1.28 1.23 1.4 2.92.51 5.22 2.82 5.74 5.74.12.7.69 1.23 1.4 1.23.85.0 1.54-.75 1.41-1.59-.68-4.2-3.99-7.51-8.19-8.18zm-.03-5.71C4.73 4.43 4 5.1 4 5.93c0 .73.55 1.33 1.27 1.4 6.01.6 10.79 5.38 11.39 11.39.07.73.67 1.28 1.4 1.28.84.0 1.5-.73 1.42-1.56-.73-7.34-6.57-13.19-13.92-13.92z"/></svg></a></div></div><div id=gtt><div class=gtt><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentcolor" d="M8.12 14.71 12 10.83l3.88 3.88c.39.39 1.02.39 1.41.0s.39-1.02.0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41.0L6.7 13.3c-.39.39-.39 1.02.0 1.41.39.38 1.03.39 1.42.0z"/></svg></div></div><hr><div class="basicflex flexwrap"><a href=https://hex-go.github.io/page/friend class=footer__link target=_blank rel=noreferrer>å‹é“¾</a>
<a href=https://hex-go.github.io/archive class=footer__link target=_blank rel=noreferrer>å½’æ¡£</a></div><div class=footer__poweredby><p class=caption>Â©2024, All Rights Reserved</p><p class=caption>ç”± <a href=https://gohugo.io>Hugo</a> å¼ºåŠ›é©±åŠ¨ &nbsp;&bull;&nbsp; ä¸»é¢˜ <a href=https://github.com/zzossig/hugo-theme-zzo>Zzo</a></p></div></footer></div><div class="wrapper__right hide" data-pad=true dir=ltr><script>document.querySelector(".wrapper__right").classList.remove("hide")</script><div class=toc__flexbox--outer data-position=fixed data-dir=ltr data-ani=true><h6 class="toc__title toc__title--outer" data-ani=true>ç›®å½•</h6><label class=switch data-ani=true><input id=visible-toc aria-label="Visible TOC" type=checkbox checked>
<span class="slider round"></span></label></div><div class="toc toc__outer" data-dir=ltr data-folding=false data-ani=true><nav id=TableOfContents><ul><li><a href=#1å¦‚ä½•çœ‹å½“å‰linuxç³»ç»Ÿæœ‰å‡ é¢—ç‰©ç†cpuå’Œæ¯é¢—cpuçš„æ ¸æ•°>1ã€å¦‚ä½•çœ‹å½“å‰Linuxç³»ç»Ÿæœ‰å‡ é¢—ç‰©ç†CPUå’Œæ¯é¢—CPUçš„æ ¸æ•°ï¼Ÿ</a></li><li><a href=#2æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„å‘½ä»¤æ˜¯å“ªä¸¤ä¸ªè¿™ä¸‰ä¸ªæ•°å€¼è¡¨ç¤ºä»€ä¹ˆå«ä¹‰å‘¢>2ã€æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„å‘½ä»¤ï¼Œæ˜¯å“ªä¸¤ä¸ªï¼Ÿè¿™ä¸‰ä¸ªæ•°å€¼è¡¨ç¤ºä»€ä¹ˆå«ä¹‰å‘¢ï¼Ÿ</a></li><li><a href=#3vmstat-r-b-si-so-bi-bo-è¿™å‡ åˆ—è¡¨ç¤ºä»€ä¹ˆå«ä¹‰å‘¢>3ã€vmstat r, b, si, so, bi, bo è¿™å‡ åˆ—è¡¨ç¤ºä»€ä¹ˆå«ä¹‰å‘¢ï¼Ÿ</a></li><li><a href=#4linuxç³»ç»Ÿé‡Œæ‚¨çŸ¥é“bufferå’Œcacheå¦‚ä½•åŒºåˆ†å—>4ã€linuxç³»ç»Ÿé‡Œï¼Œæ‚¨çŸ¥é“bufferå’Œcacheå¦‚ä½•åŒºåˆ†å—ï¼Ÿ</a></li><li><a href=#5ä½¿ç”¨topæŸ¥çœ‹ç³»ç»Ÿèµ„æºå ç”¨æƒ…å†µæ—¶å“ªä¸€åˆ—è¡¨ç¤ºå†…å­˜å ç”¨å‘¢>5ã€ä½¿ç”¨topæŸ¥çœ‹ç³»ç»Ÿèµ„æºå ç”¨æƒ…å†µæ—¶ï¼Œå“ªä¸€åˆ—è¡¨ç¤ºå†…å­˜å ç”¨å‘¢ï¼Ÿ</a></li><li><a href=#6å¦‚ä½•å®æ—¶æŸ¥çœ‹ç½‘å¡æµé‡ä¸ºå¤šå°‘å¦‚ä½•æŸ¥çœ‹å†å²ç½‘å¡æµé‡>6ã€å¦‚ä½•å®æ—¶æŸ¥çœ‹ç½‘å¡æµé‡ä¸ºå¤šå°‘ï¼Ÿå¦‚ä½•æŸ¥çœ‹å†å²ç½‘å¡æµé‡ï¼Ÿ</a></li><li><a href=#7å¦‚ä½•æŸ¥çœ‹å½“å‰ç³»ç»Ÿéƒ½æœ‰å“ªäº›è¿›ç¨‹>7ã€å¦‚ä½•æŸ¥çœ‹å½“å‰ç³»ç»Ÿéƒ½æœ‰å“ªäº›è¿›ç¨‹ï¼Ÿ</a></li><li><a href=#8ps-æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹æ—¶æœ‰ä¸€åˆ—ä¸ºstat-å¦‚æœå½“å‰è¿›ç¨‹çš„statä¸ºss-è¡¨ç¤ºä»€ä¹ˆå«ä¹‰å¦‚æœä¸ºzè¡¨ç¤ºä»€ä¹ˆå«ä¹‰>8ã€ps æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹æ—¶ï¼Œæœ‰ä¸€åˆ—ä¸ºSTATï¼Œ å¦‚æœå½“å‰è¿›ç¨‹çš„statä¸ºSs è¡¨ç¤ºä»€ä¹ˆå«ä¹‰ï¼Ÿå¦‚æœä¸ºZè¡¨ç¤ºä»€ä¹ˆå«ä¹‰ï¼Ÿ</a></li><li><a href=#9å¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿéƒ½å¼€å¯äº†å“ªäº›ç«¯å£>9ã€å¦‚ä½•æŸ¥çœ‹ç³»ç»Ÿéƒ½å¼€å¯äº†å“ªäº›ç«¯å£ï¼Ÿ</a></li><li><a href=#10å¦‚ä½•æŸ¥çœ‹ç½‘ç»œè¿æ¥çŠ¶å†µ>10ã€å¦‚ä½•æŸ¥çœ‹ç½‘ç»œè¿æ¥çŠ¶å†µï¼Ÿ</a></li><li><a href=#11æƒ³ä¿®æ”¹ipéœ€è¦ç¼–è¾‘å“ªä¸ªé…ç½®æ–‡ä»¶ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åå¦‚ä½•é‡å¯ç½‘å¡ä½¿é…ç½®ç”Ÿæ•ˆ>11ã€æƒ³ä¿®æ”¹ipï¼Œéœ€è¦ç¼–è¾‘å“ªä¸ªé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åï¼Œå¦‚ä½•é‡å¯ç½‘å¡ï¼Œä½¿é…ç½®ç”Ÿæ•ˆï¼Ÿ</a></li><li><a href=#12èƒ½å¦ç»™ä¸€ä¸ªç½‘å¡é…ç½®å¤šä¸ªip-å¦‚æœèƒ½æ€ä¹ˆé…ç½®>12ã€èƒ½å¦ç»™ä¸€ä¸ªç½‘å¡é…ç½®å¤šä¸ªIP? å¦‚æœèƒ½ï¼Œæ€ä¹ˆé…ç½®ï¼Ÿ</a></li><li><a href=#13å¦‚ä½•æŸ¥çœ‹æŸä¸ªç½‘å¡æ˜¯å¦è¿æ¥ç€äº¤æ¢æœº>13ã€å¦‚ä½•æŸ¥çœ‹æŸä¸ªç½‘å¡æ˜¯å¦è¿æ¥ç€äº¤æ¢æœºï¼Ÿ</a></li><li><a href=#14å¦‚ä½•æŸ¥çœ‹å½“å‰ä¸»æœºçš„ä¸»æœºåå¦‚ä½•ä¿®æ”¹ä¸»æœºåè¦æƒ³é‡å¯åä¾æ—§ç”Ÿæ•ˆéœ€è¦ä¿®æ”¹å“ªä¸ªé…ç½®æ–‡ä»¶å‘¢>14ã€å¦‚ä½•æŸ¥çœ‹å½“å‰ä¸»æœºçš„ä¸»æœºåï¼Œå¦‚ä½•ä¿®æ”¹ä¸»æœºåï¼Ÿè¦æƒ³é‡å¯åä¾æ—§ç”Ÿæ•ˆï¼Œéœ€è¦ä¿®æ”¹å“ªä¸ªé…ç½®æ–‡ä»¶å‘¢ï¼Ÿ</a></li><li><a href=#15è®¾ç½®dnséœ€è¦ä¿®æ”¹å“ªä¸ªé…ç½®æ–‡ä»¶>15ã€è®¾ç½®DNSéœ€è¦ä¿®æ”¹å“ªä¸ªé…ç½®æ–‡ä»¶ï¼Ÿ</a></li><li><a href=#16ä½¿ç”¨iptables-å†™ä¸€æ¡è§„åˆ™æŠŠæ¥æºipä¸º1921681101è®¿é—®æœ¬æœº80ç«¯å£çš„åŒ…ç›´æ¥æ‹’ç»>16ã€ä½¿ç”¨iptables å†™ä¸€æ¡è§„åˆ™ï¼šæŠŠæ¥æºIPä¸º192.168.1.101è®¿é—®æœ¬æœº80ç«¯å£çš„åŒ…ç›´æ¥æ‹’ç»</a></li><li><a href=#17è¦æƒ³æŠŠiptableçš„è§„åˆ™ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­å¦‚ä½•åšå¦‚ä½•æ¢å¤>17ã€è¦æƒ³æŠŠiptableçš„è§„åˆ™ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­å¦‚ä½•åšï¼Ÿå¦‚ä½•æ¢å¤ï¼Ÿ</a></li><li><a href=#18å¦‚ä½•å¤‡ä»½æŸä¸ªç”¨æˆ·çš„ä»»åŠ¡è®¡åˆ’>18ã€å¦‚ä½•å¤‡ä»½æŸä¸ªç”¨æˆ·çš„ä»»åŠ¡è®¡åˆ’ï¼Ÿ</a></li><li><a href=#24æŸä¸ªè´¦å·ç™»é™†linuxåç³»ç»Ÿä¼šåœ¨å“ªäº›æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•ç›¸å…³ä¿¡æ¯>24ã€æŸä¸ªè´¦å·ç™»é™†linuxåï¼Œç³»ç»Ÿä¼šåœ¨å“ªäº›æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•ç›¸å…³ä¿¡æ¯ï¼Ÿ</a></li><li><a href=#25ç½‘å¡æˆ–è€…ç¡¬ç›˜æœ‰é—®é¢˜æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å“ªä¸ªå‘½ä»¤æŸ¥çœ‹ç›¸å…³ä¿¡æ¯>25ã€ç½‘å¡æˆ–è€…ç¡¬ç›˜æœ‰é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å“ªä¸ªå‘½ä»¤æŸ¥çœ‹ç›¸å…³ä¿¡æ¯ï¼Ÿ</a></li><li><a href=#å‚è€ƒé“¾æ¥>å‚è€ƒé“¾æ¥</a></li></ul></nav></div></div></div></body></html>